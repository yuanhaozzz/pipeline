"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[861],{73668:function(In,an,l){l.d(an,{Rq:function(){return Ue},Fo:function(){return $e}});var on=l(61781),ke=l(55241),qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAzUExURQAAAP+sr/+2tP/Hx//V1/3x7s3ap7L7q6j+p6L9n5T/mMbwucP/wd3/3sIAAAeAAv///1V5k7wAAAABdFJOUwBA5thmAAAAAWJLR0QQlbINLAAAAAd0SU1FB+cLAgYKMbXw7AIAAAB7SURBVBjTLY8BDsAgCAMFdApz2/9/uxYkpqHNCdqaKEtQLUvMeu+GSCtR62MMS6YIImb0WgRnXHPN5e4RJETutfe9J7xHBj73Mx4mDHDH14uaFAehGsG+BENFgywP5BDpMuYaRfd9cJR8C1uYlAwie085BOmS+vKZySU/vxEGmd79oWgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMTEtMDJUMDY6MTA6NDkrMDA6MDBweB77AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTExLTAyVDA2OjEwOjM4KzAwOjAwrZek6gAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0xMS0wMlQwNjoxMDo0OSswMDowMFYwh5gAAAAASUVORK5CYII=",q="data:image/png;base64,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",Xe=l(57132),Ee=l(65184),ln="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADddJREFUeF7tnV+IJNUVxs+pHnZFEvohBtddHwxJNOiTMaDRVTeoZARJ9CEiJIHoisGRmbpFx4gwkjZuECM9dWsmrjFkNZA/SPLgalZYyGr8E6Ib4goBE0NCkMQdFyLqkIS4S3edcJdeGc3O9K1b1T1dfb6CpR/2nHPv+X319Z3urrrFhAMEQGBNAgw2IAACaxOAQXB2gMA6BGAQnB4gAIPgHACBMAJYQcK4IUsJARhEidBoM4wADBLGDVlKCMAgSoRGm2EEYJAwbshSQgAGUSI02gwjAIOEcUOWEgIwiBKh0WYYARgkjBuylBCAQZQIjTbDCMAgYdyQpYQADKJEaLQZRgAGCeOGLCUEYBAlQqPNMAIwSBg3ZCkhAIMoERpthhGAQcK4IUsJARhEidBoM4wADBLGDVlKCMAgSoRGm2EEYJAwbshSQgAGUSI02gwjAIOEcUOWEgIwiBKh0WYYARgkjBuylBCAQZQIjTbDCMAgYdyQpYQADKJEaLQZRgAGCeOGLCUEYBAlQqPNMAIwSBg3ZCkhAIMoERpthhGAQcK4IUsJARhEidBoM4wADBLGDVlKCMAgSoRGm2EEYJAwbshSQgAGUSI02gwjAIOEcUOWEgIwiBKh0WYYARgkjBuylBCAQZQIjTbDCMAgYdyQpYQADKJEaLQZRgAGCeOGLCUEYBAlQqPNMAIwSBg3ZCkhAIMoERpthhGAQcK4IUsJARhEidBoM4wADBLGDVlKCMAgSoRGm2EEYJAwbshSQgAG2QChW63Wad1udyszbxMR97qViLYRkXt1xzIRHRaRZWZeFpHDU1NTy51O580NmK7qIWGQEcgfx/GFRHQZM1/qXomoGTIsM79NRE+7f8z8wsLCwsshdZDjTwAG8WflHdlqtS7odrs7mPliIrqEiE73Ti4W6FaX55j5YKPReL7T6bxULB3RgwjAIIMIFfj/ubm57Y1G4yYRubFAWmWhzPxIr9d7eHFx8TeVFVVeCAap4ARIkuTKPM93MvMNFZQrXUJEHo2iaE+apgdKF1NeAAYpcQLEcXwNM+8komtLlBlm6l4R2ZNl2b5hDjLJtWGQAHXb7famlZWVXSJye0D6yFOY+f5msznfbrePjXzwmg8IgxQU0Bizg4juIaLtBVM3Otx9LrnLWvvMRk+kTuPDIAXUMsbcSUS7iCgqkDZOoTkRzVtr7x2nSY3zXGAQD3Varda5eZ7fJyLXeISPfQgz74ui6I5Op/PHsZ/sBk8QBhkggDNHr9f7ORGdt8FaVT38K41G43qYZH2sMMg6fCbYHCe6hkkGvO3AIGsAUmAOmMRjTYZBTgJJkTlgEqwgHm8Tq0IUmgMmWecUwQqyCk673Z5aWVnZLyJXFLPVZEQz81PNZnO63W53J6Oj8l3AIKsYGmMWiWi2PNZaV1iy1s7VuoMKJw+D9GEaY24lot0Vsl2v1Osi8gQzvyoiR6IoOkJEbxw9etS90ubNm7cQ0Rl5nm9h5i0icjYzu99gzhrR/GastQ+OaKyxHgYGIaIkSS7P83w/M58yRLUO9W92ejL0cg934xUzX01E00TkbsIayiEi70ZRNJ2m6bNDGaBGRdUbZHZ29qONRmM/EX16SLq5S84fsNburbK+McZdQXwbEV1ZZd1VtQ71er3ppaWlfw6pfi3KqjeIMeYhIrqlarVE5EVnjCzLflJ17dX14jj+ijMKM180hHF+YK39+hDq1qakaoPMzc1dEEXR74eg1h3W2u8Ooe6aJZMkmRcRd5VxpUee559ZXFxUeyuvaoMMY/UQkS9mWfZEpWepZzFjjCGi1DPcN0z1KqLWIMNYPUTkU1mW/dn3zBtGXJIkl7qNHKqsrXkVUWuQqlcPa+1YsTTGSIUmUbuKjJWoFQq6bqmqVw9mvixN0+dHNX+fceI4Psf9zuIT6xOjdRVRaZCKV4/EWmt9TrJRx8Rx/AVmfryicVWuIuoM0m63T33nnXf+VsVmbsx8V5qm7hbcsT2MMd8kovsqmOAbzPzxNE3/W0Gt2pRQZ5D+Vj2/LKuQ+50jy7LPlq0zivw4jl+o4ncSZr5K215bGg2ywMxJ2RNTRL467B8By87xRL77MZGZf1y2HjN/O03Tb5WtU6d8dQYxxvyWiMq+8x+w1l5VJ6GNMb+q4LKUZ6y1n6tT32XnqsogblPpXq/3uwq27bmu6murygo5KL9/7dZjg+IG/H8uIudnWfaHknVqk67KIMYYd6+Hu+ejzHHQWjuM657KzMkr1xjjLhkpdVEmM9+apun3vQacgKB1DZIkySdE5MwJ6PNECzcT0ZdL9nO3tbZdssaGpBtj7ieib5Qc3H2WebhkjXFKf81a+9paE/o/gyRJMpPn+c3MfA4RnTpOnYzDXETkoizLDo7DXIrOob9t6q+L5k16vIi8zcxuE70fWmt/tLrf9wzSvy/iZxV8kJtknu7d5mN1btAY8w8imqS/CqqW431fwBw3yOzs7JmNRsOBw7EOARH5XpZltb5nPY7jB5h5BkKvS+C9N8LjBonj+BAznw9oAwnMWWuXBkaNcUBFX1SMcYeVTe34PT1sjHEfOFX9+BOKUESuz7LsF6H545AXx/GXmNntNYxjAAFm/rwzyCNE9DXQGkxgHK/aHTzr90cM436RonOoUfy8M4h7sIp7EiuOwe8on0zT9K91BtX/6v4vde5hhHN/3BnE7Vpx2ggHre1Qx44d+/Du3bv/XdsGiGhmZuZDmzZt+ledexjV3EVkGQYpQBsGKQBrMkLfwp9YBYRkZvyJVYDXBIQexIf0AiriQ3oBWJMR+lN8zVtASHzNWwDWZITejR8KiwmJHwqL8apz9F5r7XW41KSAhLjUpACsmocy80fSNH0LFysWExIXKxbjVcfoP7lHTaRp6jb2IFzuXlBCXO5eEFg9wv9DRG4Pscestd9ZPWXcMFVcQNwwNUE3TDHz30+sFic7FXDLbXGD4JZb3HJb/KypQwY2bSBs2lDwRFW1gjg22Pan4Bny/nBs+1MKXw2S4zjGxnGBOmHjuEBwdUrD1qPhamHr0XB2tcnE5tXBUmHz6mB0NUvE4w+CBMPjD4Kw1TAJD9ApLhoeoFOcWa0zKl5FCI9gq/XpsObk1X3Ne4JE1auIq4uHeE6eSdQapP+byENEdEuVsuIx0FXS3Phaqg0yjFWkL+nxTcdGKW+SJPMick/VY2r97HGCo2qDDGsV6f+59SIRPTDsp1C5p0cR0W1VPGLtJOZS+c3Vag7qDdLftHt/2edmrPPOfcAZpeoH7vQfiHPbEDcbP9Tr9aaXlpbctlBqD/UGcconSXJ5nuf7mfmUIZ4Jh4joaSJ60lr7TMg4cRxfyMxXE9E0EV0YUsMnR0TejaJoOk3TZ33iJzkGBumra4y5lYh2j0js10XkCWZ+VUSORFF0hIjeOHr0qHulzZs3byGiM/I838LMW0TkbHeXGxGdNaL5zVhrHxzRWGM9DAyySh5jjHs8W60fb1DB2bZkrZ2roM5ElIBBVsnYbrenVlZW9ovIFROhbsEmmPmpZrM53W63uwVTJzYcBvmAtK1W69xer+ceD3DexKp+8sZeaTQa13c6HfcoMhx9AjDISU4FhSaBOdZ4S4BB1gCjyCQwxzrrJQyyDhwFJoE5BvwxCYMMADTBJoE5PD5pwSAekJxJ8jy/T0TcbxG1P5h5XxRFd+AD+WApYZDBjN6LMMbcSUS7iCgqkDZOoTkRzVtr7x2nSY3zXGCQguoYY3YQkbtqdnvB1I0Od8+ivCv0MpeNnvxGjQ+DBJBvt9ubVlZWdonI7QHpI09h5vubzeZ8u90+NvLBaz4gDFJCwP4WQjuJ6NoSZYaZuldE9mRZtm+Yg0xybRikAnWTJLkyz/OdzHxDBeVKlxCRR6Mo2pOmqbvUHkcJAjBICXgfTJ2bm9veaDRuEpEbKyzrXYqZH+n1eg8vLi66zxs4KiAAg1QA8YMl3CbZ3W53BzNfTESXENHpQxjGlVwWkeeY+WCj0Xi+0+m8NKRx1JaFQUYgvbvRiYguY+ZL3SsRNUOGZea3+zddPc3MLywsLLwcUgc5/gRgEH9WlUW2Wq3Tut3uVmbeJiLudSsRbSMi93p8ZSCiwyKyzMxulTg8NTW13Ol03qxsEijkRQAG8cKEIK0EYBCtyqNvLwIwiBcmBGklAINoVR59exGAQbwwIUgrARhEq/Lo24sADOKFCUFaCcAgWpVH314EYBAvTAjSSgAG0ao8+vYiAIN4YUKQVgIwiFbl0bcXARjECxOCtBKAQbQqj769CMAgXpgQpJUADKJVefTtRQAG8cKEIK0EYBCtyqNvLwIwiBcmBGklAINoVR59exGAQbwwIUgrARhEq/Lo24sADOKFCUFaCcAgWpVH314EYBAvTAjSSgAG0ao8+vYiAIN4YUKQVgIwiFbl0bcXARjECxOCtBKAQbQqj769CMAgXpgQpJUADKJVefTtRQAG8cKEIK0EYBCtyqNvLwIwiBcmBGklAINoVR59exGAQbwwIUgrARhEq/Lo24sADOKFCUFaCcAgWpVH314EYBAvTAjSSgAG0ao8+vYiAIN4YUKQVgIwiFbl0bcXARjECxOCtBKAQbQqj769CMAgXpgQpJUADKJVefTtRQAG8cKEIK0EYBCtyqNvLwIwiBcmBGklAINoVR59exGAQbwwIUgrARhEq/Lo24sADOKFCUFaCcAgWpVH314EYBAvTAjSSgAG0ao8+vYi8D9hSxG0kR89iQAAAABJRU5ErkJggg==",P=l(74877),A=l(86074),$=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:7;return p=p||"",(0,A.jsx)("div",{children:p.length>te?(0,A.jsx)(on.Z,{overlayClassName:"packagingService-antd-Tooltip-container",title:(0,A.jsx)("div",{style:{whiteSpace:"pre-wrap",padding:"6px 8px"},onClick:function(he){return he.stopPropagation()},children:p}),children:(0,A.jsx)("div",{style:{cursor:"pointer"},children:p.slice(0,te)+"..."})}):p})},Z=function(p){var te;return(0,A.jsx)(A.Fragment,{children:(te=p.patchsets)===null||te===void 0?void 0:te.map(function(_){return(0,A.jsxs)("div",{className:"flex-start",children:[(0,A.jsx)("img",{src:qe,style:{width:"14px"}}),"\xA0",(0,A.jsx)("span",{className:"".concat((0,P.UO)(_==null?void 0:_.url)&&"common-Jumpable-color"),onClick:function(){return ce(_==null?void 0:_.url)},children:_.patchset}),"\xA0\xA0",(0,A.jsx)(Xe.Z,{className:"copy",style:{float:"right"},onClick:function(Ve){Ve.stopPropagation(),(0,P.zp)((_==null?void 0:_.patchset)||"")}})]})})})},We=function(p){var te;if(typeof p.patchset=="string"&&p.patchset)return Z({patchsets:[{patchset:p.patchset,url:p.http_url}]});if((p==null||(te=p.patchsets)===null||te===void 0?void 0:te.length)>0){var _,he;return(p==null||(_=p.patchsets)===null||_===void 0?void 0:_.length)===1?Z(p):(0,A.jsxs)(ke.Z,{placement:"top",title:"",content:Z(p),children:[(0,A.jsx)("img",{src:qe,style:{width:"14px"}}),"\xA0",p==null||(he=p.patchsets)===null||he===void 0||(he=he[0])===null||he===void 0?void 0:he.patchset," ..."]})}return p.tag?(0,A.jsxs)("div",{className:"flex-start",children:[(0,A.jsx)("img",{src:q,style:{width:"14px"}}),"\xA0",p.tag,"\xA0",(0,A.jsx)(Xe.Z,{className:"copy",style:{color:"#707070"},onClick:function(h){h.stopPropagation(),(0,P.zp)(p.tag)}})]}):!p.after_sha&&p.branch?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ee.Z,{style:{color:"#707070",fontSize:"13px"}}),"\xA0 ",$(p.branch,20)]}):(0,A.jsxs)("div",{className:"flex-start",children:[p.branch&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ee.Z,{style:{color:"#707070",fontSize:"13px"}}),"\xA0 ",$(p.branch)]}),p.after_sha&&(0,A.jsxs)(A.Fragment,{children:["\xA0|\xA0",(0,A.jsx)("img",{src:ln,style:{width:"20px"}}),"\xA0 ",$(p.after_sha,4)," \xA0",(0,A.jsx)(Xe.Z,{className:"copy",style:{color:"#707070"},onClick:function(h){h.stopPropagation(),(0,P.zp)(p.after_sha)}})]})]})},ce=function(p){p&&window.open(p)},Ue=function(p){return(0,A.jsx)("div",{className:"flex-start ".concat(p.http_url&&"common-Jumpable-color"),onClick:function(){return ce(p.http_url)},children:We(p)})},Ge=function(p){switch(p){case"pending":case"running":return _jsx(LoadingOutlined,{style:{color:"rgba(64, 158, 255, 1)",fontSize:"14px"}});case"canceled":return _jsx(StopOutlined,{style:{color:"#f6b026",fontSize:"14px"}});case"success":return _jsx(CheckCircleOutlined,{style:{color:"#4dcb4f",fontSize:"14px"}});case"failed":return _jsx(CloseCircleOutlined,{style:{color:"#e23f3c",fontSize:"14px"}})}},U=function(p){switch(p){case"pending":case"running":return"\u7F16\u8BD1\u4E2D";case"canceled":return"\u7F16\u8BD1\u53D6\u6D88";case"success":return"\u7F16\u8BD1\u6210\u529F";case"failed":return"\u7F16\u8BD1\u5931\u8D25";default:return[]}},Oe=function(){var p=location.host,te="p-66626b6764c443ccae120bb2b841d0ea";return p.includes("dolphin.enflame.cn")&&(te="p-8f982dd63f5d4f478575604a33d4f5db"),te},$e=function(p){switch(p){case"gerrit":return(0,A.jsx)("img",{src:"http://xnas.enflame.cn/dolphin/gerrit.png",style:{width:"16px",display:"inline-block"}});default:return(0,A.jsx)("img",{src:"http://xnas.enflame.cn/dolphin/gitlab-logo-1.svg",style:{width:"16px",display:"inline-block"}})}}},4861:function(In,an,l){l.d(an,{Z:function(){return sn}});var on=l(15009),ke=l.n(on),qe=l(97857),q=l.n(qe),Xe=l(19632),Ee=l.n(Xe),ln=l(99289),P=l.n(ln),A=l(5574),$=l.n(A),Z=l(62435),We=l(96456),ce=l(81182),Ue=l(68872),Ge=l(59259),U=l(77683),Oe=l(61781),$e=l(14754),pe=l(52610),p=l(74877),te=l(70732),_=l(66126),he=l(9347),Ve=l(2331),h=l(86074);function un(ge,b){var M=ge.stages,N=M===void 0?[]:M,H=ge.selectData,T=H===void 0?[]:H,x=(0,Z.useState)([]),S=$()(x,2),u=S[0],B=S[1],m=(0,Z.useState)([]),g=$()(m,2),i=g[0],j=g[1],K=(0,Z.useState)([]),ve=$()(K,2),Q=ve[0],ae=ve[1],O=(0,Z.useRef)(null);(0,Z.useImperativeHandle)(b,function(){return ee}),(0,Z.useEffect)(function(){var G;clearTimeout((G=O.current)===null||G===void 0?void 0:G.pipelineTimer),O.current.pipelineTimer=setTimeout(function(){De()},300)},[N,T]);var ee=function(){return console.log(O.current.checkedData),O.current.checkedData},ie=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return E=E||"",(0,h.jsx)("div",{children:(0,h.jsx)(Oe.Z,{title:(0,h.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:E}),children:(0,h.jsx)("div",{style:{cursor:"pointer"},className:"content",children:E})})})},De=function(){if(O.current&&(O.current.checkedData=[]),N.length>0){var E=[],C=[],D=[];N.forEach(function(w,v){var fe=w.name,Re=w.id,L={id:Re,key:v+"",title:(0,h.jsx)("div",{className:"stage",children:ie(fe)}),index:v+"",children:[]};D.push(v+""),E.push(L),O.current.checkedData[v]=[];var ye=O.current.checkedData[v],Se=T[v];(!Se||Se&&Se.selectable)&&(ye.push(L.key),C.push(N.key)),w.jobs.forEach(function(Te,oe){var Ce,k,je=Te.name,xe=Te.id,Me={id:xe,title:(0,h.jsxs)("div",{className:"job flex-start",children:[(0,h.jsxs)("div",{className:"job-index flex-center",children:[v+1,"-",oe+1]}),(0,h.jsx)("div",{className:"job-name",children:ie(je)})]}),key:"".concat(v,"-").concat(oe),index:"".concat(v,"-").concat(oe),children:[]},Qe=(Ce=T[v])===null||Ce===void 0?void 0:Ce.jobs[oe];(!T[v]||Qe&&Qe.selectable===!0)&&w.jobs[oe].tasks.every(function(ue){return ue.selectable===!0})&&(C.push(Me.key),ye.push(Me.key)),Qe!=null&&Qe.selectable&&!((k=T[v])!==null&&k!==void 0&&(k=k.jobs[oe])!==null&&k!==void 0&&k.tasks)&&(C.push(Me.key),ye.push(Me.key)),w.jobs[oe].tasks.forEach(function(ue,Fe){var be,Le,en=ue.name,ne=ue.id,Be={id:ne,title:(0,h.jsxs)("div",{className:"task flex-start",children:[(0,h.jsx)("div",{className:"task-index flex-center"}),(0,h.jsx)("div",{className:"task-name",children:ie(en)})]}),key:"".concat(v,"-").concat(oe,"-").concat(Fe),index:"".concat(v,"-").concat(oe,"-").concat(Fe)},Ze={};if((be=T[v])!==null&&be!==void 0&&(be=be.jobs[oe])!==null&&be!==void 0&&be.tasks){var Pe;Ze=(Pe=T[v])===null||Pe===void 0?void 0:Pe.jobs[oe].tasks[Fe]}(!((Le=T[v])!==null&&Le!==void 0&&Le.jobs[oe])||Ze&&Ze.selectable===!0)&&(C.push(Be.key),ye.push(Be.key)),Me.children.push(Be)}),L.children.push(Me)})}),j(C),B(E),ae(D)}},Ie=function(E,C,D){O.current.checkedData[D]=E,console.log(O.current.checkedData)},we=function(){var E=document.querySelector(".flow-line-execModal-layer");setTimeout(function(){E.scrollTop=E.scrollHeight},200)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"flow-execModal-wrap ",ref:O,children:(0,h.jsx)("div",{className:"flex-start",style:{alignItems:"flex-start"},children:Q.length>0&&u.map(function(G,E){return(0,h.jsx)(he.Z,{checkable:!0,defaultExpandedKeys:Q,defaultCheckedKeys:i,onCheck:function(){for(var D=arguments.length,w=new Array(D),v=0;v<D;v++)w[v]=arguments[v];return Ie.apply(void 0,w.concat([E]))},treeData:[G],disabled:!(0,Ve.rO)("Check"),onExpand:we})})})})})}var r=(0,Z.forwardRef)(un),dn=l(83056),pn=l(88026),fn=l(30381),vn=l.n(fn),mn=function(b,M){var N=Object.keys(b).filter(function(x){return!x.includes("repo----")}).map(function(x){var S=x.split("----"),u=$()(S,2),B=u[0],m=u[1],g=M.find(function(j){return j.name===m})||{},i={key:m,type:B,value:b[x],description:g.description||"",display_name:g.display_name};return B==="date"&&i.value&&(i.value=vn()(i.value).format("YYYY-MM-DD HH:mm:ss")),i}),H=Object.keys(b).filter(function(x){return x.includes("repo----")});if(H.length>0){var T=_e(H);N.push({repo_info:Array.from(new Array(T*1)).map(function(x,S){var u;S+=1;var B=H.filter(function(K){return K.split("-")[0]===S+""}),m={};B.map(function(K){var ve=K.split("----"),Q=$()(ve,3),ae=Q[0],O=Q[1],ee=Q[2],ie=(0,p.a1)(O.replace(/-/g,"_"));switch(m[ie]=b[K],ie){case"git_url":m[ie]=b[S+"-repo----repo-url"],m.repo_key=ee;break;case"ref":m.ref_key=ee;break;case"patchset":m.patchset_key=ee;break;case"sha":m.sha_key=ee;break}});var g={index:S+"",platform:m.repo_type,base_info:{key:m.repo_key||"",name:m.repo_name||"",repo_id:m.repo_id||"",repo_url:m.repo_url||""},branch_patchset:{key:m.patchset_key||"",type:"patchset",patchset:m.patchset||""},commit:{sha:""}};m.ref&&(g.branch_patchset.type="branch",g.branch_patchset.ref=m.ref||"",delete g.branch_patchset.patchset,g.commit.sha=m.sha||""),m.tag&&(g.branch_patchset.type="tag",g.branch_patchset.tag=m.tag||"",delete g.branch_patchset.patchset,g.commit.sha=m.sha||"");var i=M.filter(function(K){return K.prompt_on_trigger&&K.type==="repo"}).reverse(),j=((u=i[S-1])===null||u===void 0?void 0:u.repo)||[];return g.branch_patchset.key=j[1]["ref-name"],g.commit.key=j[2]["sha-name"],g.base_info.display_name=j[0].repo_display_name,g.branch_patchset.display_name=j[1].ref_display_name,g.commit.display_name=j[2].sha_display_name,g})})}return N};function _e(ge){var b=0;return ge.forEach(function(M){var N=M.split("-")[0]*1;N>b&&(b=N*1)}),b}var hn=function(b,M,N){var H=M.findIndex(function(T){return T.type===N&&b.key===T.name});if(M[H])switch(N){case"multiple":M[H].default=b.value||[];break;default:M[H].default=b.value}},gn=function(b,M){var N=M.findIndex(function(H){return H.type==="component"});M[N]&&(M[N].componentDefault[b.key]=b.value,b.key==="git_url"&&(M[N].componentDefault["repo-url"]=b.value))},yn=function(b,M){if(b.repo_info){var N=M.filter(function(H){return H.type==="repo"}).reverse();N.map(function(H,T){var x=b.repo_info[T],S=H.repo;x&&(S[0]["repo-type"]=x.platform,S[0]["repo-id"]=x.base_info.repo_id,S[0]["repo-name"]=x.base_info.name,S[0]["repo-url"]=x.base_info.repo_url,S[0]["git_url-name"]=x.base_info.key,S[1]["ref-isBranch"]=x.branch_patchset.type,S[1]["ref-name"]=x.branch_patchset.key,S[1]["ref-patchset"]=x.branch_patchset.patchset,S[1].ref=x.branch_patchset.ref,S[1]["ref-tag"]=x.branch_patchset.tag,S[2].sha=x.commit.sha,S[2]["sha-name"]=x.commit.key)})}},Cn=function(b,M,N,H){var T=N,x=T.setting.extra_data.relationList;x.forEach(function(S){var u=S.value,B=S.options.find(function(m){return m===b.value});B&&u!==B&&(S.value=B)}),H(q()({},N))},jn=function(b,M,N,H){b.forEach(function(T){var x=T.type;switch(x){case"string":case"bool":case"choose":case"choose":case"multiple":case"date":case"user":case"upload":case"fileContent":hn(T,M,x);break;case"component":gn(T,M);break;default:yn(T,M)}x!=null&&x.includes("0.")&&Cn(T,M,N,H)})},Sn=We.Z.TextArea;function xn(ge,b){var M,N=ge.submitCallback,H=(0,Z.useState)(!1),T=$()(H,2),x=T[0],S=T[1],u=(0,Z.useState)(null),B=$()(u,2),m=B[0],g=B[1],i=(0,Z.useState)(!0),j=$()(i,2),K=j[0],ve=j[1],Q=(0,Z.useState)(!1),ae=$()(Q,2),O=ae[0],ee=ae[1],ie=(0,Z.useState)([]),De=$()(ie,2),Ie=De[0],we=De[1],G=(0,Z.useState)([]),E=$()(G,2),C=E[0],D=E[1],w=(0,Z.useRef)(null),v=(0,Z.useRef)(null),fe=(0,Z.useRef)(null),Re=(0,Z.useRef)(null),L=(0,Z.useRef)(""),ye=(0,Z.useRef)(""),Se=(0,p.DP)(),Te=Se.pipelineId,oe=(0,pn.useNavigate)(),Ce=(0,Z.useRef)([]),k=ce.Z.useForm(),je=$()(k,1),xe=je[0],Me=ce.Z.useForm(),Qe=$()(Me,1),ue=Qe[0],Fe=(0,$e.v9)(function(Y){var R=Y.pipeline;return R}),be=(0,$e.I0)();(0,Z.useImperativeHandle)(b,function(){return{open:ne}});var Le=function(R,F){var V=w.current.execPipelineData.trigger_info,J=location.pathname;if(!J.startsWith("/created/detail/")&&!J.startsWith("/created/recentlyRun/detail/")&&!L.current){var X,W;ue.setFieldValue("describe",F==null||(X=F.setting)===null||X===void 0?void 0:X.description),ye.current=F==null||(W=F.setting)===null||W===void 0?void 0:W.description,D(R);return}if(V){var de=V.stages,se=V.description,me=V.variables;de&&we(de),ue.setFieldValue("describe",se),ye.current=se,me&&jn(me,R,F,g)}D(R)},en=function(){var Y=P()(ke()().mark(function R(){var F,V,J,X;return ke()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:try{F=Fe.list.findIndex(function(se){return se.id*1===Te*1}),V=Fe.list[F],(0,pe.$)(V.stages),V.template=V.stages,V.id=Te,F<0?Fe.list.push((0,p.p$)(V)):Fe.list[F]=(0,p.p$)(V),be({type:"pipeline/setList",payload:{list:Ee()(Fe.list)}}),g(q()({},V)),J=V.setting.pipeline_variable,X=J===void 0?[]:J,X&&(Ce.current=X,Le(X,V),setTimeout(function(){v.current&&v.current.setEnv(X);var se=X.find(function(me){return me.type.includes("git_url")})||{};w.current.repoInfo=se.urlValue},300))}catch(se){console.log(se)}finally{}case 1:case"end":return de.stop()}},R)}));return function(){return Y.apply(this,arguments)}}(),ne=function(R,F){L.current=F||(0,p.DP)().version,en(R.id),w.current.execPipelineId=R.id,w.current.execPipelineData=R||{},S(!0)},Be=function(){g({}),S(!1)},Ze=function(R){var F=(0,p.p$)(m.stages);return R.forEach(function(V,J){V.forEach(function(X){if(X){var W=X.split("-"),de=W.length;switch(de){case 1:F[W[0]].selected=!0;break;case 2:F[W[0]].jobs[W[1]].selected=!0;break;case 3:F[W[0]].jobs[W[1]].tasks[W[2]].selected=!0,F[W[0]].jobs[W[1]].selected=!0;break}}})}),Pe(F)},Pe=function(R){var F=[];return R.forEach(function(V,J){var X=V.name,W=V.uuid,de={uuid:W,selectable:V.selected||!1,jobs:[]};F.push(de),V.jobs.forEach(function(se,me){var Ye=se.uuid,Ae={uuid:Ye,selectable:se.selected||!1,tasks:[]};de.jobs.push(Ae),V.jobs[me].tasks.forEach(function(Ke,Fn){var z,Ne=Ke.uuid,bn={uuid:Ne,selectable:Ke.selected||!1};(z=de.jobs[me])===null||z===void 0||z.tasks.push(bn)})})}),F};function nn(Y){for(var R in Y)Y.hasOwnProperty(R)&&(Y[R]===void 0||Y[R]===null)&&(Y[R]="");return Y}var He=function(R){var F=0;return R.forEach(function(V){var J=V[0];J>F&&(F=J)}),F},Je=function(){var Y=P()(ke()().mark(function R(){var F,V,J,X,W,de,se,me,Ye,Ae,Ke;return ke()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,ee(!0),F=w.current,V=F.execPipelineId,J=F.execPipelineData,z.next=5,xe.validateFields();case 5:X=z.sent,X=nn(X),W=Ze(fe.current()),de=ue.getFieldValue("describe"),se={trigger_type:"MANUAL",stages:W,description:de},se.variables=mn(X,Ce.current),J!=null&&J.version&&(se.version=(J==null?void 0:J.version)*1),console.log(se),Ue.ZP.success("\u89E6\u53D1\u6210\u529F\uFF0C\u6B63\u5728\u6267\u884C\u4E2D..."),oe("/pipeline/created/detail?pipelineId=".concat(Te)),ee(!1),Be(),z.next=27;break;case 19:z.prev=19,z.t0=z.catch(0),me=z.t0.errorFields[0].name[0],Ye=Ce.current.find(function(Ne){return"".concat(Ne.type,"----").concat(Ne.name)===me})||{},me.includes("-repo")&&(Ae=Ce.current.filter(function(Ne){return Ne.type==="repo"&&Ne.prompt_on_trigger}).reverse(),Ke=Ae[me[0]-1],Ke&&(Ye=Ke.repo[0])),Ye.isMoreOptions&&v.current.setMoreOptions(!0),xe.scrollToField(me,{behavior:"smooth",block:"start"}),console.log(z.t0);case 27:return z.prev=27,ee(!1),z.finish(27);case 30:case"end":return z.stop()}},R,null,[[0,19,27,30]])}));return function(){return Y.apply(this,arguments)}}(),rn=function(){},ze=function(){return C.length<=0||!m.setting?(0,h.jsx)(h.Fragment,{}):!C||C.filter(function(R){return R.prompt_on_trigger}).length<=0?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)("div",{className:"preview-content-env",children:[(0,h.jsx)("header",{className:"env-header",children:(0,h.jsxs)("span",{className:"env-header-content",onClick:function(){return ve(!K)},children:["\u6D41\u6C34\u7EBF\u53D8\u91CF\uFF1A",(0,h.jsx)("span",{style:{fontSize:"10px",color:"#1890ff"},children:K?"\u6536\u8D77":"\u5C55\u5F00"})]})}),(0,h.jsx)(ce.Z,{layout:"vertical",form:xe,className:"env-form",children:(0,h.jsx)("div",{style:{display:K?"block":"none"},children:(0,h.jsx)(_.Z,{env:C,form:xe,ref:v,data:m,pipelineId:w.current.execPipelineId,changeHeight:rn})})})]})},An=function(){return(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"pipeline-title",children:"\u6D41\u6C34\u7EBF\uFF1A"}),(0,h.jsx)("div",{style:{padding:"0 10px"},children:(0,h.jsx)(r,{stages:(m==null?void 0:m.stages)||[],ref:fe,selectData:Ie})})]})},le=function(){return(0,h.jsxs)(ce.Z,{layout:"vertical",form:ue,className:"env-form",children:[(0,h.jsx)("div",{style:{marginBottom:"5px"},children:"\u63CF\u8FF0\uFF1A"}),(0,h.jsx)(ce.Z.Item,{label:"",name:"describe",className:"flowLine-desc-editor",style:{padding:"0 10px"},children:(0,h.jsx)(te.Z,{title:"",content:ye.current,hideTitle:!0,isSimple:!0})})]})};return(0,h.jsx)("div",{ref:w,children:(0,h.jsx)(Ge.Z,{title:"",onCancel:Be,centered:!0,destroyOnClose:!0,footer:[(0,h.jsx)(U.ZP,{onClick:Be,children:"\u53D6\u6D88"}),(0,h.jsxs)(Oe.Z,{title:(0,dn.C9)(m==null||(M=m.setting)===null||M===void 0?void 0:M.trigger_type),children:["\xA0",(0,h.jsx)(U.ZP,{type:"primary",onClick:Je,loading:O,children:"\u786E\u5B9A"})]})],open:x,className:"flow-line-execModal-wrap",children:(0,h.jsxs)("div",{className:"flow-line-execModal-layer common-scroll-bar",children:[(0,h.jsx)("br",{}),ze(),le(),An()]})})})}var sn=(0,Z.forwardRef)(xn)},66126:function(In,an,l){l.d(an,{Z:function(){return S}});var on=l(19632),ke=l.n(on),qe=l(15009),q=l.n(qe),Xe=l(99289),Ee=l.n(Xe),ln=l(5574),P=l.n(ln),A=l(62435),$=l(48115),Z=l(80882),We=l(96456),ce=l(94060),Ue=l(74330),Ge=l(32983),U=l(81182),Oe=l(78045),$e=l(75440),pe=l(11238),p=function(B){return(0,pe.ZP)("/api/pipeline/variables/repo",{method:"get",params:B})},te=function(B){return(0,pe.ZP)("/api/pipeline/variables/branch",{method:"get",params:B})},_=function(B){return(0,pe.ZP)("/api/pipeline/variables/commit",{method:"get",params:B})},he=l(23279),Ve=l.n(he),h=l(81470),un=function(B){return(0,pe.ZP)("/api/pipeline/variables/commit",{method:"get",params:B})},r=l(86074),dn=ce.Z.Option;function pn(u,B){var m=u.label,g=u.name,i=u.initialValue,j=u.repoType,K=u.required,ve=u.message,Q=u.repoId,ae=u.branch,O=u.repoName,ee=u.className,ie=u.style,De=u.isBranchValue,Ie=u.help,we=Ie===void 0?"":Ie,G=u.commitChange,E=G===void 0?function(){}:G,C=u.placeholder,D=u.disabled,w=u.form,v=(0,A.useState)(!1),fe=P()(v,2),Re=fe[0],L=fe[1],ye=(0,A.useState)(!1),Se=P()(ye,2),Te=Se[0],oe=Se[1],Ce=(0,A.useState)([]),k=P()(Ce,2),je=k[0],xe=k[1],Me=(0,A.useRef)(null),Qe=function(){be()},ue=(0,A.useCallback)(Ve()(Qe,200),[Q,ae,O,1e3]);(0,A.useEffect)(function(){return ue(),ue.cancel},[Q,ae,O,ue]),(0,A.useImperativeHandle)(B,function(){return{getData:be,setOptionsData:Fe}});var Fe=function(Be){xe(Be)},be=function(){var ne=Ee()(q()().mark(function Be(){var Ze,Pe,nn,He,Je,rn,ze=arguments;return q()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(Ze=ze.length>0&&ze[0]!==void 0?ze[0]:"",!(!Q||!ae)){le.next=4;break}return xe([]),le.abrupt("return");case 4:return L(!0),xe([]),Pe={type:j,repo_id:Q,repo_name:O,branch:ae,commit_id:Ze},le.prev=7,le.next=10,un(Pe);case 10:nn=le.sent,He=nn.data,Je=w.getFieldValue(g),He&&He.length>0&&!Je&&(w.setFieldValue(g,(rn=He[0])===null||rn===void 0?void 0:rn.commit_id),w.validateFields([g])),xe(He),le.next=19;break;case 17:le.prev=17,le.t0=le.catch(7);case 19:return le.prev=19,setTimeout(function(){L(!1)},1e3),le.finish(19);case 22:case"end":return le.stop()}},Be,null,[[7,17,19,22]])}));return function(){return ne.apply(this,arguments)}}(),Le=Ve()(function(ne){return be(ne)},500),en=(0,A.useMemo)(function(){return(0,r.jsx)(ce.Z,{allowClear:!0,showSearch:!0,disabled:D!==void 0?D:j==="gerrit"?De===!1:!1,placeholder:C||"\u8BF7\u9009\u62E9 CommitId",optionFilterProp:"children",onChange:E,onSearch:Le,notFoundContent:Re?(0,r.jsx)(Ue.Z,{size:"small"}):(0,r.jsx)(Ge.Z,{}),filterOption:!1,children:je.map(function(ne){return(0,r.jsx)(dn,{value:ne.commit_id,label:"".concat(ne.commit_id.slice(0,8),"\uFF1A").concat(ne.title),title:"".concat(ne.title,`
`).concat(ne.commit_id),children:(0,r.jsxs)("div",{children:[ne.commit_id.slice(0,8),"\uFF1A",ne.title]})})})})},[Q,ae,O,j,De,je,Re]);return(0,r.jsx)("div",{ref:Me,className:ee+" common-form-commitId-container",style:ie,children:(0,r.jsx)(U.Z.Item,{label:m,name:g,initialValue:i,rules:[{required:K,message:ve}],extra:we,children:en})})}var fn=(0,A.forwardRef)(pn),vn=l(34084),mn=l(30381),_e=l.n(mn),hn=l(63103),gn=l(70646),yn=l(73668),Cn=l(24031);function jn(u){var B=u.relationList,m=u.env,g=u.envAllList,i=u.form,j=u.renderChooseConfig,K=u.renderUploadComponent,ve=u.renderDate,Q=u.renderType,ae=u.renderRepoComponent,O=u.renderRefComponent,ee=u.renderCommitIdComponent,ie=u.renderFileContent,De=u.renderUserList,Ie=function(E){var C=g.find(function(v){return v.id===E}),D=C==null?void 0:C.name,w=C==null?void 0:C.display_name;return D===void 0?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(Oe.ZP,{value:E,children:w||D})},we=function(E){var C=m.filter(function(D){return E.options.find(function(w){return w.includes(D.id)})});return(0,r.jsxs)("div",{style:{marginTop:"8px"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(U.Z.Item,{name:E.value,label:"",initialValue:E.value,noStyle:!0,children:(0,r.jsx)(Oe.ZP.Group,{children:E.options.map(function(D){return Ie(D)})})})}),(0,r.jsx)("div",{className:"preview-relation-value-component-item",children:(0,r.jsx)(U.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){var w=i.getFieldValue(E.value),v=C.find(function(k){return w.includes(k.id)});if(!v)return(0,r.jsx)(r.Fragment,{});switch(v.type){case"repo":var fe=m.filter(function(k){return k.type==="repo"}).reverse(),Re=fe.findIndex(function(k){return k.id===v.id}),L=v.repo[0],ye=v.repo[1],Se=v.repo[2],Te=B.find(function(k){return k.options.find(function(je){return je.includes(L.newId)})}),oe=B.find(function(k){return k.options.find(function(je){return je.includes(ye.newId)})}),Ce=B.find(function(k){return k.options.find(function(je){return je.includes(Se.newId)})});if(Te)return ae(v,Re+1);if(oe)return O(v,Re+1);if(Ce)return v.repo[2]["sha-show"]=!0,ee(v,Re+1);case"choose":return j(!1,v,"relation");case"multiple":return j(!0,v,"relation");case"upload":return K(v,"relation");case"fileContent":return ie(v,"relation");case"date":return ve([v],"relation");case"string":return Q([v],"relation");case"bool":return Q([v],"relation");case"user":return De([v],"relation")}}})})]})};return(0,r.jsx)(r.Fragment,{children:B.map(function(G){return we(G)})})}var Sn=jn,xn=l(97857),sn=l.n(xn);function ge(u){return b.apply(this,arguments)}function b(){return b=Ee()(q()().mark(function u(B){var m;return q()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,pe.ZP)("/api/devices/info/find_user",{method:"get",params:{username:B||""}});case 3:return m=i.sent,m=m.map(function(j){return j.label=j.username,j.value=j.user_id,j}),i.abrupt("return",m);case 8:i.prev=8,i.t0=i.catch(0),console.log(i.t0);case 11:case"end":return i.stop()}},u,null,[[0,8]])})),b.apply(this,arguments)}var M=We.Z.TextArea;function N(u){var B=u.item,m=u.form,g=u.type,i=u.validator,j=u.nameBlur,K=(0,A.useState)([]),ve=P()(K,2),Q=ve[0],ae=ve[1],O=(0,A.useState)(!1),ee=P()(O,2),ie=ee[0],De=ee[1],Ie=function(){var C=Ee()(q()().mark(function D(){var w,v,fe=arguments;return q()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return w=fe.length>0&&fe[0]!==void 0?fe[0]:"",L.prev=1,we(!0),L.next=5,ge(w);case 5:v=L.sent,ae(v),L.next=12;break;case 9:L.prev=9,L.t0=L.catch(1),console.log(L.t0);case 12:return L.prev=12,we(!1),L.finish(12);case 15:case"end":return L.stop()}},D,null,[[1,9,12,15]])}));return function(){return C.apply(this,arguments)}}(),we=function(D){D&&ae([]),De(D)},G=function(D){Ie(D)},E=Ve()(G,500);return(0,r.jsx)(U.Z.Item,sn()(sn()({},u),{},{children:(0,r.jsx)(ce.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:!1,mode:"multiple",placeholder:"\u8BF7\u9009\u62E9",notFoundContent:ie?(0,r.jsx)(Ue.Z,{size:"small"}):(0,r.jsx)(Ge.Z,{image:Ge.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(D){return E(D)},children:Q==null?void 0:Q.map(function(C){return(0,r.jsx)(Option,{value:"".concat(C.label," ").concat(C.value),label:C.label,children:(0,r.jsxs)("div",{className:"demo-option-label-item",children:[(0,r.jsx)("span",{role:"img","aria-label":"China",children:C.label}),C.user_id&&(0,r.jsxs)("span",{children:["\xA0",C.user_id]})]})})})})}))}var H=N,T=We.Z.TextArea;function x(u,B){var m,g=u.env,i=u.form,j=u.data,K=u.pipelineId,ve=z(g),Q=((m=j.setting)===null||m===void 0||(m=m.extra_data)===null||m===void 0?void 0:m.relationList)||[],ae=(0,A.useState)(!1),O=P()(ae,2),ee=O[0],ie=O[1],De=(0,A.useState)([]),Ie=P()(De,2),we=Ie[0],G=Ie[1],E=(0,A.useState)(!1),C=P()(E,2),D=C[0],w=C[1],v=(0,A.useState)([]),fe=P()(v,2),Re=fe[0],L=fe[1],ye=(0,A.useState)(!1),Se=P()(ye,2),Te=Se[0],oe=Se[1],Ce=(0,A.useState)([]),k=P()(Ce,2),je=k[0],xe=k[1],Me=(0,A.useState)(!1),Qe=P()(Me,2),ue=Qe[0],Fe=Qe[1],be=(0,A.useState)([]),Le=P()(be,2),en=Le[0],ne=Le[1],Be=(0,A.useState)([]),Ze=P()(Be,2),Pe=Ze[0],nn=Ze[1],He=(0,A.useState)([]),Je=P()(He,2),rn=Je[0],ze=Je[1],An=(0,A.useReducer)(function(d){return d+1},0),le=P()(An,2),Y=le[1],R=(0,A.useState)(!1),F=P()(R,2),V=F[0],J=F[1],X=(0,A.useState)({}),W=P()(X,1),de=W[0],se=(0,A.useRef)(null),me=(0,A.useRef)(null),Ye=(0,A.useRef)(null),Ae=(0,A.useRef)(null);(0,A.useImperativeHandle)(B,function(){return{getEnvApi:Ne,setEnv:Hn,getRepoInfo:bn,setMoreOptions:Fn}}),(0,A.useEffect)(function(){var d=g.find(function(t){return t.prompt_on_trigger&&t.type==="component"})||{},e=d.componentDefault,n=e===void 0?{}:e;Qn(n.component),i.setFieldValue("component----component",n.component)},[g]),(0,A.useEffect)(function(){Yn()},[g]),(0,A.useEffect)(function(){Ke()},[g]);var Ke=function(){var e=g.filter(function(n){return n.type==="string"||n.type==="bool"||n.type==="choose"||n.type==="multiple"||n.type==="user"||n.type==="fileContent"});e.forEach(function(n){i.setFieldValue("".concat(n.type,"----").concat(n.name),n.default)})},Fn=function(e){Fe(e)};function z(d){var e=d.filter(function(t){return t.type!=="component"}),n=[];return e.forEach(function(t){if(t.type==="repo"){var a=t.repo;n.push({id:a[0].newId,name:a[0]["git_url-name"]}),n.push({id:a[1].newId,name:a[1]["ref-name"]}),n.push({id:a[2].newId,name:a[2]["sha-name"]})}else n.push(t)}),n}var Ne=function(){var d=Ee()(q()().mark(function e(){return q()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wn();case 2:return t.next=4,En("");case 4:case"end":return t.stop()}},e)}));return function(){return d.apply(this,arguments)}}(),bn=function(){var e=i.getFieldValue("repo----repo-url");return{url:e}},Hn=function(e){var n=e.find(function(a){return a.type.includes("git_url")})||{},t=e.find(function(a){return a.type.includes("ref")})||{};Ae.current.repo={type:n.repoType},Ae.current.repoInfo=n.urlValue,n.name&&(Ae.current.branchId=t.default||"master",Ne())},Yn=function(){var e=g.filter(function(t){return t.prompt_on_trigger}),n=e.filter(function(t){return t.type==="repo"}).reverse();n.length>0&&n.map(function(t,a){a+=1;var c=t.repo[0],o=t.id,s=t.repo[1],y=t.repo[2],f=c["repo-type"];i.setFieldValue("".concat(a,"-repo----git_url----").concat(c["git_url-name"]),c["repo-name"]),i.setFieldValue("".concat(a,"-repo----ref----").concat(s["ref-name"]),s.ref),i.setFieldValue("".concat(a,"-repo----patchset----").concat(s["ref-name"]),s["ref-patchset"]),i.setFieldValue("".concat(a,"-repo----tag----").concat(s["ref-name"]),s["ref-tag"]),i.setFieldValue("".concat(a,"-repo----sha----").concat(y["sha-name"]),y.sha),i.setFieldValue("".concat(a,"-repo----isBranch----isBranch"),s["ref-isBranch"]),i.setFieldValue("".concat(a,"-repo----repo-type"),c["repo-type"]),i.setFieldValue("".concat(a,"-repo----repo-name"),c["repo-name"]),i.setFieldValue("".concat(a,"-repo----repo-id"),c["repo-id"]),i.setFieldValue("".concat(a,"-repo----repo-url"),c["repo-url"]),i.setFieldValue("".concat(a,"-repo----patchset"),s["ref-patchset"])})},En=function(){var d=Ee()(q()().mark(function e(){var n,t,a,c,o,s,y,f=arguments;return q()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return a=f.length>0&&f[0]!==void 0?f[0]:"",c=Ae.current.repo.type,o={type:c,repo_id:(n=Ae.current)===null||n===void 0||(n=n.repoInfo)===null||n===void 0?void 0:n.id,repo_name:(t=Ae.current)===null||t===void 0||(t=t.repoInfo)===null||t===void 0?void 0:t.name,branch:Ae.current.branchId,commit_id:a},I.prev=3,I.next=6,_(o);case 6:s=I.sent,y=s.data,xe(y),I.next=13;break;case 11:I.prev=11,I.t0=I.catch(3);case 13:case"end":return I.stop()}},e,null,[[3,11]])}));return function(){return d.apply(this,arguments)}}(),Kn=function(){var d=Ee()(q()().mark(function e(){var n,t,a,c,o,s=arguments;return q()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(n=s.length>0&&s[0]!==void 0?s[0]:"",n){f.next=4;break}return G([]),f.abrupt("return");case 4:return ie(!0),G([]),t=Ae.current.repo.type,a={type:t,repo_name:n},f.prev=8,f.next=11,p(a);case 11:c=f.sent,o=c.data,G(o),f.next=18;break;case 16:f.prev=16,f.t0=f.catch(8);case 18:return f.prev=18,setTimeout(function(){ie(!1)},500),f.finish(18);case 21:case"end":return f.stop()}},e,null,[[8,16,18,21]])}));return function(){return d.apply(this,arguments)}}(),Xn=Ve()(Kn,500),wn=function(){var d=Ee()(q()().mark(function e(){var n,t,a,c,o,s,y,f=arguments;return q()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(a=f.length>0&&f[0]!==void 0?f[0]:"",(n=Ae.current)!==null&&n!==void 0&&(n=n.repoInfo)!==null&&n!==void 0&&n.id){I.next=3;break}return I.abrupt("return");case 3:return w(!0),L([]),c=Ae.current.repo.type,o={type:c,repo_id:(t=Ae.current)===null||t===void 0||(t=t.repoInfo)===null||t===void 0?void 0:t.id,branch:a},I.prev=7,I.next=10,te(o);case 10:s=I.sent,y=s.data,L(y),I.next=17;break;case 15:I.prev=15,I.t0=I.catch(7);case 17:return I.prev=17,setTimeout(function(){w(!1)},500),I.finish(17);case 20:case"end":return I.stop()}},e,null,[[7,15,17,20]])}));return function(){return d.apply(this,arguments)}}(),Wn=Ve()(wn,500),Rn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s="".concat(o,"-repo----ref----").concat(a["ref-name"]),y="".concat(o,"-repo----patchset----").concat(a["ref-name"]),f="".concat(o,"-repo----sha----").concat(c["sha-name"]);i.setFieldValue("".concat(o===void 0?"":"".concat(o,"-"),"repo----repo-name"),n.name),i.setFieldValue("".concat(o===void 0?"":"".concat(o,"-"),"repo----repo-url"),n.url),i.setFieldValue("".concat(o===void 0?"":"".concat(o,"-"),"repo----repo-id"),n.id),i.setFieldValue(s,void 0),i.setFieldValue(y,void 0),i.setFieldValue(f,void 0)},Jn=function(e,n){Ae.current.branchId=e;var t=j.setting.pipeline_variable.find(function(a){return a.type.includes("sha")});i.setFieldValue("".concat(t.type,"----").concat(t.name),void 0),xe([]),En("")},zn=function(e,n){if(e.includes("git_url"))return(0,r.jsx)(ce.Z,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165",showSearch:!0,filterOption:!1,onSearch:function(a){return Xn(a)},notFoundContent:ee?(0,r.jsx)(Ue.Z,{size:"small"}):(0,r.jsx)(Ge.Z,{}),onChange:Rn,children:we.map(function(t){return(0,r.jsx)(Option,{value:t.id,label:t.name,children:t.name})})});if(e.includes("ref"))return(0,r.jsx)(ce.Z,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165",showSearch:!0,optionFilterProp:"children",filterOption:!1,onSearch:function(a){return Wn(a)},notFoundContent:D?(0,r.jsx)(Ue.Z,{size:"small"}):(0,r.jsx)(Ge.Z,{}),onChange:Jn,children:Re.map(function(t){return(0,r.jsx)(Option,{value:t,label:t,children:t})})});if(e.includes("sha"))return(0,r.jsx)(ce.Z,{allowClear:!0,showSearch:!0,placeholder:"\u8BF7\u8F93\u5165",optionFilterProp:"children",filterOption:function(a,c){var o;return((o=c==null?void 0:c.label)!==null&&o!==void 0?o:"").toLowerCase().includes(a.toLowerCase())},children:je.map(function(t){return(0,r.jsxs)(Option,{value:t.commit_id,label:t.commit_id,title:"".concat(t.title,`
`).concat(t.commit_id),children:[(0,r.jsx)("div",{children:t.title}),(0,r.jsx)("div",{children:t.commit_id})]})})})},br=function(e){var n={gerrit:"Gerrit",gitlabee:"Gitlab-EE",gitlabce:"Gitlab-CE"},t=e.type;return t.includes("ref")||t.includes("git_url")||t.includes("sha")?"".concat(e.name,"\uFF08").concat(n[e.repoType],"\uFF09"):e.name},Mn=function(e){if(e.type.includes("git_url")){var n;return(n=e.urlValue)===null||n===void 0?void 0:n.name}return e.default},Qn=function(e){var n,t;if(e){var a=[];if((n=j.setting.extra_data)!==null&&n!==void 0&&n.envComponentList){var c;a=((c=j.setting.extra_data)===null||c===void 0?void 0:c.envComponentList[K])||[]}if(!(a.length<=0)){var o=a.find(function(y){return y.component===e})||{},s=g.find(function(y){return y.type==="component"});(s==null||(t=s.componentDefault)===null||t===void 0?void 0:t.component)===e&&(o=s==null?void 0:s.componentDefault),i.setFieldValue("component----git_url",o["repo-url"]),i.setFieldValue("component----repo-type",o["repo-type"]),i.setFieldValue("component----repo-name",o["repo-name"]),i.setFieldValue("component----repo-id",o["repo-id"]),i.setFieldValue("component----ref",o.ref),i.setFieldValue("component----sha",o.sha),i.setFieldValue("component----isBranch",o.isBranch),i.setFieldValue("component----patchset",o.patchset),i.setFieldValue("component----toolchain",o.toolchain),i.setFieldValue("component----abi",o.abi),i.setFieldValue("component----build_type",o.build_type),ne(o["toolchain-options"]||[]),nn(o["abi-options"]||[]),ze(o["build_type-options"]||[])}}},qn=function(){i.setFieldValue("component----sha",void 0)},$n=function(e,n,t){i.setFieldValue("".concat(t,"-repo----sha----").concat(n["sha-name"]),void 0)},_n=function(e,n,t){i.setFieldValue(n,e),i.setFieldValue("component----sha",void 0)},er=function(e,n,t,a,c){i.setFieldValue(n,e),i.setFieldValue("".concat(c,"-repo----sha----").concat(a["sha-name"]),void 0)},nr=function(){var e=j.setting.extra_data.envComponentList[K]||[];if(!(e.length<=0)){var n=i.getFieldValue("component----component"),t=e.find(function(a){return a.component===n})||{};return rr(t["repo-type"])||""}},rr=function(e){var n={gerrit:"Gerrit",gitlabee:"Gitlab-EE",gitlabce:"Gitlab-CE"};return n[e]||1},tr=function(e,n){var t=n==="relation"?"":e.display_name||e.name,a=e.is_required;return(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",label:t,extra:e.description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):"",name:"".concat(e.type,"----").concat(e.name),initialValue:Mn(e),rules:[{required:a,message:"\u8BF7\u586B\u5199"}],children:ar(e.type,e)})},ar=function(e,n){if(e.includes("ref")||e.includes("git_url")||e.includes("sha"))return zn(e,n);switch(e){case"string":return(0,r.jsx)(T,{autoSize:{minRows:1}});case"bool":return(0,r.jsxs)(Oe.ZP.Group,{children:[(0,r.jsx)(Oe.ZP,{value:!0,children:"true"}),(0,r.jsx)(Oe.ZP,{value:!1,children:"false"})]})}},Br=function(){var e=g.find(function(o){return o.prompt_on_trigger&&o.type==="component"})||{},n=e.prompt_on_trigger,t=e.componentDefault,a=t===void 0?{}:t;j.setting.extra_data=j.setting.extra_data||{},j.setting.extra_data.envComponentList||(j.setting.extra_data.envComponentList={});var c=j.setting.extra_data.envComponentList[K]||[];return c.length<=0||!n?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",name:"component----component",label:"\u7EC4\u4EF6\u540D",children:(0,r.jsx)(ce.Z,{showSearch:!0,placeholder:"\u8BF7\u8F93\u5165",optionFilterProp:"children",onChange:Qn,filterOption:function(s,y){var f;return((f=y==null?void 0:y.label)!==null&&f!==void 0?f:"").toLowerCase().includes(s.toLowerCase())},children:c.map(function(o){return(0,r.jsx)(Option,{value:o.component,label:o.component,title:"".concat(o.component),children:(0,r.jsx)("div",{children:o.component})})})})}),(0,r.jsx)(U.Z.Item,{className:"left",style:{margin:"8px"},label:"\u4ED3\u5E93\u5730\u5740\uFF08".concat(nr(),"\uFF09"),name:"component----git_url",children:(0,r.jsx)(We.Z,{disabled:!0})}),(0,r.jsx)(U.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){var s=i.getFieldValue("component----repo-type"),y="component----isBranch",f="component----patchset",re=i.getFieldValue("component----isBranch"),I=s==="gerrit"?"\u5206\u652F/Change-Ref":"\u5206\u652F",tn=i.getFieldValue("component----repo-name");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{ref:me,name:"component----ref",label:I,initialValue:"",repoType:i.getFieldValue("component----repo-type"),repoId:i.getFieldValue("component----repo-id"),change:function(Dn){return qn(Dn)},className:"left",style:{margin:"8px"},isBranch:y,onSwitchBranchChange:_n,patchsetName:f,isBranchValue:re,id:"",repoName:tn,required:!1}),(0,r.jsx)(OldFormCommitId,{ref:Ye,name:"component----sha",label:"CommitId",initialValue:"",repoType:i.getFieldValue("component----repo-type"),repoId:i.getFieldValue("component----repo-id"),branch:i.getFieldValue("component----ref"),repoName:tn,change:function(){},className:"left",style:{margin:"8px"},isBranchValue:re})]})}})]})},ir=function(e){e.hide=!e.hide,Y()},Vn=function(e,n){var t=e.repo[0],a=e.repo[1],c=e.repo[2],o=e.id,s=t["repo-type"],y="".concat(t.repo_display_name||t["git_url-name"]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.Z.Item,{name:"".concat(n,"-repo----repo-name"),noStyle:!0}),(0,r.jsx)(U.Z.Item,{name:"".concat(n,"-repo----repo-type"),noStyle:!0}),(0,r.jsx)(U.Z.Item,{name:"".concat(n,"-repo----repo-id"),noStyle:!0}),(0,r.jsx)(U.Z.Item,{name:"".concat(n,"-repo----repo-url"),noStyle:!0}),(0,r.jsx)(U.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return(0,r.jsx)(vn.Z,{ref:se,name:"".concat(n,"-repo----git_url----").concat(t["git_url-name"]),label:y,repoType:s,repoChange:function(I){return Rn(o,I,s,a,c,n)},className:"left preview-item-type-container",style:{margin:"8px"},required:t.is_required,message:"\u8BF7\u586B\u5199",help:t["git_url-description"]})}})]})},Zn=function(e,n){var t=e.repo[0],a=e.repo[1],c=e.repo[2],o=t["repo-type"],s="".concat(n,"-repo----isBranch----isBranch"),y="".concat(n,"-repo----ref----").concat(a["ref-name"]),f="".concat(n,"-repo----patchset----").concat(a["ref-name"]),re="".concat(n,"-repo----tag----").concat(a["ref-name"]),I=i.getFieldValue("".concat(n,"-repo----isBranch----isBranch")),tn=i.getFieldValue("".concat(n,"-repo----repo-name")),cn=i.getFieldValue("".concat(n,"-repo----repo-type")),Dn=i.getFieldValue("".concat(n,"-repo----repo-id")),yr="<div>".concat(a["ref-description"]||"","</div>"),Cr=a.ref_display_name||a["ref-name"],jr=a["ref-description"]?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:yr||""}}):"";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(hn.Z,{name:y,label:Cr,initialValue:void 0,repoType:cn,repoId:Dn,change:function(Gn){return $n(o,c,n)},className:"left preview-item-type-container",style:{margin:"8px 0 !important",display:a["ref-show"]?"block":"none"},isBranchValue:I,isBranch:s,onSwitchBranchChange:function(Gn,Fr){return er(Gn,Fr,o,c,n)},id:"1",repoName:tn,required:!(a["ref-is_required"]===void 0||a["ref-is_required"]===!1),patchsetName:f,form:i,tagName:re,detailVal:de,help:jr})})},Tn=function(e,n){var t=e.repo[1],a=e.repo[2],c="".concat(n,"-repo----ref----").concat(t["ref-name"]),o="".concat(n,"-repo----sha----").concat(a["sha-name"]),s=i.getFieldValue("".concat(n,"-repo----isBranch----isBranch")),y=i.getFieldValue("".concat(n,"-repo----repo-name")),f=i.getFieldValue("".concat(n,"-repo----repo-type")),re=i.getFieldValue("".concat(n,"-repo----repo-id")),I=a["sha-description"]?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:a["sha-description"]||""}}):"",tn=a.sha_display_name||a["sha-name"];return s!=="branch"?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(fn,{ref:Ye,name:o,label:tn,repoType:f,repoId:re,branch:i.getFieldValue(c),repoName:y,change:function(){},className:"left preview-item-type-container",style:{margin:"8px",display:a["sha-show"]?"block":"none"},isBranchValue:s,help:I,form:i,required:a["sha-is_required"],message:"\u8BF7\u9009\u62E9"})})},or=function(e,n){var t=e.repo[0],a=e.repo[1],c=e.repo[2],o=!Q.find(function(f){return f.options.find(function(re){return re.includes(t.newId)})}),s=!Q.find(function(f){return f.options.find(function(re){return re.includes(a.newId)})}),y=!Q.find(function(f){return f.options.find(function(re){return re.includes(c.newId)})});return(0,r.jsxs)(r.Fragment,{children:[o&&Vn(e,n),(0,r.jsx)(U.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return(0,r.jsxs)(r.Fragment,{children:[o&&!t["git_url-description"]&&(0,r.jsx)("div",{children:"\xA0"}),s&&Zn(e,n),s&&!a["ref-description"]&&(0,r.jsx)("div",{children:"\xA0"}),y&&Tn(e,n)]})}})]})},lr=function(e){if(e.length<=0)return(0,r.jsx)(r.Fragment,{});var n=g.filter(function(t){return t.prompt_on_trigger&&t.type==="repo"});return(0,r.jsx)(r.Fragment,{children:e.map(function(t,a){var c=n.findIndex(function(y){return y.id===t.id}),o=n.length-c,s=n[c];return(0,r.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,r.jsxs)("div",{style:{fontWeight:"bold",padding:""},children:[s.repo[0]["repo-display_name"]||"\u4ED3\u5E93".concat(o)," ",(0,yn.Fo)(s.repo[0]["repo-type"])]}),(0,r.jsxs)("div",{className:"flow-preview-detail-env-repo-item",style:{marginTop:"3px"},children:[(0,r.jsxs)("div",{className:"flex-space-between",style:{cursor:"pointer"},onClick:function(){return ir(s)},children:[s.hide&&(0,r.jsxs)("div",{className:"flex-start",children:[(0,r.jsx)("span",{children:s.repo[0]["repo-name"]}),"\xA0"]}),(0,r.jsx)("div",{className:"flex-center arrow ".concat(s.hide&&"transition-arrow"),children:(0,r.jsx)($.Z,{})})]}),(0,r.jsx)("div",{style:{display:s.hide?"none":"block",paddingTop:"2px"},children:(0,r.jsx)("div",{className:"repo-item-content flex-start",style:{alignItems:"flex-start"},children:or(s,o)})})]})]})})})},sr=function(e){var n=e.split(`
`).map(function(t){return t.trim()}).filter(Boolean);return ke()(new Set(n))},Bn=function(e,n,t){var a=t==="relation"?"":n.display_name||n.name,c=(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:n.description}}),o=n.is_required;return(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",label:a,extra:n.description?c:"",name:"".concat(n.type,"----").concat(n.name),initialValue:Mn(n),rules:[{required:o,message:"\u8BF7\u586B\u5199"}],children:(0,r.jsx)(ce.Z,{allowClear:!0,showSearch:!0,placeholder:"\u67E5\u627E\u9009\u9879",optionFilterProp:"children",mode:e?"multiple":null,filterOption:function(y,f){var re;return((re=f==null?void 0:f.label)!==null&&re!==void 0?re:"").toLowerCase().includes(y.toLowerCase())},children:sr(n["choose-options"]).map(function(s){return(0,r.jsx)(Option,{value:s,label:s,title:"".concat(s),children:(0,r.jsx)("div",{children:s})})})})})},Ar=function(e,n){i.setFieldValue("".concat(n.type,"----").concat(n.name),e),i.validateFields(["".concat(n.type,"----").concat(n.name)])},Ln=function(e,n){var t=n==="relation"?"":e.display_name||e.name,a=(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}),c=e.is_required;return(0,r.jsx)(U.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(){var s=i.getFieldValue("".concat(e.type,"----").concat(e.name));return(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",label:t,extra:e.description?a:"",name:"".concat(e.type,"----").concat(e.name),initialValue:e.default||s,rules:[{required:c,message:"\u8BF7\u4E0A\u4F20"}],children:(0,r.jsx)(gn.Z,{getImageUrl:function(f){return Ar(f,e)},img:e.default||s})})}})},cr=function(e){return(0,r.jsx)(r.Fragment,{children:e.map(function(n){return Bn(!1,n)})})},ur=function(e){return(0,r.jsx)(r.Fragment,{children:e.map(function(n){return Bn(!0,n)})})},dr=function(e){return(0,r.jsx)(r.Fragment,{children:e.map(function(n){return Ln(n)})})},pr=function(e){return(0,r.jsx)(r.Fragment,{children:e.map(function(n){return On(n)})})},Nn=function(e){return(0,r.jsx)(r.Fragment,{children:e.map(function(n){return fr(n)})})},On=function(e,n){var t=n==="relation"?"":e.display_name||e.name,a="".concat(e.type,"----").concat(e.name),c=e.is_required,o=(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(U.Z.Item,{shouldUpdate:function(y,f){return y[a]!==f[a]},noStyle:!0,children:function(){var y=i.getFieldValue("".concat(e.type,"----").concat(e.name)),f=e.default||y;return(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",label:t,extra:e.description?o:"",name:"".concat(e.type,"----").concat(e.name),initialValue:f,rules:[{required:c,message:"\u8BF7\u4E0A\u4F20"}],children:(0,r.jsx)(Cn.Z,{item:e,form:i,name:"".concat(e.type,"----").concat(e.name),value:y})})}})})},fr=function(e,n){var t=n==="relation"?"":e.display_name||e.name,a="".concat(e.type,"----").concat(e.name),c=e.is_required,o=e.description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):"";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(U.Z.Item,{shouldUpdate:function(y,f){return y[a]!==f[a]},noStyle:!0,children:function(){var y=i.getFieldValue("".concat(e.type,"----").concat(e.name)),f=e.default||y;return(0,r.jsx)(H,{className:"left preview-item-type-container",label:t,extra:e.description?o:"",name:"".concat(e.type,"----").concat(e.name),initialValue:f,rules:[{required:c,message:"\u8BF7\u586B\u5199"}]})}})})};function vr(d){return d&&d<_e()().startOf("day")}var mr=function(e,n){if(!n)return Promise.resolve();var t=_e()(),a=_e()(n);return t.isAfter(a)?Promise.reject("\u9700\u5927\u4E8E\u5F53\u524D\u65F6\u95F4"):Promise.resolve()},Pn=function(e,n){return(0,r.jsx)(r.Fragment,{children:e.map(function(t){var a=t.description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:t.description}}):"",c=t.is_required;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(U.Z.Item,{className:"left preview-item-type-container",label:n==="relation"?"":t.display_name||t.name,extra:a,name:"".concat(t.type,"----").concat(t.name),initialValue:t.default?_e()(t.default):"",rules:[{required:c,message:"\u8BF7\u586B\u5199"},{validator:mr}],children:(0,r.jsx)($e.default,{style:{width:"100%"},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",disabledDate:vr})})})})})},hr=function(){return Q.length<=0?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"flex-space-between"}),(0,r.jsx)("div",{style:{display:V?"none":"block"},children:(0,r.jsx)(Sn,{relationList:Q,form:i,env:g,envAllList:ve,renderChooseConfig:Bn,renderUploadComponent:Ln,renderDate:Pn,renderType:kn,renderRepoComponent:Vn,renderRefComponent:Zn,renderCommitIdComponent:Tn,renderFileContent:On,renderUserList:Nn})})]})},kn=function(e,n){return(0,r.jsx)(r.Fragment,{children:e.map(function(t){return tr(t,n)})})},Dr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=g.filter(function(c){return n?c.prompt_on_trigger&&c.type===e&&c.isMoreOptions:c.prompt_on_trigger&&c.type===e&&!c.isMoreOptions}),a=t.filter(function(c){return!Q.find(function(o){return o.options.find(function(s){return s===c.id})})});return a},Un=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=g.filter(function(a){return e?a.prompt_on_trigger&&a.isMoreOptions:a.prompt_on_trigger&&!a.isMoreOptions}),t=n.filter(function(a){return!Q.find(function(c){return c.options.find(function(o){return o===a.id})})});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"",style:{flexWrap:"wrap",alignItems:"flex-start"},children:t.map(function(a){switch(a.type){case"repo":return lr([a]);case"upload":return dr([a]);case"fileContent":return pr([a]);case"user":return Nn([a]);case"choose":return cr([a]);case"multiple":return ur([a]);case"date":return Pn([a]);case"string":case"bool":return kn([a])}})})})},gr=function(){var e=g.filter(function(n){return n.prompt_on_trigger&&n.isMoreOptions&&!Q.find(function(t){return t.options.find(function(a){return a===n.id})})});return e.length<=0?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("div",{className:"preview-env-moreOptions-container",children:[(0,r.jsxs)("div",{className:"moreOptions-control",onClick:function(){return Fe(!ue)},children:["\u9AD8\u7EA7\u9009\u9879",(0,r.jsx)(Z.Z,{className:"arrow ".concat(ue&&"arrow-action")})]}),(0,r.jsx)("div",{style:{display:ue?"block":"none"},children:Un(!0)})]})};return(0,r.jsxs)("div",{className:"form-row common-component-form-row-container",ref:Ae,children:[hr(),Un(),gr()]})}var S=(0,A.forwardRef)(x)}}]);
