"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[412],{11475:function(Y,p,e){e.d(p,{Z:function(){return v}});var y=e(87462),l=e(62435),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},u=o,d=e(84089),c=function(j,r){return l.createElement(d.Z,(0,y.Z)({},j,{ref:r,icon:u}))},x=l.forwardRef(c),v=x},12657:function(Y,p,e){e.d(p,{Z:function(){return v}});var y=e(87462),l=e(62435),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},u=o,d=e(84089),c=function(j,r){return l.createElement(d.Z,(0,y.Z)({},j,{ref:r,icon:u}))},x=l.forwardRef(c),v=x},85311:function(Y,p,e){e.d(p,{k:function(){return j},o:function(){return v}});var y=e(15009),l=e.n(y),o=e(97857),u=e.n(o),d=e(99289),c=e.n(d),x=e(11238);function v(r,a){return D.apply(this,arguments)}function D(){return D=c()(l()().mark(function r(a,Z){return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,x.ZP)("/api/pipeline/atom/list",u()({method:"GET",params:u()({},a)},Z||{})));case 1:case"end":return f.stop()}},r)})),D.apply(this,arguments)}var j=function(a){return(0,x.ZP)("/api/pipeline/atom/delete/"+a,{method:"delete"})}},36992:function(Y,p,e){e.d(p,{Z:function(){return u}});var y=e(74330),l={loading:"loading___Ykrsi"},o=e(86074),u=function(d){var c=d.size,x=c===void 0?"large":c;return(0,o.jsx)("div",{className:l.loading,children:(0,o.jsx)(y.Z,{size:x})})}},75662:function(Y,p,e){e.d(p,{Z:function(){return F}});var y=e(97857),l=e.n(y),o=e(5574),u=e.n(o),d=e(62435),c=e(90814),x=e(55241),v=e(85265),D=e(48054),j=e(73255),r=e(84611),a=e(86074),Z=function(h){var P=h.total,z=P===void 0?0:P,U=h.current,K=U===void 0?1:U,M=h.size,T=M===void 0?10:M,N=h.showSizeChanger,$=N===void 0?!0:N,m=h.showQuickJumper,J=m===void 0?!0:m,S=h.onChange,H=function(b,X){S(b,X)},A=function(b){return"\u5171 ".concat(b," \u6761")};return(0,a.jsx)("div",{className:"paginationWrap",children:(0,a.jsx)(r.Z,{total:z,current:K,pageSize:T,defaultCurrent:K,responsive:!0,onChange:H,showTotal:A,defaultPageSize:10,pageSizeOptions:[10,20,50,100],showSizeChanger:$,showQuickJumper:J})})},C=Z,f=e(85311),L=function(h,P){var z,U=(0,d.useState)(!1),K=u()(U,2),M=K[0],T=K[1],N=(0,d.useState)({}),$=u()(N,2),m=$[0],J=$[1],S=(0,d.useState)({current:1,size:10,total:0}),H=u()(S,2),A=H[0],n=H[1],b=(0,d.useState)([]),X=u()(b,2),Ce=X[0],se=X[1],le=(0,d.useState)(!1),ue=u()(le,2),de=ue[0],ee=ue[1];(0,d.useImperativeHandle)(P,function(){return{open:M,setOpen:T,show:ce}});var ne=function(){T(!1)},ce=function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J(I),T(O)},ve=function(O,I){var G=O||1,Q=I||10;ee(!0),(0,f.o)({page_num:G,size:Q}).then(function(te){var k=te||{},B=k.data,ae=B===void 0?{}:B,_=ae.atom_info,he=_===void 0?[]:_,re=k.total,ge=re===void 0?0:re;ee(!1),se(he||[]),n({pNum:G,psize:Q,total:ge})})},fe=function(O,I){n(function(G){return l()(l()({},G),{},{current:O,size:I})}),ve(O,I)},q=[{title:"\u6D41\u6C34\u7EBF\u540D\u79F0",dataIndex:"name",key:"name",align:"center"},{title:"\u6700\u8FD1\u6267\u884C\u4EBA",dataIndex:"execer",key:"execer",align:"center"},{title:"\u6700\u65B0\u6267\u884C\u65F6\u95F4",dataIndex:"time",key:"time",align:"center",render:function(O){return(0,a.jsx)(a.Fragment,{children:"2023-05-15 01:00:00"})}}],me=function(){var O=m||{},I=O.name,G=I===void 0?"":I,Q=O.creator_display_name,te=Q===void 0?"":Q,k=O.description,B=k===void 0?"":k;return(0,a.jsxs)("ul",{className:"info",children:[(0,a.jsxs)("li",{children:["\u540D\u79F0\uFF1A ",G]}),(0,a.jsxs)("li",{children:["\u7B80\u4ECB\uFF1A",(B==null?void 0:B.length)>=18?(0,a.jsxs)(x.Z,{content:B,children:[B.substr(0,18)," ..."]}):B]}),(0,a.jsxs)("li",{children:["\u53D1\u5E03\u8005\uFF1A",te]}),(0,a.jsx)("li",{children:"\u53D1\u5E03\u65F6\u95F4\uFF1A2022-12-03 22:15:18"})]})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(v.Z,{className:"detailWrapper",title:m==null?void 0:m.name,placement:"right",onClose:ne,open:M,width:644,closeIcon:(0,a.jsx)(c.Z,{}),children:[me(),(0,a.jsxs)("p",{children:[(0,a.jsx)("br",{}),(0,a.jsxs)("b",{children:["\u5173\u8054\u6D41\u6C34\u7EBF\uFF08",(m==null||(z=m.list)===null||z===void 0?void 0:z.length)||0,"\uFF09"]})]}),(0,a.jsxs)(D.Z,{loading:de,children:[(0,a.jsx)(j.Z,{columns:q,dataSource:m==null?void 0:m.list,rowKey:"id",pagination:!1}),(0,a.jsx)("p",{children:(0,a.jsx)(C,{current:A.current,size:A.size,total:A.total,onChange:fe})})]})]})})},F=(0,d.forwardRef)(L)},75193:function(Y,p,e){e.d(p,{Z:function(){return v}});var y=e(5574),l=e.n(y),o=e(62435),u=e(59259),d=e(84567),c=e(86074),x=function(j,r){var a=(0,o.useState)(!1),Z=l()(a,2),C=Z[0],f=Z[1],L=["\u4F7F\u7528\u9891\u7387\u4E0D\u9AD8","\u4E0B\u8F7D\u540E\u53D1\u73B0\u4E0D\u7B26\u5408\u4F7F\u7528\u9700\u6C42","\u4E0D\u591F\u597D\u7528"];(0,o.useImperativeHandle)(r,function(){return{isModalOpen:C,setIsModalOpen:f}});var F=function(){f(!1)},W=function(){f(!1)},h=function(z){console.log("checked = ",z)};return(0,c.jsx)(u.Z,{title:"\u5378\u8F7D\u539F\u56E0",open:C,onOk:F,onCancel:W,children:(0,c.jsx)("div",{className:"unloadWrapper",children:(0,c.jsx)(d.Z.Group,{options:L,defaultValue:["\u4F7F\u7528\u9891\u7387\u4E0D\u9AD8"],onChange:h})})})},v=(0,o.forwardRef)(x)},68095:function(Y,p,e){e.r(p),e.d(p,{default:function(){return le}});var y=e(15009),l=e.n(y),o=e(99289),u=e.n(o),d=e(97857),c=e.n(d),x=e(19632),v=e.n(x),D=e(5574),j=e.n(D),r=e(62435),a=e(59259),Z=e(55241),C=e(77683),f=e(68872),L=e(92398),F=e(90930),W=e(36992),h=e(85311),P=e(47731),z=e(12657),U=e(86548),K=e(48689),M=e(11475),T=e(24969),N=e(30381),$=e.n(N),m=e(75662),J=e(75193),S=e(74877),H=e(88026),A=e(19110),n=e(86074),b=null,X=a.Z.confirm,Ce=!0,se=function(de){var ee=(0,r.useState)([]),ne=j()(ee,2),ce=ne[0],ve=ne[1],fe=(0,S.DP)(),q=fe.type,me=(0,r.useState)(q||"all"),V=j()(me,2),O=V[0],I=V[1],G=(0,r.useState)(!1),Q=j()(G,2),te=Q[0],k=Q[1],B=(0,r.useState)({}),ae=j()(B,2),_=ae[0],he=ae[1],re=(0,r.useReducer)(function(s){return s+1},0),ge=j()(re,2),ye=ge[1],pe=(0,r.useRef)(null),Se=(0,r.useRef)(null),w=(0,r.useRef)(null),Le=(0,r.useRef)(null),Oe=(0,H.useModel)("@@initialState"),Ee=Oe.initialState,xe=Ee.currentUser,ie=xe===void 0?{}:xe;(0,r.useEffect)(function(){setTimeout(function(){try{q&&I(q);var s=w.current.getQueryParams();(0,S.qA)(v()(Object.keys(c()(c()({},s),(0,S.DP)()))))}catch(i){console.log(i)}},100)},[]);var Ze=function(i){w.current.setField([{key:"name",value:void 0}]),I(i)},Pe=function(){var s=u()(l()().mark(function i(t){var E,R;return l()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return console.log(t),t.type=O,t.size=t.pageSize,t.page_num=t.current,delete t.pageSize,delete t.current,g.next=8,(0,h.o)(t);case 8:E=g.sent,R=E.data.atom_type||[],E.data=E.data.atom_info||[],ve(R),he(E);case 13:case"end":return g.stop()}},i)}));return function(t){return s.apply(this,arguments)}}(),Ae=function(i,t){console.log(i),t.switchLoading=!0,ye(),setTimeout(function(){w.current.update(),t.switchLoading=!1},1e3)},ze=[{title:"\u56FE\u6807",dataIndex:"name",key:"name",render:function(i,t){var E=t||{},R=E.version,je=E.description,g=E.logo_url;return(0,n.jsx)("div",{className:"logo",children:(0,n.jsx)("img",{src:g,style:{width:"30px"}})})}},{title:"\u540D\u79F0",dataIndex:"name",key:"name",render:function(i,t){return(0,n.jsx)("div",{className:"common-link",onClick:function(){return oe(t,"view")},children:(0,n.jsx)(A.Bc,{text:i,children:(0,n.jsx)("div",{children:i})})})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",render:function(i){return(0,n.jsx)("div",{children:(0,n.jsx)(A.Bc,{text:i,children:(0,n.jsx)("div",{children:i})})})}},{title:"\u5F15\u7528\u6B21\u6570",dataIndex:"pipeline_cnt",key:"pipeline_cnt",render:function(i,t){return(0,n.jsxs)("a",{onClick:function(){var R;return pe.current&&((R=pe.current)===null||R===void 0?void 0:R.show(!0,t))},children:[" ",i]})}},{title:"\u521B\u5EFA\u4EBA",dataIndex:"creator_display_name",key:"creator_display_name",render:function(i,t){return(0,n.jsx)(n.Fragment,{children:i||"-"})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",key:"created_at",render:function(i,t){return(0,n.jsx)(n.Fragment,{children:$()(t==null?void 0:t.created_at).format("YYYY-MM-DD HH:mm:ss")})}},{title:"\u64CD\u4F5C",dataIndex:"operate",key:"operate",width:160,render:function(i,t,E){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z.Z,{content:"\u67E5\u770B\u8BE6\u60C5",trigger:"hover",children:(0,n.jsx)(C.ZP,{icon:(0,n.jsx)(z.Z,{}),onClick:function(){return oe(t,"view")}})}),"\xA0\xA0\xA0",(0,n.jsx)(Z.Z,{content:"".concat((0,S.Hb)(ie,t==null?void 0:t.creator_user_id)?"\u7F16\u8F91":"\u6682\u65E0\u6743\u9650"),trigger:"hover",children:(0,n.jsx)(C.ZP,{type:"primary",disabled:!(0,S.Hb)(ie,t==null?void 0:t.creator_user_id),ghost:!0,icon:(0,n.jsx)(U.Z,{}),onClick:function(){return oe(t)}})}),"\xA0\xA0\xA0",(0,n.jsx)(Z.Z,{content:"".concat((0,S.Hb)(ie,t==null?void 0:t.creator_user_id)?"\u5220\u9664":"\u6682\u65E0\u6743\u9650"),trigger:"hover",children:(0,n.jsx)(C.ZP,{disabled:!(0,S.Hb)(ie,t==null?void 0:t.creator_user_id),danger:!0,onClick:function(){return Te(t,E)},icon:(0,n.jsx)(K.Z,{})})})]})}}],Te=function(i,t){X({icon:(0,n.jsx)(M.Z,{}),content:(0,n.jsx)("p",{children:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F"}),onOk:function(){return u()(l()().mark(function R(){return l()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,(0,h.k)(i.uuid);case 3:f.ZP.success("\u5220\u9664\u6210\u529F"),w.current.update(),g.next=9;break;case 7:g.prev=7,g.t0=g.catch(0);case 9:case"end":return g.stop()}},R,null,[[0,7]])}))()},onCancel:function(){console.log("Cancel")}})},De=[{type:"input",form:{label:"\u63D2\u4EF6\u540D\u79F0",name:"name"},componentOptions:{placeholder:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u540D\u79F0"}}],oe=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;(0,S.SP)(c()(c()({},w.current.getQueryParams()),{},{type:O})),de.history.push("/FlowLine/pluginMarket/detail?id=".concat(i.uuid||"","&from=").concat(t||""))};return(0,n.jsx)(F._z,{children:(0,n.jsxs)("div",{className:"pluginMarketWrapper",children:[(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(W.Z,{}),children:(0,n.jsx)(L.Z,{onChange:Ze,defaultActiveKey:"all",destroyInactiveTabPane:!0,activeKey:O,children:(ce||[]).map(function(s){return(0,n.jsx)(L.Z.TabPane,{tab:s==null?void 0:s.name},s==null?void 0:s.type)})})}),(0,n.jsxs)(P.Z,{searchOptions:De,getData:Pe,data:_.data,total:_.total,ref:w,showTableFilter:!1,hasNavigation:!1,columns:ze,children:[(0,n.jsx)("div",{style:{position:"relative"},children:(0,n.jsx)(C.ZP,{type:"primary",icon:(0,n.jsx)(T.Z,{}),onClick:function(){return oe()},children:"\u65B0\u589E"})}),(0,n.jsx)("br",{})]}),(0,n.jsx)(m.Z,{ref:pe}),(0,n.jsx)(J.Z,{ref:Se})]})})},le=se},19110:function(Y,p,e){e.d(p,{TI:function(){return a},gb:function(){return r},Bc:function(){return D}});var y=e(5574),l=e.n(y),o=e(62435),u=e(61781),d=e(74330),c=e(57132),x=e(74877),v=e(86074),D=function(C){var f=C.text,L=f===void 0?"":f,F=(0,o.useRef)(null),W=(0,o.useState)(!1),h=l()(W,2),P=h[0],z=h[1];(0,o.useEffect)(function(){U()},[L]);var U=function(){var M=F.current,T=M.getBoundingClientRect().width,N=M.innerText;T<100&&(T=100);var $=0,m="",J=document.createElement("canvas"),S=J.getContext("2d"),H="";S.font="12px \u5B8B\u4F53";for(var A=0;A<N.length;A++){var n=N[A];if($+40>T){H=m+"...";break}else{var b=S.measureText(n).width;$+=b,m+=n,H=m}}M.innerText=H,T<=100&&($-=10),$+40>T?z(!0):z(!1)};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.Z,{title:P?L:"",children:o.cloneElement(C.children,{ref:F})})})},j=function(C,f){var L=(0,o.useState)(!1),F=l()(L,2),W=F[0],h=F[1];(0,o.useImperativeHandle)(f,function(){return{handleDisplay:P}});var P=function(U){h(U)};return W?(0,v.jsx)("div",{className:"utils-common-loading-container flex-center",children:(0,v.jsx)(d.Z,{tip:"Loading..."})}):(0,v.jsx)(v.Fragment,{})},r=(0,o.forwardRef)(j),a=function(C){var f=C.text;return(0,v.jsx)(c.Z,{onClick:function(){return(0,x.zp)(f)}})}}}]);
