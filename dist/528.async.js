var RR=Object.defineProperty,OR=Object.defineProperties;var VR=Object.getOwnPropertyDescriptors;var A_=Object.getOwnPropertySymbols;var FR=Object.prototype.hasOwnProperty,jR=Object.prototype.propertyIsEnumerable;var lm=(W,R)=>(R=Symbol[W])?R:Symbol.for("Symbol."+W),HR=W=>{throw TypeError(W)},dm=Math.pow,C_=(W,R,N)=>R in W?RR(W,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):W[R]=N,U=(W,R)=>{for(var N in R||(R={}))FR.call(R,N)&&C_(W,N,R[N]);if(A_)for(var N of A_(R))jR.call(R,N)&&C_(W,N,R[N]);return W},ie=(W,R)=>OR(W,VR(R));var qe=(W,R,N)=>new Promise((G,F)=>{var I=k=>{try{w(N.next(k))}catch(h){F(h)}},H=k=>{try{w(N.throw(k))}catch(h){F(h)}},w=k=>k.done?G(k.value):Promise.resolve(k.value).then(I,H);w((N=N.apply(W,R)).next())}),UR=function(W,R){this[0]=W,this[1]=R};var Gt=W=>{var R=W[lm("asyncIterator")],N=!1,G,F={};return R==null?(R=W[lm("iterator")](),G=I=>F[I]=H=>R[I](H)):(R=R.call(W),G=I=>F[I]=H=>{if(N){if(N=!1,I==="throw")throw H;return H}return N=!0,{done:!1,value:new UR(new Promise(w=>{var k=R[I](H);k instanceof Object||HR("Object expected"),w(k)}),1)}}),F[lm("iterator")]=()=>F,G("next"),"throw"in R?G("throw"):F.throw=I=>{throw I},"return"in R&&G("return"),F};(self.webpackChunk=self.webpackChunk||[]).push([[528],{41156:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},14313:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},8751:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},18429:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},53971:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},2068:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},73403:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},12119:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},37446:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},89344:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM456 344h264v98.2c0 8.1 9.5 12.8 15.8 7.7l172.5-136.2c5-3.9 5-11.4 0-15.3L735.8 162.1c-6.4-5.1-15.8-.5-15.8 7.7V268H456c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8z"}}]},name:"node-expand",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},30159:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},45742:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},56034:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},93045:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},87784:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},48115:function(W,R,N){"use strict";N.d(R,{Z:function(){return y}});var G=N(87462),F=N(62435),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},H=I,w=N(84089),k=function(C,E){return F.createElement(w.Z,(0,G.Z)({},C,{ref:E,icon:H}))},h=F.forwardRef(k),y=h},72757:function(W,R,N){W=N.nmd(W);(function(G,F){W.exports=F(N(62435))})(self,G=>(()=>{var F={703:(k,h,y)=>{"use strict";var x=y(414);function C(){}function E(){}E.resetWarningCache=C,k.exports=function(){function p(Ct,ge,$e,Pe,fe,Re){if(Re!==x){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}}function D(){return p}p.isRequired=p;var it={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:D,element:p,elementType:p,instanceOf:D,node:p,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:E,resetWarningCache:C};return it.PropTypes=it,it}},697:(k,h,y)=>{k.exports=y(703)()},414:k=>{"use strict";k.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:k=>{"use strict";k.exports=G}},I={};function H(k){var h=I[k];if(h!==void 0)return h.exports;var y=I[k]={exports:{}};return F[k](y,y.exports,H),y.exports}H.n=k=>{var h=k&&k.__esModule?()=>k.default:()=>k;return H.d(h,{a:h}),h},H.d=(k,h)=>{for(var y in h)H.o(h,y)&&!H.o(k,y)&&Object.defineProperty(k,y,{enumerable:!0,get:h[y]})},H.o=(k,h)=>Object.prototype.hasOwnProperty.call(k,h),H.r=k=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var w={};return(()=>{"use strict";H.r(w),H.d(w,{CKEditor:()=>_n,CKEditorContext:()=>Gn});var k=H(787),h=H.n(k),y=H(697),x=H.n(y);const C=function(g){var f=typeof g;return g!=null&&(f=="object"||f=="function")},E=typeof N.g=="object"&&N.g&&N.g.Object===Object&&N.g;var p=typeof self=="object"&&self&&self.Object===Object&&self;const D=E||p||Function("return this")(),it=function(){return D.Date.now()};var Ct=/\s/;const ge=function(g){for(var f=g.length;f--&&Ct.test(g.charAt(f)););return f};var $e=/^\s+/;const Pe=function(g){return g&&g.slice(0,ge(g)+1).replace($e,"")},fe=D.Symbol;var Re=Object.prototype,X=Re.hasOwnProperty,ot=Re.toString,ct=fe?fe.toStringTag:void 0;const pt=function(g){var f=X.call(g,ct),_=g[ct];try{g[ct]=void 0;var M=!0}catch(tt){}var K=ot.call(g);return M&&(f?g[ct]=_:delete g[ct]),K};var gt=Object.prototype.toString;const St=function(g){return gt.call(g)};var Yt=fe?fe.toStringTag:void 0;const Jt=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":Yt&&Yt in Object(g)?pt(g):St(g)},de=function(g){return g!=null&&typeof g=="object"},Xt=function(g){return typeof g=="symbol"||de(g)&&Jt(g)=="[object Symbol]"};var Rt=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,um=/^0o[0-7]+$/i,we=parseInt;const Do=function(g){if(typeof g=="number")return g;if(Xt(g))return NaN;if(C(g)){var f=typeof g.valueOf=="function"?g.valueOf():g;g=C(f)?f+"":f}if(typeof g!="string")return g===0?g:+g;g=Pe(g);var _=oe.test(g);return _||um.test(g)?we(g.slice(2),_?2:8):Rt.test(g)?NaN:+g};var Za=Math.max,v=Math.min;const _t=function(g,f,_){var M,K,tt,st,at,Ot,Lt=0,Wi=!1,Ze=!1,Ve=!0;if(typeof g!="function")throw new TypeError("Expected a function");function Se(te){var Je=M,$i=K;return M=K=void 0,Lt=te,st=g.apply($i,Je)}function Gi(te){return Lt=te,at=setTimeout(Ce,f),Wi?Se(te):st}function li(te){var Je=te-Ot;return Ot===void 0||Je>=f||Je<0||Ze&&te-Lt>=tt}function Ce(){var te=it();if(li(te))return Qe(te);at=setTimeout(Ce,function(Je){var $i=f-(Je-Ot);return Ze?v($i,tt-(Je-Lt)):$i}(te))}function Qe(te){return at=void 0,Ve&&M?Se(te):(M=K=void 0,st)}function qi(){var te=it(),Je=li(te);if(M=arguments,K=this,Ot=te,Je){if(at===void 0)return Gi(Ot);if(Ze)return clearTimeout(at),at=setTimeout(Ce,f),Se(Ot)}return at===void 0&&(at=setTimeout(Ce,f)),st}return f=Do(f)||0,C(_)&&(Wi=!!_.leading,tt=(Ze="maxWait"in _)?Za(Do(_.maxWait)||0,f):tt,Ve="trailing"in _?!!_.trailing:Ve),qi.cancel=function(){at!==void 0&&clearTimeout(at),Lt=0,M=Ot=K=at=void 0},qi.flush=function(){return at===void 0?st:Qe(it())},qi},hm=function(g,f,_){var M=!0,K=!0;if(typeof g!="function")throw new TypeError("Expected a function");return C(_)&&(M="leading"in _?!!_.leading:M,K="trailing"in _?!!_.trailing:K),_t(g,f,{leading:M,maxWait:f,trailing:K})},Vr=function(){this.__data__=[],this.size=0},Fr=function(g,f){return g===f||g!=g&&f!=f},ti=function(g,f){for(var _=g.length;_--;)if(Fr(g[_][0],f))return _;return-1};var Qa=Array.prototype.splice;const mm=function(g){var f=this.__data__,_=ti(f,g);return!(_<0)&&(_==f.length-1?f.pop():Qa.call(f,_,1),--this.size,!0)},jr=function(g){var f=this.__data__,_=ti(f,g);return _<0?void 0:f[_][1]},Nn=function(g){return ti(this.__data__,g)>-1},To=function(g,f){var _=this.__data__,M=ti(_,g);return M<0?(++this.size,_.push([g,f])):_[M][1]=f,this};function pe(g){var f=-1,_=g==null?0:g.length;for(this.clear();++f<_;){var M=g[f];this.set(M[0],M[1])}}pe.prototype.clear=Vr,pe.prototype.delete=mm,pe.prototype.get=jr,pe.prototype.has=Nn,pe.prototype.set=To;const ei=pe,kt=function(){this.__data__=new ei,this.size=0},Ja=function(g){var f=this.__data__,_=f.delete(g);return this.size=f.size,_},Hr=function(g){return this.__data__.get(g)},So=function(g){return this.__data__.has(g)},Io=function(g){if(!C(g))return!1;var f=Jt(g);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"},Mo=D["__core-js_shared__"];var Ur=function(){var g=/[^.]+$/.exec(Mo&&Mo.keys&&Mo.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();const Bo=function(g){return!!Ur&&Ur in g};var Wr=Function.prototype.toString;const rn=function(g){if(g!=null){try{return Wr.call(g)}catch(f){}try{return g+""}catch(f){}}return""};var Xa=/^\[object .+?Constructor\]$/,zo=Function.prototype,tc=Object.prototype,vt=zo.toString,Li=tc.hasOwnProperty,Pi=RegExp("^"+vt.call(Li).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ri=function(g){return!(!C(g)||Bo(g))&&(Io(g)?Pi:Xa).test(rn(g))},Ln=function(g,f){return g==null?void 0:g[f]},sn=function(g,f){var _=Ln(g,f);return Ri(_)?_:void 0},Pn=sn(D,"Map"),ut=sn(Object,"create"),No=function(){this.__data__=ut?ut(null):{},this.size=0},ec=function(g){var f=this.has(g)&&delete this.__data__[g];return this.size-=f?1:0,f};var nc=Object.prototype.hasOwnProperty;const ic=function(g){var f=this.__data__;if(ut){var _=f[g];return _==="__lodash_hash_undefined__"?void 0:_}return nc.call(f,g)?f[g]:void 0};var Gr=Object.prototype.hasOwnProperty;const oc=function(g){var f=this.__data__;return ut?f[g]!==void 0:Gr.call(f,g)},rc=function(g,f){var _=this.__data__;return this.size+=this.has(g)?0:1,_[g]=ut&&f===void 0?"__lodash_hash_undefined__":f,this};function Rn(g){var f=-1,_=g==null?0:g.length;for(this.clear();++f<_;){var M=g[f];this.set(M[0],M[1])}}Rn.prototype.clear=No,Rn.prototype.delete=ec,Rn.prototype.get=ic,Rn.prototype.has=oc,Rn.prototype.set=rc;const Lo=Rn,sc=function(){this.size=0,this.__data__={hash:new Lo,map:new(Pn||ei),string:new Lo}},qr=function(g){var f=typeof g;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?g!=="__proto__":g===null},On=function(g,f){var _=g.__data__;return qr(f)?_[typeof f=="string"?"string":"hash"]:_.map},re=function(g){var f=On(this,g).delete(g);return this.size-=f?1:0,f},Ae=function(g){return On(this,g).get(g)},ac=function(g){return On(this,g).has(g)},$r=function(g,f){var _=On(this,g),M=_.size;return _.set(g,f),this.size+=_.size==M?0:1,this};function Vn(g){var f=-1,_=g==null?0:g.length;for(this.clear();++f<_;){var M=g[f];this.set(M[0],M[1])}}Vn.prototype.clear=sc,Vn.prototype.delete=re,Vn.prototype.get=Ae,Vn.prototype.has=ac,Vn.prototype.set=$r;const cc=Vn,Te=function(g,f){var _=this.__data__;if(_ instanceof ei){var M=_.__data__;if(!Pn||M.length<199)return M.push([g,f]),this.size=++_.size,this;_=this.__data__=new cc(M)}return _.set(g,f),this.size=_.size,this};function Fn(g){var f=this.__data__=new ei(g);this.size=f.size}Fn.prototype.clear=kt,Fn.prototype.delete=Ja,Fn.prototype.get=Hr,Fn.prototype.has=So,Fn.prototype.set=Te;const Oe=Fn,Kr=function(g,f){for(var _=-1,M=g==null?0:g.length;++_<M&&f(g[_],_,g)!==!1;);return g},Yr=function(){try{var g=sn(Object,"defineProperty");return g({},"",{}),g}catch(f){}}(),Zr=function(g,f,_){f=="__proto__"&&Yr?Yr(g,f,{configurable:!0,enumerable:!0,value:_,writable:!0}):g[f]=_};var ni=Object.prototype.hasOwnProperty;const Qr=function(g,f,_){var M=g[f];ni.call(g,f)&&Fr(M,_)&&(_!==void 0||f in g)||Zr(g,f,_)},Oi=function(g,f,_,M){var K=!_;_||(_={});for(var tt=-1,st=f.length;++tt<st;){var at=f[tt],Ot=M?M(_[at],g[at],at,_,g):void 0;Ot===void 0&&(Ot=g[at]),K?Zr(_,at,Ot):Qr(_,at,Ot)}return _},lc=function(g,f){for(var _=-1,M=Array(g);++_<g;)M[_]=f(_);return M},Jr=function(g){return de(g)&&Jt(g)=="[object Arguments]"};var Xr=Object.prototype,dc=Xr.hasOwnProperty,uc=Xr.propertyIsEnumerable;const hc=Jr(function(){return arguments}())?Jr:function(g){return de(g)&&dc.call(g,"callee")&&!uc.call(g,"callee")},Vi=Array.isArray,mc=function(){return!1};var Ke=R&&!R.nodeType&&R,ts=Ke&&!0&&W&&!W.nodeType&&W,se=ts&&ts.exports===Ke?D.Buffer:void 0;const es=(se?se.isBuffer:void 0)||mc;var ve=/^(?:0|[1-9]\d*)$/;const gc=function(g,f){var _=typeof g;return!!(f=f==null?9007199254740991:f)&&(_=="number"||_!="symbol"&&ve.test(g))&&g>-1&&g%1==0&&g<f},ns=function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=9007199254740991};var yt={};yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;const Fi=function(g){return de(g)&&ns(g.length)&&!!yt[Jt(g)]},Po=function(g){return function(f){return g(f)}};var Ro=R&&!R.nodeType&&R,ii=Ro&&!0&&W&&!W.nodeType&&W,oi=ii&&ii.exports===Ro&&E.process;const jn=function(){try{var g=ii&&ii.require&&ii.require("util").types;return g||oi&&oi.binding&&oi.binding("util")}catch(f){}}();var is=jn&&jn.isTypedArray;const fc=is?Po(is):Fi;var os=Object.prototype.hasOwnProperty;const rs=function(g,f){var _=Vi(g),M=!_&&hc(g),K=!_&&!M&&es(g),tt=!_&&!M&&!K&&fc(g),st=_||M||K||tt,at=st?lc(g.length,String):[],Ot=at.length;for(var Lt in g)!f&&!os.call(g,Lt)||st&&(Lt=="length"||K&&(Lt=="offset"||Lt=="parent")||tt&&(Lt=="buffer"||Lt=="byteLength"||Lt=="byteOffset")||gc(Lt,Ot))||at.push(Lt);return at};var pc=Object.prototype;const Oo=function(g){var f=g&&g.constructor;return g===(typeof f=="function"&&f.prototype||pc)},ue=function(g,f){return function(_){return g(f(_))}},bc=ue(Object.keys,Object);var kc=Object.prototype.hasOwnProperty;const wc=function(g){if(!Oo(g))return bc(g);var f=[];for(var _ in Object(g))kc.call(g,_)&&_!="constructor"&&f.push(_);return f},Hn=function(g){return g!=null&&ns(g.length)&&!Io(g)},Vo=function(g){return Hn(g)?rs(g):wc(g)},ji=function(g,f){return g&&Oi(f,Vo(f),g)},Ac=function(g){var f=[];if(g!=null)for(var _ in Object(g))f.push(_);return f};var Cc=Object.prototype.hasOwnProperty;const _c=function(g){if(!C(g))return Ac(g);var f=Oo(g),_=[];for(var M in g)(M!="constructor"||!f&&Cc.call(g,M))&&_.push(M);return _},Fo=function(g){return Hn(g)?rs(g,!0):_c(g)},vc=function(g,f){return g&&Oi(f,Fo(f),g)};var ss=R&&!R.nodeType&&R,as=ss&&!0&&W&&!W.nodeType&&W,cs=as&&as.exports===ss?D.Buffer:void 0,ls=cs?cs.allocUnsafe:void 0;const yc=function(g,f){if(f)return g.slice();var _=g.length,M=ls?ls(_):new g.constructor(_);return g.copy(M),M},Un=function(g,f){var _=-1,M=g.length;for(f||(f=Array(M));++_<M;)f[_]=g[_];return f},Hi=function(g,f){for(var _=-1,M=g==null?0:g.length,K=0,tt=[];++_<M;){var st=g[_];f(st,_,g)&&(tt[K++]=st)}return tt},ds=function(){return[]};var xc=Object.prototype.propertyIsEnumerable,us=Object.getOwnPropertySymbols;const jo=us?function(g){return g==null?[]:(g=Object(g),Hi(us(g),function(f){return xc.call(g,f)}))}:ds,Ec=function(g,f){return Oi(g,jo(g),f)},hs=function(g,f){for(var _=-1,M=f.length,K=g.length;++_<M;)g[K+_]=f[_];return g},Ho=ue(Object.getPrototypeOf,Object),ms=Object.getOwnPropertySymbols?function(g){for(var f=[];g;)hs(f,jo(g)),g=Ho(g);return f}:ds,Dc=function(g,f){return Oi(g,ms(g),f)},gs=function(g,f,_){var M=f(g);return Vi(g)?M:hs(M,_(g))},Tc=function(g){return gs(g,Vo,jo)},Sc=function(g){return gs(g,Fo,ms)},Uo=sn(D,"DataView"),Ye=sn(D,"Promise"),Wo=sn(D,"Set"),ri=sn(D,"WeakMap");var Go="[object Map]",fs="[object Promise]",ps="[object Set]",bs="[object WeakMap]",ks="[object DataView]",Ic=rn(Uo),wn=rn(Pn),Mc=rn(Ye),Bc=rn(Wo),zc=rn(ri),An=Jt;(Uo&&An(new Uo(new ArrayBuffer(1)))!=ks||Pn&&An(new Pn)!=Go||Ye&&An(Ye.resolve())!=fs||Wo&&An(new Wo)!=ps||ri&&An(new ri)!=bs)&&(An=function(g){var f=Jt(g),_=f=="[object Object]"?g.constructor:void 0,M=_?rn(_):"";if(M)switch(M){case Ic:return ks;case wn:return Go;case Mc:return fs;case Bc:return ps;case zc:return bs}return f});const qo=An;var Nc=Object.prototype.hasOwnProperty;const Lc=function(g){var f=g.length,_=new g.constructor(f);return f&&typeof g[0]=="string"&&Nc.call(g,"index")&&(_.index=g.index,_.input=g.input),_},ws=D.Uint8Array,$o=function(g){var f=new g.constructor(g.byteLength);return new ws(f).set(new ws(g)),f},Pc=function(g,f){var _=f?$o(g.buffer):g.buffer;return new g.constructor(_,g.byteOffset,g.byteLength)};var Rc=/\w*$/;const Oc=function(g){var f=new g.constructor(g.source,Rc.exec(g));return f.lastIndex=g.lastIndex,f};var an=fe?fe.prototype:void 0,As=an?an.valueOf:void 0;const si=function(g){return As?Object(As.call(g)):{}},Vc=function(g,f){var _=f?$o(g.buffer):g.buffer;return new g.constructor(_,g.byteOffset,g.length)},ai=function(g,f,_){var M=g.constructor;switch(f){case"[object ArrayBuffer]":return $o(g);case"[object Boolean]":case"[object Date]":return new M(+g);case"[object DataView]":return Pc(g,_);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vc(g,_);case"[object Map]":case"[object Set]":return new M;case"[object Number]":case"[object String]":return new M(g);case"[object RegExp]":return Oc(g);case"[object Symbol]":return si(g)}};var Cs=Object.create;const Fc=function(){function g(){}return function(f){if(!C(f))return{};if(Cs)return Cs(f);g.prototype=f;var _=new g;return g.prototype=void 0,_}}(),jc=function(g){return typeof g.constructor!="function"||Oo(g)?{}:Fc(Ho(g))},Hc=function(g){return de(g)&&qo(g)=="[object Map]"};var _s=jn&&jn.isMap;const Uc=_s?Po(_s):Hc,Wc=function(g){return de(g)&&qo(g)=="[object Set]"};var vs=jn&&jn.isSet;const Gc=vs?Po(vs):Wc;var ys="[object Arguments]",xs="[object Function]",Es="[object Object]",xt={};xt[ys]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object DataView]"]=xt["[object Boolean]"]=xt["[object Date]"]=xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Map]"]=xt["[object Number]"]=xt[Es]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object Symbol]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Error]"]=xt[xs]=xt["[object WeakMap]"]=!1;const qc=function g(f,_,M,K,tt,st){var at,Ot=1&_,Lt=2&_,Wi=4&_;if(M&&(at=tt?M(f,K,tt,st):M(f)),at!==void 0)return at;if(!C(f))return f;var Ze=Vi(f);if(Ze){if(at=Lc(f),!Ot)return Un(f,at)}else{var Ve=qo(f),Se=Ve==xs||Ve=="[object GeneratorFunction]";if(es(f))return yc(f,Ot);if(Ve==Es||Ve==ys||Se&&!tt){if(at=Lt||Se?{}:jc(f),!Ot)return Lt?Dc(f,vc(at,f)):Ec(f,ji(at,f))}else{if(!xt[Ve])return tt?f:{};at=ai(f,Ve,Ot)}}st||(st=new Oe);var Gi=st.get(f);if(Gi)return Gi;st.set(f,at),Gc(f)?f.forEach(function(Ce){at.add(g(Ce,_,M,Ce,f,st))}):Uc(f)&&f.forEach(function(Ce,Qe){at.set(Qe,g(Ce,_,M,Qe,f,st))});var li=Ze?void 0:(Wi?Lt?Sc:Tc:Lt?Fo:Vo)(f);return Kr(li||f,function(Ce,Qe){li&&(Ce=f[Qe=Ce]),Qr(at,Qe,g(Ce,_,M,Qe,f,st))}),at},$c=function(g,f){return qc(g,5,f=typeof f=="function"?f:void 0)};var Kc=Function.prototype,Wn=Object.prototype,Ko=Kc.toString,Yc=Wn.hasOwnProperty,Zc=Ko.call(Object);const Qc=function(g){if(!de(g)||Jt(g)!="[object Object]")return!1;var f=Ho(g);if(f===null)return!0;var _=Yc.call(f,"constructor")&&f.constructor;return typeof _=="function"&&_ instanceof _&&Ko.call(_)==Zc},Jc=function(g){return de(g)&&g.nodeType===1&&!Qc(g)};function Yo(g,f=new Set){const _=[g],M=new Set;let K=0;for(;_.length>K;){const tt=_[K++];if(!(M.has(tt)||Ui(tt)||f.has(tt)))if(M.add(tt),tt[Symbol.iterator])try{for(const st of tt)_.push(st)}catch(st){}else for(const st in tt)st!=="defaultValue"&&_.push(tt[st])}return M}function Ui(g){const f=Object.prototype.toString.call(g),_=typeof g;return _==="number"||_==="boolean"||_==="string"||_==="symbol"||_==="function"||f==="[object Date]"||f==="[object RegExp]"||f==="[object Module]"||g==null||g._watchdogExcluded===!0||g instanceof EventTarget||g instanceof Event}function Ds(g,f,_=new Set){if(g===f&&typeof(M=g)=="object"&&M!==null)return!0;var M;const K=Yo(g,_),tt=Yo(f,_);for(const st of K)if(tt.has(st))return!0;return!1}class Ts{constructor(f){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof f.crashNumberLimit=="number"?f.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof f.minimumNonErrorTimePeriod=="number"?f.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=_=>{const M=_.error||_.reason;M instanceof Error&&this._handleError(M,_)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(f){this._creator=f}setDestructor(f){this._destructor=f}destroy(){this._stopErrorHandling(),this._listeners={}}on(f,_){this._listeners[f]||(this._listeners[f]=[]),this._listeners[f].push(_)}off(f,_){this._listeners[f]=this._listeners[f].filter(M=>M!==_)}_fire(f,..._){const M=this._listeners[f]||[];for(const K of M)K.apply(this,[null,..._])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(f,_){if(this._shouldReactToError(f)){this.crashes.push({message:f.message,stack:f.stack,filename:_.filename,lineno:_.lineno,colno:_.colno,date:this._now()});const M=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:f,causesRestart:M}),M?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(f){return f.is&&f.is("CKEditorError")&&f.context!==void 0&&f.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(f)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class Ss extends Ts{constructor(f,_={}){super(_),this._editor=null,this._throttledSave=hm(this._save.bind(this),typeof _.saveInterval=="number"?_.saveInterval:5e3),this._creator=(M,K)=>f.create(M,K),this._destructor=M=>M.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(f=>{console.error("An error happened during the editor destroying.",f)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const f=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,f,f.context)}}).then(()=>{this._fire("restart")})}create(f=this._elementOrData,_=this._config,M){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=f,this._config=this._cloneEditorConfiguration(_)||{},this._config.context=M,this._creator(f,this._config))).then(K=>{this._editor=K,K.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=K.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const f=this._editor;return this._editor=null,f.model.document.off("change:data",this._throttledSave),this._destructor(f)})}_save(){const f=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=f}catch(_){console.error(_,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(f){this._excludedProps=f}_getData(){const f={};for(const _ of this._editor.model.document.getRootNames())f[_]=this._editor.data.get({rootName:_});return f}_isErrorComingFromThisItem(f){return Ds(this._editor,f.context,this._excludedProps)}_cloneEditorConfiguration(f){return $c(f,(_,M)=>Jc(_)||M==="context"?_:void 0)}}const ae=new Array(256).fill("").map((g,f)=>("0"+f.toString(16)).slice(-2)),ci=Symbol("MainQueueId");class Is extends Ts{constructor(f,_={}){super(_),this._watchdogs=new Map,this._watchdogConfig=_,this._context=null,this._contextProps=new Set,this._actionQueues=new Xc,this._creator=M=>f.create(M),this._destructor=M=>M.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(f={}){return this._actionQueues.enqueue(ci,()=>(this._contextConfig=f,this._create()))}getItem(f){return this._getWatchdog(f)._item}getItemState(f){return this._getWatchdog(f).state}add(f){const _=Ms(f);return Promise.all(_.map(M=>this._actionQueues.enqueue(M.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let K;if(this._watchdogs.has(M.id))throw new Error(`Item with the given id is already added: '${M.id}'.`);if(M.type==="editor")return K=new Ss(this._watchdogConfig),K.setCreator(M.creator),K._setExcludedProperties(this._contextProps),M.destructor&&K.setDestructor(M.destructor),this._watchdogs.set(M.id,K),K.on("error",(tt,{error:st,causesRestart:at})=>{this._fire("itemError",{itemId:M.id,error:st}),at&&this._actionQueues.enqueue(M.id,()=>new Promise(Ot=>{K.on("restart",function Lt(){K.off("restart",Lt),this._fire("itemRestart",{itemId:M.id}),Ot()}.bind(this))}))}),K.create(M.sourceElementOrData,M.config,this._context);throw new Error(`Not supported item type: '${M.type}'.`)})))}remove(f){const _=Ms(f);return Promise.all(_.map(M=>this._actionQueues.enqueue(M,()=>{const K=this._getWatchdog(M);return this._watchdogs.delete(M),K.destroy()})))}destroy(){return this._actionQueues.enqueue(ci,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ci,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(f=>{console.error("An error happened during destroying the context or items.",f)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(f=>(this._context=f,this._contextProps=Yo(this._context),Promise.all(Array.from(this._watchdogs.values()).map(_=>(_._setExcludedProperties(this._contextProps),_.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const f=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(_=>_.destroy())).then(()=>this._destructor(f))})}_getWatchdog(f){const _=this._watchdogs.get(f);if(!_)throw new Error(`Item with the given id was not registered: ${f}.`);return _}_isErrorComingFromThisItem(f){for(const _ of this._watchdogs.values())if(_._isErrorComingFromThisItem(f))return!1;return Ds(this._context,f.context)}}class Xc{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(f){this._onEmptyCallbacks.push(f)}enqueue(f,_){const M=f===ci;this._activeActions++,this._queues.get(f)||this._queues.set(f,Promise.resolve());const K=(M?Promise.all(this._queues.values()):Promise.all([this._queues.get(ci),this._queues.get(f)])).then(_),tt=K.catch(()=>{});return this._queues.set(f,tt),K.finally(()=>{this._activeActions--,this._queues.get(f)===tt&&this._activeActions===0&&this._onEmptyCallbacks.forEach(st=>st())})}}function Ms(g){return Array.isArray(g)?g:[g]}const Cn=h().createContext("contextWatchdog");class Gn extends h().Component{constructor(f,_){super(f,_),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(f){return qe(this,null,function*(){return f.id!==this.props.id&&(this.contextWatchdog&&(yield this.contextWatchdog.destroy()),yield this._initializeContextWatchdog(f.config)),f.isLayoutReady&&!this.contextWatchdog?(yield this._initializeContextWatchdog(f.config),!0):this.props.children!==f.children})}render(){return h().createElement(Cn.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){return qe(this,null,function*(){yield this._destroyContext()})}_initializeContextWatchdog(f){return qe(this,null,function*(){this.contextWatchdog=new Is(this.props.context),this.contextWatchdog.on("error",(_,M)=>{this.props.onError(M.error,{phase:"runtime",willContextRestart:M.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),yield this.contextWatchdog.create(f).catch(_=>{this.props.onError(_,{phase:"initialization",willContextRestart:!1})})})}_destroyContext(){return qe(this,null,function*(){this.contextWatchdog&&(yield this.contextWatchdog.destroy(),this.contextWatchdog=null)})}}Gn.defaultProps={isLayoutReady:!0,onError:(g,f)=>console.error(g,f)},Gn.propTypes={id:x().string,isLayoutReady:x().bool,context:x().func,config:x().object,onReady:x().func,onError:x().func};const Zo="Lock from React integration (@ckeditor/ckeditor5-react)";class _n extends h().Component{constructor(f){super(f),this.editorDestructionInProgress=null,this.domContainer=h().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:_}=window;if(_){const[M]=_.split(".").map(Number);M<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(f){return!!this.editor&&(f.id!==this.props.id||(this._shouldUpdateEditor(f)&&this.editor.setData(f.data),"disabled"in f&&(f.disabled?this.editor.enableReadOnlyMode(Zo):this.editor.disableReadOnlyMode(Zo)),!1))}componentDidMount(){return qe(this,null,function*(){yield this._initializeEditor()})}componentDidUpdate(){return qe(this,null,function*(){yield this._destroyEditor(),yield this._initializeEditor()})}componentWillUnmount(){return qe(this,null,function*(){yield this._destroyEditor()})}render(){return h().createElement("div",{ref:this.domContainer})}_initializeEditor(){return qe(this,null,function*(){yield this.editorDestructionInProgress,this.watchdog||(this.context instanceof Is?this.watchdog=new tl(this.context):this.watchdog=new _n._EditorWatchdog(this.props.editor),this.watchdog.setCreator((f,_)=>this._createEditor(f,_)),this.watchdog.on("error",(f,{error:_,causesRestart:M})=>{this.props.onError(_,{phase:"runtime",willEditorRestart:M})}),yield this.watchdog.create(this.domContainer.current,this._getConfig()).catch(f=>this.props.onError(f,{phase:"initialization",willEditorRestart:!1})))})}_createEditor(f,_){return this.props.editor.create(f,_).then(M=>{"disabled"in this.props&&this.props.disabled&&M.enableReadOnlyMode(Zo);const K=M.model.document,tt=M.editing.view.document;return K.on("change:data",st=>{this.props.onChange&&this.props.onChange(st,M)}),tt.on("focus",st=>{this.props.onFocus&&this.props.onFocus(st,M)}),tt.on("blur",st=>{this.props.onBlur&&this.props.onBlur(st,M)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(M)}),M})}_destroyEditor(){return qe(this,null,function*(){this.editorDestructionInProgress=new Promise(f=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,f()}):f()})})})}_shouldUpdateEditor(f){return this.props.data!==f.data&&this.editor.getData()!==f.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),ie(U({},this.props.config),{initialData:this.props.config.initialData||this.props.data||""})}}class tl{constructor(f){this._contextWatchdog=f,this._id=function(){const _=4294967296*Math.random()>>>0,M=4294967296*Math.random()>>>0,K=4294967296*Math.random()>>>0,tt=4294967296*Math.random()>>>0;return"e"+ae[_>>0&255]+ae[_>>8&255]+ae[_>>16&255]+ae[_>>24&255]+ae[M>>0&255]+ae[M>>8&255]+ae[M>>16&255]+ae[M>>24&255]+ae[K>>0&255]+ae[K>>8&255]+ae[K>>16&255]+ae[K>>24&255]+ae[tt>>0&255]+ae[tt>>8&255]+ae[tt>>16&255]+ae[tt>>24&255]}()}setCreator(f){this._creator=f}create(f,_){return this._contextWatchdog.add({sourceElementOrData:f,config:_,creator:this._creator,id:this._id,type:"editor"})}on(f,_){this._contextWatchdog.on("itemError",(M,{itemId:K,causesRestart:tt,error:st})=>{K===this._id&&_(null,{error:st,causesRestart:tt})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}_n.contextType=Cn,_n.propTypes={editor:x().func.isRequired,data:x().string,config:x().object,onChange:x().func,onReady:x().func,onFocus:x().func,onBlur:x().func,onError:x().func,disabled:x().bool,onInit:(g,f)=>{if(g[f])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},_n.defaultProps={config:{},onError:(g,f)=>console.error(g,f)},_n._EditorWatchdog=Ss})(),w})())},7833:function(W,R,N){W=N.nmd(W),function(G){const F=G["zh-cn"]=G["zh-cn"]||{};F.dictionary=Object.assign(F.dictionary||{},{"%0 of %1":"\u7B2C %0 \u6B65\uFF0C\u5171 %1 \u6B65","Align cell text to the bottom":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5BF9\u9F50\u5230\u5E95\u90E8","Align cell text to the center":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u6C34\u5E73\u5C45\u4E2D","Align cell text to the left":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5DE6\u5BF9\u9F50","Align cell text to the middle":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5782\u76F4\u5C45\u4E2D","Align cell text to the right":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u53F3\u5BF9\u9F50","Align cell text to the top":"\u4F7F\u5355\u5143\u683C\u6587\u672C\u5BF9\u9F50\u5230\u9876\u90E8","Align center":"\u5C45\u4E2D\u5BF9\u9F50","Align left":"\u5DE6\u5BF9\u9F50","Align right":"\u53F3\u5BF9\u9F50","Align table to the left":"\u4F7F\u8868\u683C\u5DE6\u5BF9\u9F50","Align table to the right":"\u4F7F\u8868\u683C\u53F3\u5BF9\u9F50",Alignment:"\u5BF9\u9F50",All:"\u5168\u90E8","Almost equal to":"\u7EA6\u7B49\u4E8E",Angle:"\u89D2","Approximately equal to":"\u8FD1\u4F3C\u7B49\u4E8E",Aquamarine:"\u6D77\u84DD\u8272",Arrows:"\u7BAD\u5934","Asterisk operator":"\u661F\u53F7\u8FD0\u7B97\u7B26","Austral sign":"\u6FB3\u5927\u5229\u4E9A\u8D27\u5E01\u7B26\u53F7","back with leftwards arrow above":"\u5E26\u6709back\u6807\u8BC6\u7684\u5411\u5DE6\u7BAD\u5934",Background:"\u80CC\u666F",Big:"\u5927","Bitcoin sign":"\u6BD4\u7279\u5E01\u7B26\u53F7",Black:"\u9ED1\u8272","Block quote":"\u5757\u5F15\u7528","Block styles":"\u5757\u7EA7\u6837\u5F0F",Blue:"\u84DD\u8272","Blue marker":"\u84DD\u8272\u6807\u8BB0",Bold:"\u52A0\u7C97",Border:"\u8FB9\u6846","Break text":"\u6587\u5B57\u65AD\u884C","Bulleted List":"\u9879\u76EE\u7B26\u53F7\u5217\u8868","Bulleted list styles toolbar":"\u9879\u76EE\u7B26\u53F7\u5217\u8868\u6837\u5F0F\u5DE5\u5177\u6761",Cancel:"\u53D6\u6D88","Cannot upload file:":"\u65E0\u6CD5\u4E0A\u4F20\u7684\u6587\u4EF6\uFF1A","Caption for image: %0":"\u56FE\u7247\u8BF4\u660E\uFF1A%0","Caption for the image":"\u56FE\u7247\u8BF4\u660E\uFF1A","Cedi sign":"\u585E\u5730\u7B26\u53F7","Cell properties":"\u5355\u5143\u683C\u5C5E\u6027","Cent sign":"\u5206\u5E01\u7B26\u53F7","Center table":"\u8868\u683C\u5C45\u4E2D","Centered image":"\u56FE\u7247\u5C45\u4E2D","Change image text alternative":"\u66F4\u6539\u56FE\u7247\u66FF\u6362\u6587\u672C","Character categories":"\u5B57\u7B26\u7C7B\u522B","Choose heading":"\u6807\u9898\u7C7B\u578B",Circle:"\u7A7A\u5FC3\u5706\u70B9","Colon sign":"\u79D1\u6717\u7B26\u53F7",Color:"\u989C\u8272","Color picker":"\u989C\u8272\u9009\u62E9\u5668",Column:"\u5217","Contains as member":"\u5305\u542B","Copyright sign":"\u7248\u6743\u7B26\u53F7","Cruzeiro sign":"\u514B\u9C81\u585E\u7F57\u7B26\u53F7",Currency:"\u8D27\u5E01","Currency sign":"\u8D27\u5E01\u7B26\u53F7",Dashed:"\u865A\u7EBF",Decimal:"\u963F\u62C9\u4F2F\u6570\u5B57","Decimal with leading zero":"\u524D\u5BFC\u96F6\u963F\u62C9\u4F2F\u6570\u5B57","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB",Default:"\u9ED8\u8BA4","Degree sign":"\u5EA6\u6570\u7B26\u53F7","Delete column":"\u5220\u9664\u672C\u5217","Delete row":"\u5220\u9664\u672C\u884C","Dim grey":"\u6697\u7070\u8272",Dimensions:"\u5C3A\u5BF8",Disc:"\u5B9E\u5FC3\u5706\u70B9","Division sign":"\u9664\u53F7","Document colors":"\u6587\u6863\u4E2D\u7684\u989C\u8272","Dollar sign":"\u7F8E\u5143\u7B26\u53F7","Dong sign":"\u8D8A\u5357\u76FE\u7B26\u53F7",Dotted:"\u70B9\u72B6\u865A\u7EBF",Double:"\u53CC\u7EBF","Double dagger":"\u53CC\u5251\u53F7","Double exclamation mark":"\u53CC\u53F9\u53F7","Double low-9 quotation mark":"\u4F4E\u4F4D\u540E\u53CC\u5F15\u53F7","Double question mark":"\u53CC\u95EE\u53F7",Downloadable:"\u53EF\u4E0B\u8F7D","downwards arrow to bar":"\u5934\u90E8\u5E26\u6760\u7684\u5411\u4E0B\u7BAD\u5934","downwards dashed arrow":"\u5411\u4E0B\u865A\u7EBF\u7BAD\u5934","downwards double arrow":"\u5411\u4E0B\u53CC\u7BAD\u5934","downwards simple arrow":"\u5411\u4E0B\u7B80\u5355\u7BAD\u5934","Drachma sign":"\u5FB7\u62C9\u514B\u9A6C\u7B26\u53F7","Dropdown toolbar":"\u4E0B\u62C9\u5DE5\u5177\u680F","Edit block":"\u7F16\u8F91\u6846","Edit link":"\u4FEE\u6539\u94FE\u63A5","Editor block content toolbar":"\u7F16\u8F91\u5668\u5757\u5185\u5BB9\u5DE5\u5177\u680F","Editor contextual toolbar":"\u7F16\u8F91\u5668\u4E0A\u4E0B\u6587\u5DE5\u5177\u680F","Editor editing area: %0":"\u7F16\u8F91\u5668\u7F16\u8F91\u533A\u57DF\uFF1A%0","Editor toolbar":"\u7F16\u8F91\u5668\u5DE5\u5177\u680F","Element of":"\u5C5E\u4E8E","Em dash":"\u957F\u7834\u6298\u53F7","Empty set":"\u7A7A\u96C6","En dash":"\u77ED\u7834\u6298\u53F7","end with leftwards arrow above":"\u5E26\u6709end\u6807\u8BC6\u7684\u5411\u5DE6\u7BAD\u5934","Enter image caption":"\u8F93\u5165\u56FE\u7247\u6807\u9898","Enter table caption":"\u8F93\u5165\u8868\u6807\u9898","Euro sign":"\u6B27\u5143\u7B26\u53F7","Euro-currency sign":"\u6B27\u5143\u8D27\u5E01\u7B26\u53F7","Exclamation question mark":"\u611F\u53F9\u7591\u95EE\u53F7",Find:"\u67E5\u627E","Find and replace":"\u67E5\u627E\u548C\u66FF\u6362","Find in text\u2026":"\u67E5\u627E\u7684\u6587\u672C","Font Background Color":"\u5B57\u4F53\u80CC\u666F\u8272","Font Color":"\u5B57\u4F53\u989C\u8272","Font Family":"\u5B57\u4F53","Font Size":"\u5B57\u4F53\u5927\u5C0F","For all":"\u5BF9\u4E8E\u5168\u90E8","Fraction slash":"\u5206\u6570\u659C\u7EBF","French franc sign":"\u6CD5\u56FD\u6CD5\u90CE\u7B26\u53F7","Full size image":"\u5168\u5C3A\u5BF8\u56FE\u7247","German penny sign":"\u5FB7\u56FD\u4FBF\u58EB\u7B26\u53F7","Greater-than or equal to":"\u5927\u4E8E\u7B49\u4E8E","Greater-than sign":"\u5927\u4E8E\u53F7",Green:"\u7EFF\u8272","Green marker":"\u7EFF\u8272\u6807\u8BB0","Green pen":"\u7EFF\u8272\u7B14",Grey:"\u7070\u8272",Groove:"\u51F9\u69FD\u8FB9\u6846","Guarani sign":"\u74DC\u62C9\u5C3C\u8D27\u5E01\u7B26\u53F7","Header column":"\u6807\u9898\u5217","Header row":"\u6807\u9898\u884C",Heading:"\u6807\u9898","Heading 1":"\u6807\u9898 1","Heading 2":"\u6807\u9898 2","Heading 3":"\u6807\u9898 3","Heading 4":"\u6807\u9898 4","Heading 5":"\u6807\u9898 5","Heading 6":"\u6807\u9898 6",Height:"\u9AD8\u5EA6",Highlight:"\u9AD8\u4EAE","Horizontal ellipsis":"\u7701\u7565\u53F7","Horizontal line":"\u6C34\u5E73\u7EBF","Horizontal text alignment toolbar":"\u6C34\u5E73\u6587\u672C\u5BF9\u9F50\u5DE5\u5177\u680F","Hryvnia sign":"\u6208\u91CC\u592B\u7EB3\u7B26\u53F7","HTML object":"HTML\u5BF9\u8C61",Huge:"\u6781\u5927","Identical to":"\u6052\u7B49\u4E8E","Image resize list":"\u56FE\u7247\u5927\u5C0F\u5217\u8868","Image toolbar":"\u56FE\u7247\u5DE5\u5177\u680F","image widget":"\u56FE\u7247\u7EC4\u4EF6","In line":"\u884C\u5185","Increase indent":"\u589E\u52A0\u7F29\u8FDB","Indian rupee sign":"\u5370\u5EA6\u5362\u6BD4\u7B26\u53F7",Infinity:"\u65E0\u7A77\u5927",Insert:"\u63D2\u5165","Insert column left":"\u5DE6\u4FA7\u63D2\u5165\u5217","Insert column right":"\u53F3\u4FA7\u63D2\u5165\u5217","Insert image":"\u63D2\u5165\u56FE\u50CF","Insert image via URL":"\u901A\u8FC7URL\u5730\u5740\u63D2\u5165\u56FE\u7247","Insert media":"\u63D2\u5165\u5A92\u4F53","Insert paragraph after block":"\u5728\u540E\u9762\u63D2\u5165\u6BB5\u843D","Insert paragraph before block":"\u5728\u524D\u9762\u63D2\u5165\u6BB5\u843D","Insert row above":"\u5728\u4E0A\u9762\u63D2\u5165\u4E00\u884C","Insert row below":"\u5728\u4E0B\u9762\u63D2\u5165\u4E00\u884C","Insert table":"\u63D2\u5165\u8868\u683C",Inset:"\u51F9\u8FB9\u6846",Integral:"\u79EF\u5206",Intersection:"\u4EA4\u96C6","Inverted exclamation mark":"\u53CD\u611F\u53F9\u53F7","Inverted question mark":"\u53CD\u95EE\u53F7",Italic:"\u503E\u659C",Justify:"\u4E24\u7AEF\u5BF9\u9F50","Justify cell text":"\u5BF9\u9F50\u5355\u5143\u683C\u6587\u672C","Kip sign":" \u57FA\u666E\u7B26\u53F7",Latin:"\u62C9\u4E01\u6587","Latin capital letter a with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin capital letter a with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin capital letter a with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin capital letter c with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin capital letter c with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin capital letter c with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin capital letter c with dot above":"\u5E26\u4E0A\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin capital letter d with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDd","Latin capital letter d with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDd","Latin capital letter e with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin capital letter e with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin capital letter e with dot above":"\u5E26\u4E0A\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin capital letter e with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin capital letter e with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin capital letter eng":"\u5927\u5199\u62C9\u4E01\u5B57\u6BCDeng","Latin capital letter g with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin capital letter g with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin capital letter g with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin capital letter g with dot above":"\u5E26\u4E0A\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin capital letter h with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDh","Latin capital letter h with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDh","Latin capital letter i with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin capital letter i with dot above":"\u5E26\u4E0A\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin capital letter i with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin capital letter i with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin capital letter i with tilde":"\u5E26\u816D\u5316\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin capital letter j with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDj","Latin capital letter k with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDk","Latin capital letter l with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin capital letter l with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin capital letter l with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin capital letter l with middle dot":"\u5E26\u4E2D\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin capital letter l with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin capital letter n with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin capital letter n with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin capital letter n with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin capital letter o with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin capital letter o with double acute":"\u5E26\u53CC\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin capital letter o with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin capital letter r with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin capital letter r with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin capital letter r with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin capital letter s with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin capital letter s with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin capital letter s with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin capital letter s with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin capital letter t with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin capital letter t with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin capital letter t with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin capital letter u with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter u with double acute":"\u5E26\u53CC\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter u with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter u with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter u with ring above":"\u5E26\u4E0A\u5706\u5708\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter u with tilde":"\u5E26\u816D\u5316\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin capital letter w with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDw","Latin capital letter y with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDy","Latin capital letter y with diaeresis":"\u5E26\u5206\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDy","Latin capital letter z with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin capital letter z with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin capital letter z with dot above":"\u5E26\u4E0A\u70B9\u7684\u5927\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin capital ligature ij":"\u5927\u5199\u62C9\u4E01\u8FDE\u5B57\u7B26ij","Latin capital ligature oe":"\u5927\u5199\u62C9\u4E01\u8FDE\u5B57\u7B26oe","Latin small letter a with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin small letter a with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin small letter a with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDa","Latin small letter c with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin small letter c with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin small letter c with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin small letter c with dot above":"\u5E26\u4E0A\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDc","Latin small letter d with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDd","Latin small letter d with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDd","Latin small letter dotless i":"\u6CA1\u6709\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin small letter e with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin small letter e with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin small letter e with dot above":"\u5E26\u4E0A\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin small letter e with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin small letter e with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDe","Latin small letter eng":"\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDeng","Latin small letter f with hook":"\u5E26\u94A9\u7684\u62C9\u4E01\u6587\u5C0F\u5199\u5B57\u6BCD F","Latin small letter g with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin small letter g with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin small letter g with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin small letter g with dot above":"\u5E26\u4E0A\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDg","Latin small letter h with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDh","Latin small letter h with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDh","Latin small letter i with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin small letter i with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin small letter i with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin small letter i with tilde":"\u5E26\u816D\u5316\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDi","Latin small letter j with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDj","Latin small letter k with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDk","Latin small letter kra":"\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDkra","Latin small letter l with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin small letter l with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin small letter l with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin small letter l with middle dot":"\u5E26\u4E2D\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin small letter l with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDl","Latin small letter long s":"\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCD\u957Fs","Latin small letter n preceded by apostrophe":"\u51A0\u4EE5\u6487\u53F7\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin small letter n with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin small letter n with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin small letter n with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDn","Latin small letter o with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin small letter o with double acute":"\u5E26\u53CC\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin small letter o with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDo","Latin small letter r with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin small letter r with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin small letter r with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDr","Latin small letter s with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin small letter s with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin small letter s with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin small letter s with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDs","Latin small letter t with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin small letter t with cedilla":"\u5E26\u8F6F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin small letter t with stroke":"\u5E26\u5220\u8282\u7EBF\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDt","Latin small letter u with breve":"\u5E26\u77ED\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter u with double acute":"\u5E26\u53CC\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter u with macron":"\u5E26\u957F\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter u with ogonek":"\u5E26\u53CD\u5C3E\u5F62\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter u with ring above":"\u5E26\u4E0A\u5706\u5708\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter u with tilde":"\u5E26\u816D\u5316\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDu","Latin small letter w with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDw","Latin small letter y with circumflex":"\u5E26\u626C\u6291\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDy","Latin small letter z with acute":"\u5E26\u9510\u97F3\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin small letter z with caron":"\u5E26\u6291\u626C\u7B26\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin small letter z with dot above":"\u5E26\u4E0A\u70B9\u7684\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCDz","Latin small ligature ij":"\u5C0F\u5199\u62C9\u4E01\u8FDE\u5B57\u7B26ij","Latin small ligature oe":"\u5C0F\u5199\u62C9\u4E01\u8FDE\u5B57\u7B26oe","Left aligned image":"\u56FE\u7247\u5DE6\u4FA7\u5BF9\u9F50","Left double quotation mark":"\u5DE6\u53CC\u5F15\u53F7","Left single quotation mark":"\u5DE6\u5355\u5F15\u53F7","Left-pointing double angle quotation mark":"\u53CC\u5DE6\u5C16\u62EC\u53F7","leftwards arrow to bar":"\u5934\u90E8\u5E26\u6760\u7684\u5411\u5DE6\u7BAD\u5934","leftwards dashed arrow":"\u5411\u5DE6\u865A\u7EBF\u7BAD\u5934","leftwards double arrow":"\u5411\u5DE6\u53CC\u7BAD\u5934","leftwards simple arrow":"\u5411\u5DE6\u7B80\u5355\u7BAD\u5934","Less-than or equal to":"\u5C0F\u4E8E\u7B49\u4E8E","Less-than sign":"\u5C0F\u4E8E\u53F7","Light blue":"\u6D45\u84DD\u8272","Light green":"\u6D45\u7EFF\u8272","Light grey":"\u6D45\u7070\u8272",Link:"\u8D85\u94FE\u63A5","Link URL":"\u94FE\u63A5\u7F51\u5740","Lira sign":"\u91CC\u62C9\u7B26\u53F7","List properties":"\u5217\u8868\u5C5E\u6027","Livre tournois sign":"\u91CC\u5F17\u5C14\u7B26\u53F7","Logical and":"\u903B\u8F91\u4E0E","Logical or":"\u903B\u8F91\u6216","Lower-latin":"\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCD","Lower\u2013roman":"\u5C0F\u5199\u7F57\u9A6C\u6570\u5B57",Macron:"\u957F\u97F3\u7B26\u53F7","Manat sign":"\u9A6C\u7EB3\u7279\u7B26\u53F7","Match case":"\u533A\u5206\u5927\u5C0F\u5199",Mathematical:"\u6570\u5B66","Media URL":"\u5A92\u4F53URL","media widget":"\u5A92\u4F53\u5C0F\u90E8\u4EF6","Merge cell down":"\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C","Merge cell left":"\u5411\u5DE6\u5408\u5E76\u5355\u5143\u683C","Merge cell right":"\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C","Merge cell up":"\u5411\u4E0A\u5408\u5E76\u5355\u5143\u683C","Merge cells":"\u5408\u5E76\u5355\u5143\u683C","Mill sign":"\u5BC6\u5C14\u7B26\u53F7","Minus sign":"\u8D1F\u53F7","Multiple styles":"\u591A\u6837\u5F0F","Multiplication sign":"\u79F0\u53F7","N-ary product":"N \u5143\u4E58\u79EF","N-ary summation":"N \u5143\u6C42\u548C",Nabla:"\u5288\u5F62\u7B97\u7B26","Naira sign":"\u5948\u62C9\u7B26\u53F7","New sheqel sign":"\u65B0\u8C22\u514B\u5C14\u7B26\u53F7",Next:"\u4E0B\u4E00\u6B65","Next result":"\u4E0B\u4E00\u4E2A\u5339\u914D\u9879",None:"\u65E0","Nordic mark sign":"\u5317\u6B27\u9A6C\u514B\u5F81\u7B26\u53F7","Not an element of":"\u4E0D\u5C5E\u4E8E","Not equal to":"\u4E0D\u7B49\u4E8E","Not sign":"\u975E","Numbered List":"\u9879\u76EE\u7F16\u53F7\u5217\u8868","Numbered list styles toolbar":"\u9879\u76EE\u7F16\u53F7\u5217\u8868\u6837\u5F0F\u5DE5\u5177\u6761","on with exclamation mark with left right arrow above":"\u5E26\u6709NO\uFF01\u6807\u8BC6\u7684\u5DE6\u53F3\u53CC\u5411\u7BAD\u5934","Open in a new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00","Open link in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u4E2D\u6253\u5F00\u94FE\u63A5","Open media in new tab":"\u5728\u65B0\u6807\u7B7E\u9875\u6253\u5F00\u5A92\u4F53",Orange:"\u6A59\u8272",Original:"\u539F\u59CB\u5927\u5C0F",Outset:"\u51F8\u8FB9\u6846",Overline:"\u4E0A\u5212\u7EBF",Padding:"\u5185\u8FB9\u8DDD",Paragraph:"\u6BB5\u843D","Paragraph sign":"\u6BB5\u843D\u7B26\u53F7","Partial differential":"\u504F\u5FAE\u5206","Paste the media URL in the input.":"\u5728\u8F93\u5165\u4E2D\u7C98\u8D34\u5A92\u4F53URL","Per mille sign":"\u5343\u5206\u53F7","Per ten thousand sign":"\u4E07\u5206\u53F7","Peseta sign":"\u6BD4\u585E\u5854\u7B26\u53F7","Peso sign":"\u6BD4\u7D22\u7B26\u53F7","Pink marker":"\u7C89\u8272\u6807\u8BB0","Plus-minus sign":"\u6B63\u8D1F\u53F7","Pound sign":"\u82F1\u9551\u7B26\u53F7","Press Enter to type after or press Shift + Enter to type before the widget":"\u6309\u4E0B\u201CEnter\u201D\u952E\uFF0C\u5728\u5C0F\u7EC4\u4EF6\u540E\u8F93\u5165\uFF1B\u6309\u4E0B\u201CShift+Enter\u201D\u952E\uFF0C\u5728\u5C0F\u7EC4\u4EF6\u524D\u8F93\u5165",Previous:"\u4E0A\u4E00\u6B65","Previous result":"\u4E0A\u4E00\u4E2A\u5339\u914D\u9879","Proportional to":"\u6BD4\u4F8B",Purple:"\u7D2B\u8272","Question exclamation mark":"\u7591\u95EE\u611F\u53F9\u53F7",Red:"\u7EA2\u8272","Red pen":"\u7EA2\u8272\u7B14",Redo:"\u91CD\u505A","Registered sign":"\u6CE8\u518C\u5546\u6807","Remove color":"\u79FB\u9664\u989C\u8272","Remove Format":"\u79FB\u9664\u683C\u5F0F","Remove highlight":"\u6E05\u9664\u9AD8\u4EAE",Replace:"\u66FF\u6362","Replace all":"\u5168\u90E8\u66FF\u6362","Replace with\u2026":"\u66FF\u6362\u7684\u6587\u672C","Resize image":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F","Resize image to %0":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F\u4E3A%0","Resize image to the original size":"\u8C03\u6574\u56FE\u50CF\u5927\u5C0F\u4E3A\u539F\u59CB\u5927\u5C0F","Restore default":"\u6062\u590D\u9ED8\u8BA4","Reversed order":"\u987A\u5E8F\u53CD\u8F6C","Reversed paragraph sign":"\u53CD\u5411\u6BB5\u843D\u7B26\u53F7","Rich Text Editor":"\u5BCC\u6587\u672C\u7F16\u8F91\u5668",Ridge:"\u5784\u72B6\u8FB9\u6846","Right aligned image":"\u56FE\u7247\u53F3\u4FA7\u5BF9\u9F50","Right double quotation mark":"\u53F3\u53CC\u5F15\u53F7","Right single quotation mark":"\u53F3\u5355\u5F15\u53F7","Right-pointing double angle quotation mark":"\u53CC\u53F3\u5C16\u62EC\u53F7","rightwards arrow to bar":"\u5934\u90E8\u5E26\u6760\u7684\u5411\u53F3\u7BAD\u5934","rightwards dashed arrow":"\u5411\u53F3\u865A\u7EBF\u7BAD\u5934","rightwards double arrow":"\u5411\u53F3\u53CC\u7BAD\u5934","rightwards simple arrow":"\u5411\u53F3\u7B80\u5355\u7BAD\u5934",Row:"\u884C","Ruble sign":"\u4FC4\u7F57\u65AF\u5362\u5E03","Rupee sign":"\u5362\u6BD4\u7B26\u53F7",Save:"\u4FDD\u5B58","Section sign":"\u8282\u6807\u8BB0","Select all":"\u5168\u9009","Select column":"\u9009\u62E9\u5217","Select row":"\u9009\u62E9\u884C","Show more items":"\u663E\u793A\u66F4\u591A","Show options":"\u663E\u793A\u914D\u7F6E","Side image":"\u56FE\u7247\u4FA7\u8FB9\u663E\u793A","Single left-pointing angle quotation mark":"\u5355\u5DE6\u5C16\u62EC\u53F7","Single low-9 quotation mark":"\u4F4E\u4F4D\u540E\u5355\u5F15\u53F7","Single right-pointing angle quotation mark":"\u5355\u53F3\u5C16\u62EC\u53F7",Small:"\u5C0F",Solid:"\u5B9E\u7EBF","soon with rightwards arrow above":"\u5E26\u6709soon\u6807\u8BC6\u7684\u5411\u53F3\u7BAD\u5934",Source:"\u6E90\u4EE3\u7801","Special characters":"\u7279\u6B8A\u5B57\u7B26","Spesmilo sign":"\u65AF\u4F69\u65AF\u7C73\u6D1B\u7B26\u53F7","Split cell horizontally":"\u6A2A\u5411\u62C6\u5206\u5355\u5143\u683C","Split cell vertically":"\u7EB5\u5411\u62C6\u5206\u5355\u5143\u683C",Square:"\u5B9E\u5FC3\u65B9\u5757","Square root":"\u5E73\u65B9\u6839","Start at":"\u8D77\u59CB\u7F16\u53F7","Start index must be greater than 0.":"\u8D77\u59CB\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E0\u3002",Strikethrough:"\u5220\u9664\u7EBF",Style:"\u6837\u5F0F",Styles:"\u6837\u5F0F",Subscript:"\u4E0B\u6807",Superscript:"\u4E0A\u6807","Table alignment toolbar":"\u8868\u683C\u5BF9\u9F50\u5DE5\u5177\u680F","Table cell text alignment":"\u8868\u683C\u5355\u5143\u683C\u4E2D\u7684\u6587\u672C\u6C34\u5E73\u5BF9\u9F50","Table properties":"\u8868\u683C\u5C5E\u6027","Table toolbar":"\u8868\u683C\u5DE5\u5177\u680F","Tenge sign":"\u575A\u6208\u7B26\u53F7",Text:"\u6587\u672C","Text alignment":"\u5BF9\u9F50","Text alignment toolbar":"\u5BF9\u9F50\u5DE5\u5177\u680F","Text alternative":"\u66FF\u6362\u6587\u672C","Text highlight toolbar":"\u6587\u672C\u9AD8\u4EAE\u5DE5\u5177\u680F","Text styles":"\u6587\u672C\u6837\u5F0F","Text to find must not be empty.":"\u67E5\u627E\u7684\u6587\u672C\u4E0D\u53EF\u4E3A\u7A7A",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'\u989C\u8272\u65E0\u6548\u3002\u5C1D\u8BD5\u4F7F\u7528"#FF0000"\u3001"rgb(255,0,0)"\u6216\u8005"red"\u3002',"The URL must not be empty.":"URL\u4E0D\u53EF\u4EE5\u4E3A\u7A7A\u3002",'The value is invalid. Try "10px" or "2em" or simply "2".':"\u65E0\u6548\u503C\u3002\u5C1D\u8BD5\u4F7F\u7528\u201C10px\u201D\u3001\u201C2ex\u201D\u6216\u8005\u53EA\u5199\u201C2\u201D\u3002","There exists":"\u5B58\u5728","This link has no URL":"\u6B64\u94FE\u63A5\u6CA1\u6709\u8BBE\u7F6E\u7F51\u5740","This media URL is not supported.":"\u4E0D\u652F\u6301\u6B64\u5A92\u4F53URL\u3002","Tilde operator":"\u6CE2\u6D6A\u7EBF\u8FD0\u7B97\u7B26",Tiny:"\u6781\u5C0F","Tip: Find some text first in order to replace it.":"\u63D0\u793A\uFF1A\u5148\u67E5\u627E\u6587\u672C\u518D\u66FF\u6362","Tip: Paste the URL into the content to embed faster.":"\u63D0\u793A\uFF1A\u5C06URL\u7C98\u8D34\u5230\u5185\u5BB9\u4E2D\u53EF\u66F4\u5FEB\u5730\u5D4C\u5165","To-do List":"\u5F85\u529E\u5217\u8868","Toggle caption off":"\u5173\u95ED\u8868\u6807\u9898","Toggle caption on":"\u6253\u5F00\u8868\u6807\u9898","Toggle the circle list style":"\u5207\u6362\u7A7A\u5FC3\u539F\u70B9\u5217\u8868\u6837\u5F0F","Toggle the decimal list style":"\u5207\u6362\u963F\u62C9\u4F2F\u6570\u5B57\u5217\u8868\u6837\u5F0F","Toggle the decimal with leading zero list style":"\u5207\u6362\u524D\u5BFC\u96F6\u963F\u62C9\u4F2F\u6570\u5B57\u5217\u8868\u6837\u5F0F","Toggle the disc list style":"\u5207\u6362\u5B9E\u5FC3\u539F\u70B9\u5217\u8868\u6837\u5F0F","Toggle the lower\u2013latin list style":"\u5207\u6362\u5C0F\u5199\u62C9\u4E01\u5B57\u6BCD\u5217\u8868\u6837\u5F0F","Toggle the lower\u2013roman list style":"\u5207\u6362\u5C0F\u5199\u7F57\u9A6C\u6570\u5B57\u5217\u8868\u6837\u5F0F","Toggle the square list style":"\u5207\u6362\u5B9E\u5FC3\u65B9\u5757\u5217\u8868\u6837\u5F0F","Toggle the upper\u2013latin list style":"\u5207\u6362\u5927\u5199\u62C9\u4E01\u5B57\u6BCD\u5217\u8868\u6837\u5F0F","Toggle the upper\u2013roman list style":"\u5207\u6362\u5927\u5199\u7F57\u9A6C\u6570\u5B57\u5217\u8868\u6837\u5F0F","top with upwards arrow above":"\u5E26\u6709top\u6807\u8BC6\u7684\u5411\u4E0A\u7BAD\u5934","Trade mark sign":"\u5546\u6807\u7B26\u53F7","Tugrik sign":"\u56FE\u683C\u91CC\u514B\u7B26\u53F7","Turkish lira sign":"\u571F\u8033\u5176\u91CC\u62C9\u7B26\u53F7",Turquoise:"\u9752\u8272","Two dot leader":"\u4E8C\u70B9\u524D\u5BFC\u7B26",Underline:"\u4E0B\u5212\u7EBF",Undo:"\u64A4\u9500",Union:"\u5E76\u96C6",Unlink:"\u53D6\u6D88\u8D85\u94FE\u63A5","up down arrow with base":"\u5904\u4E8E\u57FA\u7EBF\u7684\u4E0A\u4E0B\u7BAD\u5934",Update:"\u66F4\u65B0","Update image URL":"\u66F4\u65B0\u56FE\u7247URL\u5730\u5740","Upload failed":"\u4E0A\u4F20\u5931\u8D25","Upload in progress":"\u6B63\u5728\u4E0A\u4F20","Upper-latin":"\u5927\u5199\u62C9\u4E01\u5B57\u6BCD","Upper-roman":"\u5927\u5199\u7F57\u9A6C\u6570\u5B57","upwards arrow to bar":"\u5934\u90E8\u5E26\u6760\u7684\u5411\u4E0A\u7BAD\u5934","upwards dashed arrow":"\u5411\u4E0A\u865A\u7EBF\u7BAD\u5934","upwards double arrow":"\u5411\u4E0A\u53CC\u7BAD\u5934","upwards simple arrow":"\u5411\u4E0A\u7B80\u5355\u7BAD\u5934","Vertical text alignment toolbar":"\u5782\u76F4\u6587\u672C\u5BF9\u9F50\u5DE5\u5177\u680F","Vulgar fraction one half":"\u666E\u901A\u5206\u6570\u4E8C\u5206\u4E4B\u4E00","Vulgar fraction one quarter":"\u666E\u901A\u5206\u6570\u56DB\u5206\u4E4B\u4E00","Vulgar fraction three quarters":"\u666E\u901A\u5206\u6570\u56DB\u5206\u4E4B\u4E09",White:"\u767D\u8272","Whole words only":"\u5355\u8BCD","Widget toolbar":"\u5C0F\u90E8\u4EF6\u5DE5\u5177\u680F",Width:"\u5BBD\u5EA6","Won sign":"\u97E9\u5143\u7B26\u53F7","Wrap text":"\u6587\u5B57\u73AF\u7ED5",Yellow:"\u9EC4\u8272","Yellow marker":"\u9EC4\u8272\u6807\u8BB0","Yen sign":"\u65E5\u5143\u7B26\u53F7"}),F.getPluralForm=function(I){return 0}}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));(function(F,I){W.exports=I()})(self,()=>(()=>{"use strict";var G={636:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const D=p},390:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const D=p},3638:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},8894:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const D=p},4401:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const D=p},5436:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css"],names:[],mappings:"AAKA,gBACC,+CAAgD,CAChD,0BACD,CAEA,yBACC,kBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-find-result {
	background: var(--ck-color-highlight-background);
	color: var(--ck-color-text);
}

.ck-find-result_selected {
	background: hsl(29, 100%, 60%);
}
`],sourceRoot:""}]);const D=p},9289:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-find-and-replace/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,6BACC,cAUD,CARC,sCACC,YAMD,CAHC,yFACC,iBACD,CCNF,6BACC,WAyGD,CAnGC,mCACC,YACD,CAEA,sCAIC,qBAAsB,CADtB,kBAAmB,CAInB,QAAS,CANT,kBAAmB,CACnB,gBAAiB,CAMjB,QAAS,CAFT,+BAwFD,CApFC,iDACC,aACD,CAGC,oDACC,sCACD,CAIA,oDACC,uCACD,CAGD,6DACC,aAMD,CAJC,uEAEC,cAAe,CADf,UAED,CAID,qEAEC,sBAkCD,CAhCC,qFACC,eAOD,CAJC,uGACC,oCAAqC,CACrC,qCACD,CAGD,8FACC,uBACD,CAEA,8FACC,wBACD,CAEA,yFACC,OAAQ,CACR,0BAWD,CAbA,mGAKE,gCAQF,CAbA,mGASE,+BAIF,CAbA,yFAYC,iCACD,CAID,wEACC,cAAe,CACf,wBAAyB,CACzB,2CAeD,CAbC,+FACC,qCACD,CAEA,6FAEC,aAAc,CADd,iBAED,CAEA,wMAEC,UACD,CCzGF,oCD+GA,6BACC,WAiDD,CA/CC,sCACC,cA6CD,CAzCE,4FACC,aAAc,CAEd,wCAAyC,CADzC,UAED,CAEA,gFACC,iBAkBD,CAhBC,8FACC,aAcD,CAfA,wGAIE,aAWF,CAfA,wGAQE,cAOF,CAJC,gHAEC,iBAAkB,CADlB,UAED,CAMH,qGACC,aAUD,CARC,iHACC,WACD,CAEA,iIAEC,iBAAkB,CADlB,UAED,CC5JH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-find-and-replace-form {
	max-width: 100%;

	& fieldset {
		display: flex;

		/* The find fieldset */
		&.ck-find-and-replace-form__find .ck-results-counter {
			position: absolute;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-find-and-replace-form {
	width: 400px;

	/*
	 * The <form> needs tabindex="-1" for proper Esc handling after being clicked
	 * but the side effect is that this creates a nasty focus outline in some browsers.
	 */
	&:focus {
		outline: none;
	}

	& fieldset {
		flex-direction: row;
		flex-wrap: nowrap;
		align-items: center;
		align-content: stretch;

		padding: var(--ck-spacing-large);
		border: 0;
		margin: 0;

		& > .ck-button {
			flex: 0 0 auto;
		}

		@mixin ck-dir ltr {
			& > * + * {
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > * + * {
				margin-right: var(--ck-spacing-standard);
			}
		}

		& .ck-labeled-field-view {
			flex: 1 1 auto;

			& .ck-input {
				width: 100%;
				min-width: 50px;
			}
		}

		/* The find fieldset */
		&.ck-find-and-replace-form__find {
			/* To display all controls in line when there's an error under the input */
			align-items: flex-start;

			& > .ck-button-find {
				font-weight: bold;

				/* Beef the find button up a little. It's the main action button in the form */
				& .ck-button__label {
					padding-left: var(--ck-spacing-large);
					padding-right: var(--ck-spacing-large);
				}
			}

			& > .ck-button-prev > .ck-icon {
				transform: rotate(90deg);
			}

			& > .ck-button-next > .ck-icon {
				transform: rotate(-90deg);
			}

			& .ck-results-counter {
				top: 50%;
				transform: translateY(-50%);

				@mixin ck-dir ltr {
					right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-standard);
				}

				color: var(--ck-color-base-border);
			}
		}

		/* The replace fieldset */
		&.ck-find-and-replace-form__replace {
			flex-wrap: wrap;
			justify-content: flex-end;
			margin-top: calc( -1 * var(--ck-spacing-large) );

			& > .ck-labeled-field-view {
				margin-bottom: var(--ck-spacing-large);
			}

			& > .ck-options-dropdown {
				margin-right: auto;
				margin-left: 0;
			}

			& > .ck-labeled-field-view,
			& > .ck-labeled-field-view .ck-input {
				width: 100%;
			}
		}
	}
}

@mixin ck-media-phone {
	.ck.ck-find-and-replace-form {
		width: 300px;

		& fieldset {
			flex-wrap: wrap;

			/* The find fieldset */
			&.ck-find-and-replace-form__find {
				& .ck-labeled-field-view {
					flex: 1 0 auto;
					width: 100%;
					margin-bottom: var(--ck-spacing-standard);
				}

				& > .ck-button {
					text-align: center;

					&:first-of-type {
						flex: 1 1 auto;

						@mixin ck-dir ltr {
							margin-left: 0;
						}

						@mixin ck-dir rtl {
							margin-right: 0;
						}

						& .ck-button__label {
							width: 100%;
							text-align: center;
						}
					}
				}
			}

			/* The replace fieldset */
			&.ck-find-and-replace-form__replace > :not(.ck-labeled-field-view) {
				flex: 1 1 auto;

				&.ck-dropdown {
					flex-grow: 0;
				}

				&.ck-button > .ck-button__label {
					width: 100%;
					text-align: center;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},2585:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CAEC,kBAAmB,CADnB,YAAa,CAEb,UACD,CAEA,8BACC,iBACD,CCNA,4CAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-button.ck-color-table__remove-color {
	display: flex;
	align-items: center;
	width: 100%;
}

label.ck.ck-color-grid__label {
	font-weight: unset;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck .ck-button.ck-color-table__remove-color {
	padding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;

	&:not(:focus) {
		border-bottom: 1px solid var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-standard);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-standard);
		}
	}
}

`],sourceRoot:""}]);const D=p},6203:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const D=p},3230:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const D=p},713:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-highlight/theme/highlight.css"],names:[],mappings:"AAKA,MACC,oCAA+C,CAC/C,mCAA+C,CAC/C,kCAA8C,CAC9C,kCAA8C,CAC9C,8BAAwC,CACxC,gCACD,CAGC,2BACC,kDACD,CAFA,0BACC,iDACD,CAFA,yBACC,gDACD,CAFA,yBACC,gDACD,CAIA,qBAIC,4BAA6B,CAH7B,iCAID,CALA,uBAIC,4BAA6B,CAH7B,mCAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-highlight-marker-yellow: hsl(60, 97%, 73%);
	--ck-highlight-marker-green: hsl(120, 93%, 68%);
	--ck-highlight-marker-pink: hsl(345, 96%, 73%);
	--ck-highlight-marker-blue: hsl(201, 97%, 72%);
	--ck-highlight-pen-red: hsl(0, 85%, 49%);
	--ck-highlight-pen-green: hsl(112, 100%, 27%);
}

@define-mixin highlight-marker-color $color {
	.ck-content .marker-$color {
		background-color: var(--ck-highlight-marker-$color);
	}
}

@define-mixin highlight-pen-color $color {
	.ck-content .pen-$color {
		color: var(--ck-highlight-pen-$color);

		/* Override default yellow background of \`<mark>\` from user agent stylesheet */
		background-color: transparent;
	}
}

@mixin highlight-marker-color yellow;
@mixin highlight-marker-color green;
@mixin highlight-marker-color pink;
@mixin highlight-marker-color blue;

@mixin highlight-pen-color red;
@mixin highlight-pen-color green;
`],sourceRoot:""}]);const D=p},2536:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */


.ck-editor__editable .ck-horizontal-line {
	/* Necessary to render properly next to floated objects, e.g. side image case. */
	display: flow-root;
}

.ck-content hr {
	margin: 15px 0;
	height: 4px;
	background: hsl(0, 0%, 87%);
	border: 0;
}
`],sourceRoot:""}]);const D=p},8468:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css"],names:[],mappings:"AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-html-object-embed-unfocused-outline-width: 1px;
}

.ck-widget.html-object-embed {
	font-size: var(--ck-font-size-base);
	background-color: var(--ck-color-base-foreground);
	padding: var(--ck-spacing-small);
	/* Leave space for label */
	padding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));
	min-width: calc(76px + var(--ck-spacing-standard));

	&:not(.ck-widget_selected):not(:hover) {
		outline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);
	}

	&::before {
		font-weight: normal;
		font-style: normal;
		position: absolute;
		content: attr(data-html-object-embed-label);
		top: 0;
		left: var(--ck-spacing-standard);
		background: hsl(0deg 0% 60%);
		transition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);
		padding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);
		border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
		color: var(--ck-color-base-background);
		font-size: var(--ck-font-size-tiny);
		font-family: var(--ck-font-face);
	}

	/* Make space for label. */
	& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {
		margin-left: 50px;
	}

	& .html-object-embed__content {
		/* Disable user interaction with embed content */
		pointer-events: none;
	}
}

div.ck-widget.html-object-embed {
	margin: 1em auto;
}

span.ck-widget.html-object-embed {
	display: inline-block;
}

`],sourceRoot:""}]);const D=p},9048:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const D=p},8662:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const D=p},9292:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const D=p},5150:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const D=p},1043:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const D=p},4622:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},9899:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const D=p},9825:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const D=p},5870:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const D=p},6831:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},399:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const D=p},9465:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},4827:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},3195:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const D=p},9989:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},7133:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const D=p},4553:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const D=p},1588:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const D=p},5777:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const D=p},952:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read\u2013only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},3525:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},7583:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-mention-background:rgba(153,0,48,.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-mention/mention.css"],names:[],mappings:"AAKA,MACC,+CAAwD,CACxD,+BACD,CAEA,qBACC,6CAA8C,CAC9C,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-mention-background: hsla(341, 100%, 30%, 0.1);
	--ck-color-mention-text: hsl(341, 100%, 30%);
}

.ck-content .mention {
	background: var(--ck-color-mention-background);
	color: var(--ck-color-mention-text);
}
`],sourceRoot:""}]);const D=p},6391:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{flex-shrink:0;overflow:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-mention/theme/mentionui.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,gBACC,4CAA6C,CAM7C,iBAAkB,CAJlB,eAAgB,CAMhB,2BAQD,CAJC,+BAEC,aAAc,CADd,eAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-mention-list-max-height: 300px;
}

.ck.ck-mentions {
	max-height: var(--ck-mention-list-max-height);

	overflow-y: auto;

	/* Prevent unnecessary horizontal scrollbar in Safari
	https://github.com/ckeditor/ckeditor5-mention/issues/41 */
	overflow-x: hidden;

	overscroll-behavior: contain;

	/* Prevent unnecessary vertical scrollbar in Safari
	https://github.com/ckeditor/ckeditor5-mention/issues/41 */
	& > .ck-list__item {
		overflow: hidden;
		flex-shrink: 0;
	}
}
`],sourceRoot:""}]);const D=p},671:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) " ";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%}.ck-rounded-corners .ck-source-editing-area textarea,.ck-source-editing-area textarea.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,wBAEC,eAAgB,CADhB,iBAED,CAEA,+DAIC,4BAA6B,CAG7B,qBAAsB,CADtB,oCAAqC,CADrC,sCAAuC,CAFvC,QAAS,CADT,+BAAgC,CAMhC,oBACD,CAEA,8BACC,4BAA6B,CAE7B,aAAc,CADd,iBAED,CAEA,iCASC,wCAAyC,CC7BzC,eAAgB,CD2BhB,qBAAsB,CAJtB,WAAY,CAEZ,YAAa,CACb,eAAgB,CALhB,iBAAkB,CAGlB,WAAY,CAFZ,UAkBD,CApBA,yGChBE,qCAAsC,CD4BtC,wBAAyB,CACzB,yBAOF,CAJC,uDEpCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFwCA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck-source-editing-area {
	position: relative;
	overflow: hidden;
}

.ck-source-editing-area::after,
.ck-source-editing-area textarea {
	padding: var(--ck-spacing-large);
	margin: 0;
	border: 1px solid transparent;
	line-height: var(--ck-line-height-base);
	font-size: var(--ck-font-size-normal);
	font-family: monospace;
	white-space: pre-wrap;
}

.ck-source-editing-area::after {
	content: attr(data-value) " ";
	visibility: hidden;
	display: block;
}

.ck-source-editing-area textarea {
	position: absolute;
	width: 100%;
	height: 100%;
	resize: none;
	outline: none;
	overflow: hidden;
	box-sizing: border-box;

	border-color: var(--ck-color-base-border);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not([readonly]):focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},4046:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/charactergrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/charactergrid.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,sBACC,cAKD,CAHC,gDACC,YACD,CCFD,MACC,kCACD,CAEA,sBAIC,gBAAiB,CAFjB,iBAAkB,CADlB,eAAgB,CAEhB,WAyCD,CClDC,oCDMD,sBAOE,WAqCF,CChDC,CDcA,gDAGC,mCAAoC,CAFpC,oCAAsC,CACtC,yDAMD,CCxBA,oCDgBA,gDAME,mCAEF,CCtBA,CDwBA,+CAQC,QAAS,CAHT,eAAgB,CAHhB,yCAA0C,CAE1C,6CAA8C,CAD9C,4CAA6C,CAG7C,SAAU,CACV,8BAA+B,CAN/B,wCAsBD,CAbC,8IAGC,QAAS,CACT,iGACD,CAGA,iEACC,8CAA+C,CAE/C,iBAAkB,CADlB,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-character-grid {
	max-width: 100%;
	
	& .ck-character-grid__tiles {
		display: grid;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "../mixins/_rounded.css";

:root {
	--ck-character-grid-tile-size: 24px;
}

.ck.ck-character-grid {
	overflow-y: auto;
	overflow-x: hidden;
	width: 350px;
	max-height: 200px;

	@mixin ck-media-phone {
		width: 190px;
	}

	& .ck-character-grid__tiles {
		grid-template-columns: repeat(10, 1fr);
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);
		grid-gap: var(--ck-spacing-standard);

		@mixin ck-media-phone {
			grid-template-columns: repeat(5, 1fr);
		}
	}

	& .ck-character-grid__tile {
		width: var(--ck-character-grid-tile-size);
		height: var(--ck-character-grid-tile-size);
		min-width: var(--ck-character-grid-tile-size);
		min-height: var(--ck-character-grid-tile-size);
		font-size: 1.2em;
		padding: 0;
		transition: .2s ease box-shadow;
		border: 0;

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}

		/* Make sure the glyph is rendered in the center of the button */
		& .ck-button__label {
			line-height: var(--ck-character-grid-tile-size);
			width: 100%;
			text-align: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},4779:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/characterinfo.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/characterinfo.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,sBCIC,gDAAiD,CDHjD,YAAa,CACb,6BAA8B,CCC9B,uDDAD,CCGC,wBAEC,mCAAoC,CADpC,wBAED,CAEA,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,+CACC,UACD,CClBA,oCDCD,sBAoBE,eAEF,CCrBC",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-character-info {
	display: flex;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-character-info {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	border-top: 1px solid var(--ck-color-base-border);

	& > * {
		text-transform: uppercase;
		font-size: var(--ck-font-size-small);
	}

	& .ck-character-info__name {
		max-width: 280px;
		text-overflow: ellipsis;
		overflow: hidden;
	}

	& .ck-character-info__code {
		opacity: .6;
	}

	@mixin ck-media-phone {
		max-width: 190px;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},8170:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/specialcharacters.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAUC,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,sEAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED,CCfA,oCDED,qCAgBE,eAOF,CALE,6DAEC,eAAgB,CADhB,sBAED,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-special-characters-navigation {

	& > .ck-label {
		max-width: 160px;
		text-overflow: ellipsis;
		overflow: hidden;
	}

	& > .ck-dropdown .ck-dropdown__panel {
		/* There could be dozens of categories available. Use scroll to prevent a 10e6px dropdown. */
		max-height: 250px;
		overflow-y: auto;
		overflow-x: hidden;
	}

	@mixin ck-media-phone {
		max-width: 190px;

		& > .ck-form__header__label {
			text-overflow: ellipsis;
			overflow: hidden;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},2844:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/style.css"],names:[],mappings:"AAKA,iGACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active > .ck-button > .ck-button__label {
	font-style: italic;
}
`],sourceRoot:""}]);const D=p},3875:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-style-panel-columns:3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;flex-direction:column;justify-content:space-between}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{align-content:center;align-items:center;display:flex;flex-basis:100%;flex-grow:1;justify-content:flex-start}:root{--ck-style-panel-button-width:120px;--ck-style-panel-button-height:80px;--ck-style-panel-button-label-background:#f0f0f0;--ck-style-panel-button-hover-label-background:#ebebeb;--ck-style-panel-button-hover-border-color:#b3b3b3}.ck.ck-style-panel .ck-style-grid{column-gap:var(--ck-spacing-large);row-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background:var(--ck-color-base-background);--ck-color-button-default-active-background:var(--ck-color-base-background);height:var(--ck-style-panel-button-height);padding:0;width:var(--ck-style-panel-button-width)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{flex-shrink:0;height:22px;line-height:22px;overflow:hidden;padding:0 var(--ck-spacing-medium);text-overflow:ellipsis;width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background);opacity:.9;overflow:hidden;padding:var(--ck-spacing-medium);width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background:var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{border-color:var(--ck-color-base-foreground);filter:saturate(.3);opacity:.4}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegrid.css"],names:[],mappings:"AAKA,MACC,0BACD,CAEA,kCACC,YAAa,CACb,gEAAiE,CACjE,qBAgBD,CAdC,yDACC,YAAa,CAEb,qBAAsB,CADtB,6BAWD,CARC,yFAEC,oBAAqB,CAErB,kBAAmB,CAHnB,YAAa,CAKb,eAAgB,CADhB,WAAY,CAFZ,0BAID,CCrBF,MACC,mCAAoC,CACpC,mCAAoC,CACpC,gDAA2D,CAC3D,sDAAiE,CACjE,kDACD,CAEA,kCAEC,kCAAmC,CADnC,+BAmFD,CAhFC,yDACC,0EAA2E,CAC3E,2EAA4E,CAI5E,0CAA2C,CAF3C,SAAU,CACV,wCA0ED,CAtEC,qEACC,4CACD,CAEA,2EAOC,aAAc,CANd,WAAY,CACZ,gBAAiB,CAGjB,eAAgB,CADhB,kCAAmC,CAEnC,sBAAuB,CAHvB,UAKD,CAEA,yFAMC,0CAA2C,CAC3C,gDAAiD,CAJjD,UAAW,CADX,eAAgB,CAGhB,gCAAiC,CAJjC,UAOD,CAEA,qEACC,6EAaD,CAVC,iFACC,0DACD,CAEA,qGAGC,4CAA6C,CAC7C,mBAAoB,CAHpB,UAID,CAGD,+DACC,wCAUD,CARC,iFACC,+CAAgD,CAChD,SACD,CAEA,qEACC,8CACD,CAIA,uFACC,wDACD,CAEA,6FACC,8DACD,CAGD,6FACC,4DAKD,CAHC,6HACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-style-panel-columns: 3;
}

.ck.ck-style-panel .ck-style-grid {
	display: grid;
	grid-template-columns: repeat(var(--ck-style-panel-columns),auto);
	justify-content: start;

	& .ck-style-grid__button {
		display: flex;
		justify-content: space-between;
		flex-direction: column;

		& .ck-style-grid__button__preview {
			display: flex;
			align-content: center;
			justify-content: flex-start;
			align-items: center;
			flex-grow: 1;
			flex-basis: 100%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-style-panel-button-width: 120px;
	--ck-style-panel-button-height: 80px;
	--ck-style-panel-button-label-background: hsl(0, 0%, 94.1%);
	--ck-style-panel-button-hover-label-background: hsl(0, 0%, 92.1%);
	--ck-style-panel-button-hover-border-color: hsl(0, 0%, 70%);
}

.ck.ck-style-panel .ck-style-grid {
	row-gap: var(--ck-spacing-large);
	column-gap: var(--ck-spacing-large);

	& .ck-style-grid__button {
		--ck-color-button-default-hover-background: var(--ck-color-base-background);
		--ck-color-button-default-active-background: var(--ck-color-base-background);

		padding: 0;
		width: var(--ck-style-panel-button-width);
		height: var(--ck-style-panel-button-height);

		/* Let default .ck-button :focus styles apply */
		&:not(:focus) {
			border: 1px solid var(--ck-color-base-border);
		}

		& .ck-button__label {
			height: 22px;
			line-height: 22px;
			width: 100%;
			padding: 0 var(--ck-spacing-medium);
			overflow: hidden;
			text-overflow: ellipsis;
			flex-shrink: 0;
		}

		& .ck-style-grid__button__preview {
			width: 100%;
			overflow: hidden;
			opacity: .9;

			padding: var(--ck-spacing-medium);
			background: var(--ck-color-base-background);
			border: 2px solid var(--ck-color-base-background);
		}

		&.ck-disabled {
			--ck-color-button-default-disabled-background: var(--ck-color-base-foreground);

			/* Let default .ck-button :focus styles apply */
			&:not(:focus) {
				border-color: var(--ck-style-panel-button-label-background);
			}

			& .ck-style-grid__button__preview {
				opacity: .4;

				border-color: var(--ck-color-base-foreground);
				filter: saturate(.3);
			}
		}

		&.ck-on {
			border-color: var(--ck-color-base-active);

			& .ck-button__label {
				box-shadow: 0 -1px 0 var(--ck-color-base-active);
				z-index: 1; /* Stay on top of the preview with the shadow. */
			}

			&:hover {
				border-color: var(--ck-color-base-active-focus);
			}
		}

		&:not(.ck-on) {
			& .ck-button__label {
				background: var(--ck-style-panel-button-label-background);
			}

			&:hover .ck-button__label {
				background: var(--ck-style-panel-button-hover-label-background);
			}
		}

		&:hover:not(.ck-disabled):not(.ck-on) {
			border-color: var(--ck-style-panel-button-hover-border-color);

			& .ck-style-grid__button__preview {
				opacity: 1;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},9545:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegroup.css"],names:[],mappings:"AAMC,0DACC,gCACD,CAGC,sEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-style-panel .ck-style-panel__style-group {
	& > .ck-label {
		margin: var(--ck-spacing-large) 0;
	}

	&:first-child {
		& > .ck-label {
			margin-top: 0;
		}
	}
}
`],sourceRoot:""}]);const D=p},6746:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-style-panel-max-height:470px}.ck.ck-style-panel{max-height:var(--ck-style-panel-max-height);overflow-y:auto;padding:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylepanel.css"],names:[],mappings:"AAKA,MACC,iCACD,CAEA,mBAGC,2CAA4C,CAD5C,eAAgB,CADhB,+BAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-style-panel-max-height: 470px;
}

.ck.ck-style-panel {
	padding: var(--ck-spacing-large);
	overflow-y: auto;
	max-height: var(--ck-style-panel-max-height);
}
`],sourceRoot:""}]);const D=p},4082:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},4880:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},9865:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const D=p},8085:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const D=p},4104:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const D=p},9888:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-caption-background: hsl(0, 0%, 97%);
	--ck-color-table-caption-text: hsl(0, 0%, 20%);
	--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-table-caption-text);
	background-color: var(--ck-color-table-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-table-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-table-caption-background);
	}
}
`],sourceRoot:""}]);const D=p},5737:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},728:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAEC,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-table-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const D=p},4777:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const D=p},198:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},9221:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},5593:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},4499:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=p},9681:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating\u2013point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=p},4923:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const D=p},3488:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},6875:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},66:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},5075:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const D=p},4547:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},5523:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const D=p},1174:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},6985:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},2751:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const D=p},8111:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},1162:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},8245:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},1757:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const D=p},3553:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},3609:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},1590:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=p},6706:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const D=p},5571:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=p},9948:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const D=p},6150:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const D=p},6507:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=p},2263:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const D=p},5137:(w,k,h)=>{h.d(k,{Z:()=>D});var y=h(4015),x=h.n(y),C=h(3645),E=h.n(C),p=E()(x());p.push([w.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const D=p},3645:w=>{w.exports=function(k){var h=[];return h.toString=function(){return this.map(function(x){var C=k(x);return x[2]?"@media ".concat(x[2]," {").concat(C,"}"):C}).join("")},h.i=function(y,x,C){typeof y=="string"&&(y=[[null,y,""]]);var E={};if(C)for(var p=0;p<this.length;p++){var D=this[p][0];D!=null&&(E[D]=!0)}for(var it=0;it<y.length;it++){var Ct=[].concat(y[it]);C&&E[Ct[0]]||(x&&(Ct[2]?Ct[2]="".concat(x," and ").concat(Ct[2]):Ct[2]=x),h.push(Ct))}},h}},4015:w=>{function k(p,D){return E(p)||C(p,D)||y(p,D)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(p,D){if(p){if(typeof p=="string")return x(p,D);var it=Object.prototype.toString.call(p).slice(8,-1);if(it==="Object"&&p.constructor&&(it=p.constructor.name),it==="Map"||it==="Set")return Array.from(p);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return x(p,D)}}function x(p,D){(D==null||D>p.length)&&(D=p.length);for(var it=0,Ct=new Array(D);it<D;it++)Ct[it]=p[it];return Ct}function C(p,D){var it=p&&(typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"]);if(it!=null){var Ct=[],ge=!0,$e=!1,Pe,fe;try{for(it=it.call(p);!(ge=(Pe=it.next()).done)&&(Ct.push(Pe.value),!(D&&Ct.length===D));ge=!0);}catch(Re){$e=!0,fe=Re}finally{try{!ge&&it.return!=null&&it.return()}finally{if($e)throw fe}}return Ct}}function E(p){if(Array.isArray(p))return p}w.exports=function(D){var it=k(D,4),Ct=it[1],ge=it[3];if(!ge)return Ct;if(typeof btoa=="function"){var $e=btoa(unescape(encodeURIComponent(JSON.stringify(ge)))),Pe="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat($e),fe="/*# ".concat(Pe," */"),Re=ge.sources.map(function(X){return"/*# sourceURL=".concat(ge.sourceRoot||"").concat(X," */")});return[Ct].concat(Re).concat([fe]).join(`
`)}return[Ct].join(`
`)}},3379:(w,k,h)=>{var y=function(){var ot;return function(){return typeof ot=="undefined"&&(ot=!!(window&&document&&document.all&&!window.atob)),ot}}(),x=function(){var ot={};return function(pt){if(typeof ot[pt]=="undefined"){var gt=document.querySelector(pt);if(window.HTMLIFrameElement&&gt instanceof window.HTMLIFrameElement)try{gt=gt.contentDocument.head}catch(St){gt=null}ot[pt]=gt}return ot[pt]}}(),C=[];function E(X){for(var ot=-1,ct=0;ct<C.length;ct++)if(C[ct].identifier===X){ot=ct;break}return ot}function p(X,ot){for(var ct={},pt=[],gt=0;gt<X.length;gt++){var St=X[gt],Yt=ot.base?St[0]+ot.base:St[0],Jt=ct[Yt]||0,de="".concat(Yt," ").concat(Jt);ct[Yt]=Jt+1;var Xt=E(de),Rt={css:St[1],media:St[2],sourceMap:St[3]};Xt!==-1?(C[Xt].references++,C[Xt].updater(Rt)):C.push({identifier:de,updater:Re(Rt,ot),references:1}),pt.push(de)}return pt}function D(X){var ot=document.createElement("style"),ct=X.attributes||{};if(typeof ct.nonce=="undefined"){var pt=h.nc;pt&&(ct.nonce=pt)}if(Object.keys(ct).forEach(function(St){ot.setAttribute(St,ct[St])}),typeof X.insert=="function")X.insert(ot);else{var gt=x(X.insert||"head");if(!gt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");gt.appendChild(ot)}return ot}function it(X){if(X.parentNode===null)return!1;X.parentNode.removeChild(X)}var Ct=function(){var ot=[];return function(pt,gt){return ot[pt]=gt,ot.filter(Boolean).join(`
`)}}();function ge(X,ot,ct,pt){var gt=ct?"":pt.media?"@media ".concat(pt.media," {").concat(pt.css,"}"):pt.css;if(X.styleSheet)X.styleSheet.cssText=Ct(ot,gt);else{var St=document.createTextNode(gt),Yt=X.childNodes;Yt[ot]&&X.removeChild(Yt[ot]),Yt.length?X.insertBefore(St,Yt[ot]):X.appendChild(St)}}function $e(X,ot,ct){var pt=ct.css,gt=ct.media,St=ct.sourceMap;if(gt?X.setAttribute("media",gt):X.removeAttribute("media"),St&&typeof btoa!="undefined"&&(pt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(St))))," */")),X.styleSheet)X.styleSheet.cssText=pt;else{for(;X.firstChild;)X.removeChild(X.firstChild);X.appendChild(document.createTextNode(pt))}}var Pe=null,fe=0;function Re(X,ot){var ct,pt,gt;if(ot.singleton){var St=fe++;ct=Pe||(Pe=D(ot)),pt=ge.bind(null,ct,St,!1),gt=ge.bind(null,ct,St,!0)}else ct=D(ot),pt=$e.bind(null,ct,ot),gt=function(){it(ct)};return pt(X),function(Jt){if(Jt){if(Jt.css===X.css&&Jt.media===X.media&&Jt.sourceMap===X.sourceMap)return;pt(X=Jt)}else gt()}}w.exports=function(X,ot){ot=ot||{},!ot.singleton&&typeof ot.singleton!="boolean"&&(ot.singleton=y()),X=X||[];var ct=p(X,ot);return function(gt){if(gt=gt||[],Object.prototype.toString.call(gt)==="[object Array]"){for(var St=0;St<ct.length;St++){var Yt=ct[St],Jt=E(Yt);C[Jt].references--}for(var de=p(gt,ot),Xt=0;Xt<ct.length;Xt++){var Rt=ct[Xt],oe=E(Rt);C[oe].references===0&&(C[oe].updater(),C.splice(oe,1))}ct=de}}}}},F={};function I(w){var k=F[w];if(k!==void 0)return k.exports;var h=F[w]={id:w,exports:{}};return G[w](h,h.exports,I),h.exports}I.n=w=>{var k=w&&w.__esModule?()=>w.default:()=>w;return I.d(k,{a:k}),k},I.d=(w,k)=>{for(var h in k)I.o(k,h)&&!I.o(w,h)&&Object.defineProperty(w,h,{enumerable:!0,get:k[h]})},I.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(w){if(typeof window=="object")return window}}(),I.o=(w,k)=>Object.prototype.hasOwnProperty.call(w,k),I.nc=void 0;var H={};return(()=>{I.d(H,{default:()=>PR});function w({emitter:i,activator:t,callback:e,contextElements:n}){i.listenTo(document,"mousedown",(o,r)=>{if(!t())return;const s=typeof r.composedPath=="function"?r.composedPath():[],a=typeof n=="function"?n():n;for(const c of a)if(c.contains(r.target)||s.includes(c))return;e()})}function k(i){class t extends i{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}function h({view:i}){i.listenTo(i.element,"submit",(t,e)=>{e.preventDefault(),i.fire("submit")},{useCapture:!0})}function y({keystrokeHandler:i,focusTracker:t,gridItems:e,numberOfColumns:n,uiLanguageDirection:o}){const r=typeof n=="number"?()=>n:n;i.set("arrowright",s((l,d)=>o==="rtl"?c(l,d.length):a(l,d.length))),i.set("arrowleft",s((l,d)=>o==="rtl"?a(l,d.length):c(l,d.length))),i.set("arrowup",s((l,d)=>{let u=l-r();return u<0&&(u=l+r()*Math.floor(d.length/r()),u>d.length-1&&(u-=r())),u})),i.set("arrowdown",s((l,d)=>{let u=l+r();return u>d.length-1&&(u=l%r()),u}));function s(l){return d=>{const u=e.find(A=>A.element===t.focusedElement),m=e.getIndex(u),b=l(m,e);e.get(b).focus(),d.stopPropagation(),d.preventDefault()}}function a(l,d){return l===d-1?0:l+1}function c(l,d){return l===0?d-1:l-1}}function x(){try{return navigator.userAgent.toLowerCase()}catch(i){return""}}const C=x(),p={isMac:D(C),isWindows:it(C),isGecko:Ct(C),isSafari:ge(C),isiOS:$e(C),isAndroid:Pe(C),isBlink:fe(C),features:{isRegExpUnicodePropertySupported:Re()}};function D(i){return i.indexOf("macintosh")>-1}function it(i){return i.indexOf("windows")>-1}function Ct(i){return!!i.match(/gecko\/\d+/)}function ge(i){return i.indexOf(" applewebkit/")>-1&&i.indexOf("chrome")===-1}function $e(i){return!!i.match(/iphone|ipad/i)||D(i)&&navigator.maxTouchPoints>0}function Pe(i){return i.indexOf("android")>-1}function fe(i){return i.indexOf("chrome/")>-1&&i.indexOf("edge/")<0}function Re(){let i=!1;try{i="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(t){}return i}function X(i,t,e,n){e=e||function(c,l){return c===l};const o=Array.isArray(i)?i:Array.prototype.slice.call(i),r=Array.isArray(t)?t:Array.prototype.slice.call(t),s=ot(o,r,e);return n?St(s,r.length):gt(r,s)}function ot(i,t,e){const n=ct(i,t,e);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=pt(i,n),r=pt(t,n),s=ct(o,r,e),a=i.length-s,c=t.length-s;return{firstIndex:n,lastIndexOld:a,lastIndexNew:c}}function ct(i,t,e){for(let n=0;n<Math.max(i.length,t.length);n++)if(i[n]===void 0||t[n]===void 0||!e(i[n],t[n]))return n;return-1}function pt(i,t){return i.slice(t).reverse()}function gt(i,t){const e=[],{firstIndex:n,lastIndexOld:o,lastIndexNew:r}=t;return r-n>0&&e.push({index:n,type:"insert",values:i.slice(n,r)}),o-n>0&&e.push({index:n+(r-n),type:"delete",howMany:o-n}),e}function St(i,t){const{firstIndex:e,lastIndexOld:n,lastIndexNew:o}=i;if(e===-1)return Array(t).fill("equal");let r=[];return e>0&&(r=r.concat(Array(e).fill("equal"))),o-e>0&&(r=r.concat(Array(o-e).fill("insert"))),n-e>0&&(r=r.concat(Array(n-e).fill("delete"))),o<t&&(r=r.concat(Array(t-o).fill("equal"))),r}function Yt(i,t,e){e=e||function(T,B){return T===B};const n=i.length,o=t.length;if(n>200||o>200||n+o>300)return Yt.fastDiff(i,t,e,!0);let r,s;if(o<n){const T=i;i=t,t=T,r="delete",s="insert"}else r="insert",s="delete";const a=i.length,c=t.length,l=c-a,d={},u={};function m(T){const B=(u[T-1]!==void 0?u[T-1]:-1)+1,L=u[T+1]!==void 0?u[T+1]:-1,j=B>L?-1:1;d[T+j]&&(d[T]=d[T+j].slice(0)),d[T]||(d[T]=[]),d[T].push(B>L?r:s);let dt=Math.max(B,L),ht=dt-T;for(;ht<a&&dt<c&&e(i[ht],t[dt]);)ht++,dt++,d[T].push("equal");return dt}let b=0,A;do{for(A=-b;A<l;A++)u[A]=m(A);for(A=l+b;A>l;A--)u[A]=m(A);u[l]=m(l),b++}while(u[l]!==c);return d[l].slice(1)}Yt.fastDiff=X;function Jt(){return function i(){i.called=!0}}const de=Jt;class Xt{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=de(),this.off=de()}}const Rt=new Array(256).fill("").map((i,t)=>("0"+t.toString(16)).slice(-2));function oe(){const i=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Rt[i>>0&255]+Rt[i>>8&255]+Rt[i>>16&255]+Rt[i>>24&255]+Rt[t>>0&255]+Rt[t>>8&255]+Rt[t>>16&255]+Rt[t>>24&255]+Rt[e>>0&255]+Rt[e>>8&255]+Rt[e>>16&255]+Rt[e>>24&255]+Rt[n>>0&255]+Rt[n>>8&255]+Rt[n>>16&255]+Rt[n>>24&255]}const we={get(i="normal"){return typeof i!="number"?this[i]||this.normal:i},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Do(i,t){const e=we.get(t.priority);for(let n=0;n<i.length;n++)if(we.get(i[n].priority)<e){i.splice(n,0,t);return}i.push(t)}const Za="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class v extends Error{constructor(t,e,n){super(Fr(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new v(t.message,e);throw n.stack=t.stack,n}}function _t(i,t){console.warn(...ti(i,t))}function hm(i,t){console.error(...ti(i,t))}function Vr(i){return`
Read more: ${Za}#error-${i}`}function Fr(i,t){const e=new WeakSet,o=t?` ${JSON.stringify(t,(s,a)=>{if(typeof a=="object"&&a!==null){if(e.has(a))return`[object ${a.constructor.name}]`;e.add(a)}return a})}`:"",r=Vr(i);return i+o+r}function ti(i,t){const e=Vr(i);return t?[i,t,e]:[i,e]}const Qa="37.1.0",mm=null,jr=typeof window=="object"?window:I.g;if(jr.CKEDITOR_VERSION)throw new v("ckeditor-duplicated-modules",null);jr.CKEDITOR_VERSION=Qa;const Nn=Symbol("listeningTo"),To=Symbol("emitterId"),pe=Symbol("delegations"),ei=kt(Object);function kt(i){if(!i)return ei;class t extends i{on(n,o,r){this.listenTo(this,n,o,r)}once(n,o,r){let s=!1;const a=(c,...l)=>{s||(s=!0,c.off(),o.call(this,c,...l))};this.listenTo(this,n,a,r)}off(n,o){this.stopListening(this,n,o)}listenTo(n,o,r,s={}){let a,c;this[Nn]||(this[Nn]={});const l=this[Nn];So(n)||Hr(n);const d=So(n);(a=l[d])||(a=l[d]={emitter:n,callbacks:{}}),(c=a.callbacks[o])||(c=a.callbacks[o]=[]),c.push(r),Xa(this,n,o,r,s)}stopListening(n,o,r){const s=this[Nn];let a=n&&So(n);const c=s&&a?s[a]:void 0,l=c&&o?c.callbacks[o]:void 0;if(!(!s||n&&!c||o&&!l))if(r)zo(this,n,o,r),l.indexOf(r)!==-1&&(l.length===1?delete c.callbacks[o]:zo(this,n,o,r));else if(l){for(;r=l.pop();)zo(this,n,o,r);delete c.callbacks[o]}else if(c){for(o in c.callbacks)this.stopListening(n,o);delete s[a]}else{for(a in s)this.stopListening(s[a].emitter);delete this[Nn]}}fire(n,...o){try{const r=n instanceof Xt?n:new Xt(this,n),s=r.name;let a=Wr(this,s);if(r.path.push(this),a){const l=[r,...o];a=Array.from(a);for(let d=0;d<a.length&&(a[d].callback.apply(this,l),r.off.called&&(delete r.off.called,this._removeEventListener(s,a[d].callback)),!r.stop.called);d++);}const c=this[pe];if(c){const l=c.get(s),d=c.get("*");l&&rn(l,r,o),d&&rn(d,r,o)}return r.return}catch(r){v.rethrowUnexpectedError(r,this)}}delegate(...n){return{to:(o,r)=>{this[pe]||(this[pe]=new Map),n.forEach(s=>{const a=this[pe].get(s);a?a.set(o,r):this[pe].set(s,new Map([[o,r]]))})}}}stopDelegating(n,o){if(this[pe])if(!n)this[pe].clear();else if(!o)this[pe].delete(n);else{const r=this[pe].get(n);r&&r.delete(o)}}_addEventListener(n,o,r){Ur(this,n);const s=Bo(this,n),a=we.get(r.priority),c={callback:o,priority:a};for(const l of s)Do(l,c)}_removeEventListener(n,o){const r=Bo(this,n);for(const s of r)for(let a=0;a<s.length;a++)s[a].callback==o&&(s.splice(a,1),a--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{kt[i]=ei.prototype[i]});function Ja(i,t){const e=i[Nn];return e&&e[t]?e[t].emitter:null}function Hr(i,t){i[To]||(i[To]=t||oe())}function So(i){return i[To]}function Io(i){return i._events||Object.defineProperty(i,"_events",{value:{}}),i._events}function Mo(){return{callbacks:[],childEvents:[]}}function Ur(i,t){const e=Io(i);if(e[t])return;let n=t,o=null;const r=[];for(;n!==""&&!e[n];)e[n]=Mo(),r.push(e[n]),o&&e[n].childEvents.push(o),o=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const s of r)s.callbacks=e[n].callbacks.slice();e[n].childEvents.push(o)}}function Bo(i,t){const e=Io(i)[t];if(!e)return[];let n=[e.callbacks];for(let o=0;o<e.childEvents.length;o++){const r=Bo(i,e.childEvents[o]);n=n.concat(r)}return n}function Wr(i,t){let e;return!i._events||!(e=i._events[t])||!e.callbacks.length?t.indexOf(":")>-1?Wr(i,t.substr(0,t.lastIndexOf(":"))):null:e.callbacks}function rn(i,t,e){for(let[n,o]of i){o?typeof o=="function"&&(o=o(t.name)):o=t.name;const r=new Xt(t.source,o);r.path=[...t.path],n.fire(r,...e)}}function Xa(i,t,e,n,o){t._addEventListener?t._addEventListener(e,n,o):i._addEventListener.call(t,e,n,o)}function zo(i,t,e,n){t._removeEventListener?t._removeEventListener(e,n):i._removeEventListener.call(t,e,n)}function tc(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}const vt=tc,Li=Symbol("observableProperties"),Pi=Symbol("boundObservables"),Ri=Symbol("boundProperties"),Ln=Symbol("decoratedMethods"),sn=Symbol("decoratedOriginal"),Pn=ut(kt());function ut(i){if(!i)return Pn;class t extends i{set(n,o){if(vt(n)){Object.keys(n).forEach(s=>{this.set(s,n[s])},this);return}No(this);const r=this[Li];if(n in this&&!r.has(n))throw new v("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return r.get(n)},set(s){const a=r.get(n);let c=this.fire(`set:${n}`,n,s,a);c===void 0&&(c=s),(a!==c||!r.has(n))&&(r.set(n,c),this.fire(`change:${n}`,n,c,a))}}),this[n]=o}bind(...n){if(!n.length||!Gr(n))throw new v("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new v("observable-bind-duplicate-properties",this);No(this);const o=this[Ri];n.forEach(s=>{if(o.has(s))throw new v("observable-bind-rebind",this)});const r=new Map;return n.forEach(s=>{const a={property:s,to:[]};o.set(s,a),r.set(s,a)}),{to:ec,toMany:nc,_observable:this,_bindProperties:n,_to:[],_bindings:r}}unbind(...n){if(!this[Li])return;const o=this[Ri],r=this[Pi];if(n.length){if(!Gr(n))throw new v("observable-unbind-wrong-properties",this);n.forEach(s=>{const a=o.get(s);a&&(a.to.forEach(([c,l])=>{const d=r.get(c),u=d[l];u.delete(a),u.size||delete d[l],Object.keys(d).length||(r.delete(c),this.stopListening(c,"change"))}),o.delete(s))})}else r.forEach((s,a)=>{this.stopListening(a,"change")}),r.clear(),o.clear()}decorate(n){No(this);const o=this[n];if(!o)throw new v("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(r,s)=>{r.return=o.apply(this,s)}),this[n]=function(...r){return this.fire(n,r)},this[n][sn]=o,this[Ln]||(this[Ln]=[]),this[Ln].push(n)}stopListening(n,o,r){if(!n&&this[Ln]){for(const s of this[Ln])this[s]=this[s][sn];delete this[Ln]}super.stopListening(n,o,r)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{ut[i]=Pn.prototype[i]});function No(i){i[Li]||(Object.defineProperty(i,Li,{value:new Map}),Object.defineProperty(i,Pi,{value:new Map}),Object.defineProperty(i,Ri,{value:new Map}))}function ec(...i){const t=oc(...i),e=Array.from(this._bindings.keys()),n=e.length;if(!t.callback&&t.to.length>1)throw new v("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new v("observable-bind-to-extra-callback",this);t.to.forEach(o=>{if(o.properties.length&&o.properties.length!==n)throw new v("observable-bind-to-properties-length",this);o.properties.length||(o.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),sc(this._observable,this._to),Rn(this),this._bindProperties.forEach(o=>{Lo(this._observable,o)})}function nc(i,t,e){if(this._bindings.size>1)throw new v("observable-bind-to-many-not-one-binding",this);this.to(...ic(i,t),e)}function ic(i,t){const e=i.map(n=>[n,t]);return Array.prototype.concat.apply([],e)}function Gr(i){return i.every(t=>typeof t=="string")}function oc(...i){if(!i.length)throw new v("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof i[i.length-1]=="function"&&(t.callback=i.pop()),i.forEach(n=>{if(typeof n=="string")e.properties.push(n);else if(typeof n=="object")e={observable:n,properties:[]},t.to.push(e);else throw new v("observable-bind-to-parse-error",null)}),t}function rc(i,t,e,n){const o=i[Pi],r=o.get(e),s=r||{};s[n]||(s[n]=new Set),s[n].add(t),r||o.set(e,s)}function Rn(i){let t;i._bindings.forEach((e,n)=>{i._to.forEach(o=>{t=o.properties[e.callback?0:i._bindProperties.indexOf(n)],e.to.push([o.observable,t]),rc(i._observable,e,o.observable,t)})})}function Lo(i,t){const n=i[Ri].get(t);let o;n.callback?o=n.callback.apply(i,n.to.map(r=>r[0][r[1]])):(o=n.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(i,t)?i[t]=o:i.set(t,o)}function sc(i,t){t.forEach(e=>{const n=i[Pi];let o;n.get(e.observable)||i.listenTo(e.observable,"change",(r,s)=>{o=n.get(e.observable)[s],o&&o.forEach(a=>{Lo(i,a.property)})})})}class qr{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}function On(i){let t=0;for(const e of i)t++;return t}function re(i,t){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++)if(i[n]!=t[n])return n;return i.length==t.length?"same":i.length<t.length?"prefix":"extension"}function Ae(i){return!!(i&&i[Symbol.iterator])}var ac=typeof N.g=="object"&&N.g&&N.g.Object===Object&&N.g;const $r=ac;var Vn=typeof self=="object"&&self&&self.Object===Object&&self,cc=$r||Vn||Function("return this")();const Te=cc;var Fn=Te.Symbol;const Oe=Fn;var Kr=Object.prototype,Yr=Kr.hasOwnProperty,Zr=Kr.toString,ni=Oe?Oe.toStringTag:void 0;function Qr(i){var t=Yr.call(i,ni),e=i[ni];try{i[ni]=void 0;var n=!0}catch(r){}var o=Zr.call(i);return n&&(t?i[ni]=e:delete i[ni]),o}const Oi=Qr;var lc=Object.prototype,Jr=lc.toString;function Xr(i){return Jr.call(i)}const dc=Xr;var uc="[object Null]",hc="[object Undefined]",Vi=Oe?Oe.toStringTag:void 0;function mc(i){return i==null?i===void 0?hc:uc:Vi&&Vi in Object(i)?Oi(i):dc(i)}const Ke=mc;var ts=Array.isArray;const se=ts;function es(i){return i!=null&&typeof i=="object"}const ve=es;var gc="[object String]";function ns(i){return typeof i=="string"||!se(i)&&ve(i)&&Ke(i)==gc}const yt=ns;function Fi(i,t,e={},n=[]){const o=e&&e.xmlns,r=o?i.createElementNS(o,t):i.createElement(t);for(const s in e)r.setAttribute(s,e[s]);(yt(n)||!Ae(n))&&(n=[n]);for(let s of n)yt(s)&&(s=i.createTextNode(s)),r.appendChild(s);return r}function Po(i,t){return function(e){return i(t(e))}}const Ro=Po;var ii=Ro(Object.getPrototypeOf,Object);const oi=ii;var jn="[object Object]",is=Function.prototype,fc=Object.prototype,os=is.toString,rs=fc.hasOwnProperty,pc=os.call(Object);function Oo(i){if(!ve(i)||Ke(i)!=jn)return!1;var t=oi(i);if(t===null)return!0;var e=rs.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&os.call(e)==pc}const ue=Oo;function bc(){this.__data__=[],this.size=0}const kc=bc;function wc(i,t){return i===t||i!==i&&t!==t}const Hn=wc;function Vo(i,t){for(var e=i.length;e--;)if(Hn(i[e][0],t))return e;return-1}const ji=Vo;var Ac=Array.prototype,Cc=Ac.splice;function _c(i){var t=this.__data__,e=ji(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Cc.call(t,e,1),--this.size,!0}const Fo=_c;function vc(i){var t=this.__data__,e=ji(t,i);return e<0?void 0:t[e][1]}const ss=vc;function as(i){return ji(this.__data__,i)>-1}const cs=as;function ls(i,t){var e=this.__data__,n=ji(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}const yc=ls;function Un(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Un.prototype.clear=kc,Un.prototype.delete=Fo,Un.prototype.get=ss,Un.prototype.has=cs,Un.prototype.set=yc;const Hi=Un;function ds(){this.__data__=new Hi,this.size=0}const xc=ds;function us(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}const jo=us;function Ec(i){return this.__data__.get(i)}const hs=Ec;function Ho(i){return this.__data__.has(i)}const ms=Ho;var Dc="[object AsyncFunction]",gs="[object Function]",Tc="[object GeneratorFunction]",Sc="[object Proxy]";function Uo(i){if(!vt(i))return!1;var t=Ke(i);return t==gs||t==Tc||t==Dc||t==Sc}const Ye=Uo;var Wo=Te["__core-js_shared__"];const ri=Wo;var Go=function(){var i=/[^.]+$/.exec(ri&&ri.keys&&ri.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function fs(i){return!!Go&&Go in i}const ps=fs;var bs=Function.prototype,ks=bs.toString;function Ic(i){if(i!=null){try{return ks.call(i)}catch(t){}try{return i+""}catch(t){}}return""}const wn=Ic;var Mc=/[\\^$.*+?()[\]{}|]/g,Bc=/^\[object .+?Constructor\]$/,zc=Function.prototype,An=Object.prototype,qo=zc.toString,Nc=An.hasOwnProperty,Lc=RegExp("^"+qo.call(Nc).replace(Mc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ws(i){if(!vt(i)||ps(i))return!1;var t=Ye(i)?Lc:Bc;return t.test(wn(i))}const $o=ws;function Pc(i,t){return i==null?void 0:i[t]}const Rc=Pc;function Oc(i,t){var e=Rc(i,t);return $o(e)?e:void 0}const an=Oc;var As=an(Te,"Map");const si=As;var Vc=an(Object,"create");const ai=Vc;function Cs(){this.__data__=ai?ai(null):{},this.size=0}const Fc=Cs;function jc(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}const Hc=jc;var _s="__lodash_hash_undefined__",Uc=Object.prototype,Wc=Uc.hasOwnProperty;function vs(i){var t=this.__data__;if(ai){var e=t[i];return e===_s?void 0:e}return Wc.call(t,i)?t[i]:void 0}const Gc=vs;var ys=Object.prototype,xs=ys.hasOwnProperty;function Es(i){var t=this.__data__;return ai?t[i]!==void 0:xs.call(t,i)}const xt=Es;var qc="__lodash_hash_undefined__";function $c(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=ai&&t===void 0?qc:t,this}const Kc=$c;function Wn(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Wn.prototype.clear=Fc,Wn.prototype.delete=Hc,Wn.prototype.get=Gc,Wn.prototype.has=xt,Wn.prototype.set=Kc;const Ko=Wn;function Yc(){this.size=0,this.__data__={hash:new Ko,map:new(si||Hi),string:new Ko}}const Zc=Yc;function Qc(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}const Jc=Qc;function Yo(i,t){var e=i.__data__;return Jc(t)?e[typeof t=="string"?"string":"hash"]:e.map}const Ui=Yo;function Ds(i){var t=Ui(this,i).delete(i);return this.size-=t?1:0,t}const Ts=Ds;function Ss(i){return Ui(this,i).get(i)}const ae=Ss;function ci(i){return Ui(this,i).has(i)}const Is=ci;function Xc(i,t){var e=Ui(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}const Ms=Xc;function Cn(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Cn.prototype.clear=Zc,Cn.prototype.delete=Ts,Cn.prototype.get=ae,Cn.prototype.has=Is,Cn.prototype.set=Ms;const Gn=Cn;var Zo=200;function _n(i,t){var e=this.__data__;if(e instanceof Hi){var n=e.__data__;if(!si||n.length<Zo-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new Gn(n)}return e.set(i,t),this.size=e.size,this}const tl=_n;function g(i){var t=this.__data__=new Hi(i);this.size=t.size}g.prototype.clear=xc,g.prototype.delete=jo,g.prototype.get=hs,g.prototype.has=ms,g.prototype.set=tl;const f=g;function _(i,t){for(var e=-1,n=i==null?0:i.length;++e<n&&t(i[e],e,i)!==!1;);return i}const M=_;var K=function(){try{var i=an(Object,"defineProperty");return i({},"",{}),i}catch(t){}}();const tt=K;function st(i,t,e){t=="__proto__"&&tt?tt(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}const at=st;var Ot=Object.prototype,Lt=Ot.hasOwnProperty;function Wi(i,t,e){var n=i[t];(!(Lt.call(i,t)&&Hn(n,e))||e===void 0&&!(t in i))&&at(i,t,e)}const Ze=Wi;function Ve(i,t,e,n){var o=!e;e||(e={});for(var r=-1,s=t.length;++r<s;){var a=t[r],c=n?n(e[a],i[a],a,e,i):void 0;c===void 0&&(c=i[a]),o?at(e,a,c):Ze(e,a,c)}return e}const Se=Ve;function Gi(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}const li=Gi;var Ce="[object Arguments]";function Qe(i){return ve(i)&&Ke(i)==Ce}const qi=Qe;var te=Object.prototype,Je=te.hasOwnProperty,$i=te.propertyIsEnumerable,__=qi(function(){return arguments}())?qi:function(i){return ve(i)&&Je.call(i,"callee")&&!$i.call(i,"callee")};const el=__;function v_(){return!1}const y_=v_;var gm=R&&!R.nodeType&&R,fm=gm&&!0&&W&&!W.nodeType&&W,x_=fm&&fm.exports===gm,pm=x_?Te.Buffer:void 0,E_=pm?pm.isBuffer:void 0,D_=E_||y_;const Qo=D_;var T_=9007199254740991,S_=/^(?:0|[1-9]\d*)$/;function I_(i,t){var e=typeof i;return t=t==null?T_:t,!!t&&(e=="number"||e!="symbol"&&S_.test(i))&&i>-1&&i%1==0&&i<t}const nl=I_;var M_=9007199254740991;function B_(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=M_}const bm=B_;var z_="[object Arguments]",N_="[object Array]",L_="[object Boolean]",P_="[object Date]",R_="[object Error]",O_="[object Function]",V_="[object Map]",F_="[object Number]",j_="[object Object]",H_="[object RegExp]",U_="[object Set]",W_="[object String]",G_="[object WeakMap]",q_="[object ArrayBuffer]",$_="[object DataView]",K_="[object Float32Array]",Y_="[object Float64Array]",Z_="[object Int8Array]",Q_="[object Int16Array]",J_="[object Int32Array]",X_="[object Uint8Array]",tv="[object Uint8ClampedArray]",ev="[object Uint16Array]",nv="[object Uint32Array]",Mt={};Mt[K_]=Mt[Y_]=Mt[Z_]=Mt[Q_]=Mt[J_]=Mt[X_]=Mt[tv]=Mt[ev]=Mt[nv]=!0,Mt[z_]=Mt[N_]=Mt[q_]=Mt[L_]=Mt[$_]=Mt[P_]=Mt[R_]=Mt[O_]=Mt[V_]=Mt[F_]=Mt[j_]=Mt[H_]=Mt[U_]=Mt[W_]=Mt[G_]=!1;function iv(i){return ve(i)&&bm(i.length)&&!!Mt[Ke(i)]}const ov=iv;function rv(i){return function(t){return i(t)}}const Bs=rv;var km=R&&!R.nodeType&&R,Jo=km&&!0&&W&&!W.nodeType&&W,sv=Jo&&Jo.exports===km,il=sv&&$r.process,av=function(){try{var i=Jo&&Jo.require&&Jo.require("util").types;return i||il&&il.binding&&il.binding("util")}catch(t){}}();const Ki=av;var wm=Ki&&Ki.isTypedArray,cv=wm?Bs(wm):ov;const ol=cv;var lv=Object.prototype,dv=lv.hasOwnProperty;function uv(i,t){var e=se(i),n=!e&&el(i),o=!e&&!n&&Qo(i),r=!e&&!n&&!o&&ol(i),s=e||n||o||r,a=s?li(i.length,String):[],c=a.length;for(var l in i)(t||dv.call(i,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||nl(l,c)))&&a.push(l);return a}const Am=uv;var hv=Object.prototype;function mv(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||hv;return i===e}const rl=mv;var gv=Ro(Object.keys,Object);const fv=gv;var pv=Object.prototype,bv=pv.hasOwnProperty;function kv(i){if(!rl(i))return fv(i);var t=[];for(var e in Object(i))bv.call(i,e)&&e!="constructor"&&t.push(e);return t}const wv=kv;function Av(i){return i!=null&&bm(i.length)&&!Ye(i)}const zs=Av;function Cv(i){return zs(i)?Am(i):wv(i)}const sl=Cv;function _v(i,t){return i&&Se(t,sl(t),i)}const vv=_v;function yv(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}const xv=yv;var Ev=Object.prototype,Dv=Ev.hasOwnProperty;function Tv(i){if(!vt(i))return xv(i);var t=rl(i),e=[];for(var n in i)n=="constructor"&&(t||!Dv.call(i,n))||e.push(n);return e}const Sv=Tv;function Iv(i){return zs(i)?Am(i,!0):Sv(i)}const Yi=Iv;function Mv(i,t){return i&&Se(t,Yi(t),i)}const Bv=Mv;var Cm=R&&!R.nodeType&&R,_m=Cm&&!0&&W&&!W.nodeType&&W,zv=_m&&_m.exports===Cm,vm=zv?Te.Buffer:void 0,ym=vm?vm.allocUnsafe:void 0;function Nv(i,t){if(t)return i.slice();var e=i.length,n=ym?ym(e):new i.constructor(e);return i.copy(n),n}const xm=Nv;function Lv(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}const al=Lv;function Pv(i,t){for(var e=-1,n=i==null?0:i.length,o=0,r=[];++e<n;){var s=i[e];t(s,e,i)&&(r[o++]=s)}return r}const Rv=Pv;function Ov(){return[]}const Em=Ov;var Vv=Object.prototype,Fv=Vv.propertyIsEnumerable,Dm=Object.getOwnPropertySymbols,jv=Dm?function(i){return i==null?[]:(i=Object(i),Rv(Dm(i),function(t){return Fv.call(i,t)}))}:Em;const cl=jv;function Hv(i,t){return Se(i,cl(i),t)}const Uv=Hv;function Wv(i,t){for(var e=-1,n=t.length,o=i.length;++e<n;)i[o+e]=t[e];return i}const Tm=Wv;var Gv=Object.getOwnPropertySymbols,qv=Gv?function(i){for(var t=[];i;)Tm(t,cl(i)),i=oi(i);return t}:Em;const Sm=qv;function $v(i,t){return Se(i,Sm(i),t)}const Kv=$v;function Yv(i,t,e){var n=t(i);return se(i)?n:Tm(n,e(i))}const Im=Yv;function Zv(i){return Im(i,sl,cl)}const ll=Zv;function Qv(i){return Im(i,Yi,Sm)}const Jv=Qv;var Xv=an(Te,"DataView");const dl=Xv;var t0=an(Te,"Promise");const ul=t0;var e0=an(Te,"Set");const hl=e0;var n0=an(Te,"WeakMap");const ml=n0;var Mm="[object Map]",i0="[object Object]",Bm="[object Promise]",zm="[object Set]",Nm="[object WeakMap]",Lm="[object DataView]",o0=wn(dl),r0=wn(si),s0=wn(ul),a0=wn(hl),c0=wn(ml),di=Ke;(dl&&di(new dl(new ArrayBuffer(1)))!=Lm||si&&di(new si)!=Mm||ul&&di(ul.resolve())!=Bm||hl&&di(new hl)!=zm||ml&&di(new ml)!=Nm)&&(di=function(i){var t=Ke(i),e=t==i0?i.constructor:void 0,n=e?wn(e):"";if(n)switch(n){case o0:return Lm;case r0:return Mm;case s0:return Bm;case a0:return zm;case c0:return Nm}return t});const Xo=di;var l0=Object.prototype,d0=l0.hasOwnProperty;function u0(i){var t=i.length,e=new i.constructor(t);return t&&typeof i[0]=="string"&&d0.call(i,"index")&&(e.index=i.index,e.input=i.input),e}const h0=u0;var m0=Te.Uint8Array;const Ns=m0;function g0(i){var t=new i.constructor(i.byteLength);return new Ns(t).set(new Ns(i)),t}const gl=g0;function f0(i,t){var e=t?gl(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}const p0=f0;var b0=/\w*$/;function k0(i){var t=new i.constructor(i.source,b0.exec(i));return t.lastIndex=i.lastIndex,t}const w0=k0;var Pm=Oe?Oe.prototype:void 0,Rm=Pm?Pm.valueOf:void 0;function A0(i){return Rm?Object(Rm.call(i)):{}}const C0=A0;function _0(i,t){var e=t?gl(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}const Om=_0;var v0="[object Boolean]",y0="[object Date]",x0="[object Map]",E0="[object Number]",D0="[object RegExp]",T0="[object Set]",S0="[object String]",I0="[object Symbol]",M0="[object ArrayBuffer]",B0="[object DataView]",z0="[object Float32Array]",N0="[object Float64Array]",L0="[object Int8Array]",P0="[object Int16Array]",R0="[object Int32Array]",O0="[object Uint8Array]",V0="[object Uint8ClampedArray]",F0="[object Uint16Array]",j0="[object Uint32Array]";function H0(i,t,e){var n=i.constructor;switch(t){case M0:return gl(i);case v0:case y0:return new n(+i);case B0:return p0(i,e);case z0:case N0:case L0:case P0:case R0:case O0:case V0:case F0:case j0:return Om(i,e);case x0:return new n;case E0:case S0:return new n(i);case D0:return w0(i);case T0:return new n;case I0:return C0(i)}}const U0=H0;var Vm=Object.create,W0=function(){function i(){}return function(t){if(!vt(t))return{};if(Vm)return Vm(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}();const G0=W0;function q0(i){return typeof i.constructor=="function"&&!rl(i)?G0(oi(i)):{}}const Fm=q0;var $0="[object Map]";function K0(i){return ve(i)&&Xo(i)==$0}const Y0=K0;var jm=Ki&&Ki.isMap,Z0=jm?Bs(jm):Y0;const Q0=Z0;var J0="[object Set]";function X0(i){return ve(i)&&Xo(i)==J0}const t1=X0;var Hm=Ki&&Ki.isSet,e1=Hm?Bs(Hm):t1;const n1=e1;var i1=1,o1=2,r1=4,Um="[object Arguments]",s1="[object Array]",a1="[object Boolean]",c1="[object Date]",l1="[object Error]",Wm="[object Function]",d1="[object GeneratorFunction]",u1="[object Map]",h1="[object Number]",Gm="[object Object]",m1="[object RegExp]",g1="[object Set]",f1="[object String]",p1="[object Symbol]",b1="[object WeakMap]",k1="[object ArrayBuffer]",w1="[object DataView]",A1="[object Float32Array]",C1="[object Float64Array]",_1="[object Int8Array]",v1="[object Int16Array]",y1="[object Int32Array]",x1="[object Uint8Array]",E1="[object Uint8ClampedArray]",D1="[object Uint16Array]",T1="[object Uint32Array]",It={};It[Um]=It[s1]=It[k1]=It[w1]=It[a1]=It[c1]=It[A1]=It[C1]=It[_1]=It[v1]=It[y1]=It[u1]=It[h1]=It[Gm]=It[m1]=It[g1]=It[f1]=It[p1]=It[x1]=It[E1]=It[D1]=It[T1]=!0,It[l1]=It[Wm]=It[b1]=!1;function Ls(i,t,e,n,o,r){var s,a=t&i1,c=t&o1,l=t&r1;if(e&&(s=o?e(i,n,o,r):e(i)),s!==void 0)return s;if(!vt(i))return i;var d=se(i);if(d){if(s=h0(i),!a)return al(i,s)}else{var u=Xo(i),m=u==Wm||u==d1;if(Qo(i))return xm(i,a);if(u==Gm||u==Um||m&&!o){if(s=c||m?{}:Fm(i),!a)return c?Kv(i,Bv(s,i)):Uv(i,vv(s,i))}else{if(!It[u])return o?i:{};s=U0(i,u,a)}}r||(r=new f);var b=r.get(i);if(b)return b;r.set(i,s),n1(i)?i.forEach(function(B){s.add(Ls(B,t,e,B,i,r))}):Q0(i)&&i.forEach(function(B,L){s.set(L,Ls(B,t,e,L,i,r))});var A=l?c?Jv:ll:c?Yi:sl,T=d?void 0:A(i);return M(T||i,function(B,L){T&&(L=B,B=i[L]),Ze(s,L,Ls(B,t,e,L,i,r))}),s}const fl=Ls;var S1=1,I1=4;function M1(i,t){return t=typeof t=="function"?t:void 0,fl(i,S1|I1,t)}const pl=M1;function B1(i){return ve(i)&&i.nodeType===1&&!ue(i)}const Zi=B1;class qm{constructor(t,e){this._config={},e&&this.define($m(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,o=!1){if(ue(e)){this._setObjectToTarget(t,e,o);return}const r=e.split(".");e=r.pop();for(const s of r)ue(t[s])||(t[s]={}),t=t[s];if(ue(n)){ue(t[e])||(t[e]={}),t=t[e],this._setObjectToTarget(t,n,o);return}o&&typeof t[e]!="undefined"||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const o of n){if(!ue(t[o])){t=null;break}t=t[o]}return t?$m(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(o=>{this._setToTarget(t,o,e[o],n)})}}function $m(i){return pl(i,z1)}function z1(i){return Zi(i)?i:void 0}function qn(i){if(i){if(i.defaultView)return i instanceof i.defaultView.Document;if(i.ownerDocument&&i.ownerDocument.defaultView)return i instanceof i.ownerDocument.defaultView.Node}return!1}function Ps(i){const t=Object.prototype.toString.apply(i);return t=="[object Window]"||t=="[object global]"}const Km=vn(kt());function vn(i){if(!i)return Km;class t extends i{listenTo(n,o,r,s={}){if(qn(n)||Ps(n)){const a={capture:!!s.useCapture,passive:!!s.usePassive},c=this._getProxyEmitter(n,a)||new N1(n,a);this.listenTo(c,o,r,s)}else super.listenTo(n,o,r,s)}stopListening(n,o,r){if(qn(n)||Ps(n)){const s=this._getAllProxyEmitters(n);for(const a of s)this.stopListening(a,o,r)}else super.stopListening(n,o,r)}_getProxyEmitter(n,o){return Ja(this,Ym(n,o))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(n,o)).filter(o=>!!o)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(i=>{vn[i]=Km.prototype[i]});class N1 extends kt(){constructor(t,e){super(),Hr(this,Ym(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;this._domListeners[t]&&(!(e=this._events[t])||!e.callbacks.length)&&this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),kt().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){kt().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=n=>{this.fire(t,n)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function L1(i){return i["data-ck-expando"]||(i["data-ck-expando"]=oe())}function Ym(i,t){let e=L1(i);for(const n of Object.keys(t).sort())t[n]&&(e+="-"+n);return e}let bl;try{bl={window,document}}catch(i){bl={window:{},document:{}}}const rt=bl;function Zm(i){const t=[];let e=i;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}function P1(i){return i instanceof HTMLTextAreaElement?i.value:i.innerHTML}function qt(i){return Object.prototype.toString.call(i)=="[object Text]"}function Rs(i){return Object.prototype.toString.apply(i)=="[object Range]"}function Qm(i){const t=i.ownerDocument.defaultView.getComputedStyle(i);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const Jm=["top","right","bottom","left","width","height"];class ft{constructor(t){const e=Rs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),tg(t)||e)if(e){const n=ft.getDomRangeRects(t);Os(this,ft.getBoundingRect(n))}else Os(this,t.getBoundingClientRect());else if(Ps(t)){const{innerWidth:n,innerHeight:o}=t;Os(this,{top:0,right:n,bottom:o,left:0,width:n,height:o})}else Os(this,t)}clone(){return new ft(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new ft(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Xm(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Xm(n);){const o=new ft(n),r=e.getIntersection(o);if(r)r.getArea()<e.getArea()&&(e=r);else return null;n=n.parentNode}}return e}isEqual(t){for(const e of Jm)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,o;if(Ps(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{const r=Qm(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,n=t.offsetHeight-t.clientHeight-r.top-r.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,o==="ltr"?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const o of n)e.push(new ft(o));else{let o=t.startContainer;qt(o)&&(o=o.parentNode);const r=new ft(o.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const o of t)n++,e.left=Math.min(e.left,o.left),e.top=Math.min(e.top,o.top),e.right=Math.max(e.right,o.right),e.bottom=Math.max(e.bottom,o.bottom);return n==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new ft(e))}}function Os(i,t){for(const e of Jm)i[e]=t[e]}function Xm(i){return tg(i)?i===i.ownerDocument.body:!1}function tg(i){return i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.getBoundingClientRect=="function"}class Bt{constructor(t,e){Bt._observerInstance||Bt._createObserver(),this._element=t,this._callback=e,Bt._addElementCallback(t,e),Bt._observerInstance.observe(t)}destroy(){Bt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Bt._elementCallbacks||(Bt._elementCallbacks=new Map);let n=Bt._elementCallbacks.get(t);n||(n=new Set,Bt._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Bt._getElementCallbacks(t);n&&(n.delete(e),n.size||(Bt._elementCallbacks.delete(t),Bt._observerInstance.unobserve(t))),Bt._elementCallbacks&&!Bt._elementCallbacks.size&&(Bt._observerInstance=null,Bt._elementCallbacks=null)}static _getElementCallbacks(t){return Bt._elementCallbacks?Bt._elementCallbacks.get(t):null}static _createObserver(){Bt._observerInstance=new rt.window.ResizeObserver(t=>{for(const e of t){const n=Bt._getElementCallbacks(e.target);if(n)for(const o of n)o(e)}})}}Bt._observerInstance=null,Bt._elementCallbacks=null;function eg(i,t){i instanceof HTMLTextAreaElement&&(i.value=t),i.innerHTML=t}function Qi(i){return t=>t+i}function Vs(i){let t=0;for(;i.previousSibling;)i=i.previousSibling,t++;return t}function ng(i,t,e){i.insertBefore(e,i.childNodes[t]||null)}function Ji(i){return i&&i.nodeType===Node.COMMENT_NODE}function $n(i){return!!(i&&i.getClientRects&&i.getClientRects().length)}function R1(i){return!i||!i.parentNode||i.offsetParent===rt.document.body?null:i.offsetParent}function ig({element:i,target:t,positions:e,limiter:n,fitInViewport:o,viewportOffsetConfig:r}){Ye(t)&&(t=t()),Ye(n)&&(n=n());const s=R1(i),a=new ft(i),c=new ft(t);let l;const d=o&&O1(r)||null,u={targetRect:c,elementRect:a,positionedElementAncestor:s,viewportRect:d};if(!n&&!o)l=new kl(e[0],u);else{const m=n&&new ft(n).getVisible();Object.assign(u,{limiterRect:m,viewportRect:d}),l=V1(e,u)||new kl(e[0],u)}return l}function O1(i){i=Object.assign({top:0,bottom:0,left:0,right:0},i);const t=new ft(rt.window);return t.top+=i.top,t.height-=i.top,t.bottom-=i.bottom,t.height-=i.bottom,t}function V1(i,t){const{elementRect:e}=t,n=e.getArea(),o=i.map(a=>new kl(a,t)).filter(a=>!!a.name);let r=0,s=null;for(const a of o){const{limiterIntersectionArea:c,viewportIntersectionArea:l}=a;if(c===n)return a;const d=dm(l,2)+dm(c,2);d>r&&(r=d,s=a)}return s}function F1(i,t){const e=og(new ft(t)),n=Qm(t);let o=0,r=0;o-=e.left,r-=e.top,o+=t.scrollLeft,r+=t.scrollTop,o-=n.left,r-=n.top,i.moveBy(o,r)}function og(i){const{scrollX:t,scrollY:e}=rt.window;return i.clone().moveBy(t,e)}class kl{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect);if(!n)return;const{left:o,top:r,name:s,config:a}=n;this.name=s,this.config=a,this._positioningFunctionCorrdinates={left:o,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const e=this._options.viewportRect;if(e){const n=t.getIntersection(e);if(n)return n.getIntersectionArea(this._rect)}else return t.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=og(this._rect),this._options.positionedElementAncestor&&F1(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}function rg(i){const t=i.parentNode;t&&t.removeChild(i)}function sg({target:i,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:n,forceScroll:o}){const r=wl(i);let s=r,a=null;for(;s;){let c;s==r?c=Al(i):c=Al(a),ag({parent:c,getRect:()=>hg(i,s),alignToTop:n,ancestorOffset:e,forceScroll:o});const l=hg(i,s);if(j1({window:s,rect:l,viewportOffset:t,alignToTop:n,forceScroll:o}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}function WR(i,t){const e=Al(i);ag({parent:e,getRect:()=>new Rect(i),ancestorOffset:t})}function j1({window:i,rect:t,alignToTop:e,forceScroll:n,viewportOffset:o}){const r=t.clone().moveBy(0,o),s=t.clone().moveBy(0,-o),a=new ft(i).excludeScrollbarsAndBorders(),c=[s,r],l=e&&n,d=c.every(T=>a.contains(T));let{scrollX:u,scrollY:m}=i;const b=u,A=m;l?m-=a.top-t.top+o:d||(lg(s,a)?m-=a.top-t.top+o:cg(r,a)&&(e?m+=t.top-a.top-o:m+=t.bottom-a.bottom+o)),d||(dg(t,a)?u-=a.left-t.left+o:ug(t,a)&&(u+=t.right-a.right+o)),(u!=b||m!==A)&&i.scrollTo(u,m)}function ag({parent:i,getRect:t,alignToTop:e,forceScroll:n,ancestorOffset:o=0}){const r=wl(i),s=e&&n;let a,c,l;for(;i!=r.document.body;)c=t(),a=new ft(i).excludeScrollbarsAndBorders(),l=a.contains(c),s?i.scrollTop-=a.top-c.top+o:l||(lg(c,a)?i.scrollTop-=a.top-c.top+o:cg(c,a)&&(e?i.scrollTop+=c.top-a.top-o:i.scrollTop+=c.bottom-a.bottom+o)),l||(dg(c,a)?i.scrollLeft-=a.left-c.left+o:ug(c,a)&&(i.scrollLeft+=c.right-a.right+o)),i=i.parentNode}function cg(i,t){return i.bottom>t.bottom}function lg(i,t){return i.top<t.top}function dg(i,t){return i.left<t.left}function ug(i,t){return i.right>t.right}function wl(i){return Rs(i)?i.startContainer.ownerDocument.defaultView:i.ownerDocument.defaultView}function Al(i){if(Rs(i)){let t=i.commonAncestorContainer;return qt(t)&&(t=t.parentNode),t}else return i.parentNode}function hg(i,t){const e=wl(i),n=new ft(i);if(e===t)return n;{let o=e;for(;o!=t;){const r=o.frameElement,s=new ft(r).excludeScrollbarsAndBorders();n.moveBy(s.left,s.top),o=o.parent}}return n}const H1={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},U1={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},lt=K1(),W1=Object.fromEntries(Object.entries(lt).map(([i,t])=>[t,i.charAt(0).toUpperCase()+i.slice(1)]));function ui(i){let t;if(typeof i=="string"){if(t=lt[i.toLowerCase()],!t)throw new v("keyboard-unknown-key",null,{key:i})}else t=i.keyCode+(i.altKey?lt.alt:0)+(i.ctrlKey?lt.ctrl:0)+(i.shiftKey?lt.shift:0)+(i.metaKey?lt.cmd:0);return t}function Fs(i){return typeof i=="string"&&(i=Y1(i)),i.map(t=>typeof t=="string"?q1(t):t).reduce((t,e)=>e+t,0)}function mg(i){let t=Fs(i);return Object.entries(p.isMac?H1:U1).reduce((o,[r,s])=>(t&lt[r]&&(t&=~lt[r],o+=s),o),"")+(t?W1[t]:"")}function G1(i){return i==lt.arrowright||i==lt.arrowleft||i==lt.arrowup||i==lt.arrowdown}function js(i,t){const e=t==="ltr";switch(i){case lt.arrowleft:return e?"left":"right";case lt.arrowright:return e?"right":"left";case lt.arrowup:return"up";case lt.arrowdown:return"down"}}function q1(i){if(i.endsWith("!"))return ui(i.slice(0,-1));const t=ui(i);return p.isMac&&t==lt.ctrl?lt.cmd:t}function $1(i,t){const e=js(i,t);return e==="down"||e==="right"}function K1(){const i={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);i[e.toLowerCase()]=t}for(let t=48;t<=57;t++)i[t-48]=t;for(let t=112;t<=123;t++)i["f"+(t-111)]=t;for(const t of"`-=[];',./\\")i[t]=t.charCodeAt(0);return i}function Y1(i){return i.split("+").map(t=>t.trim())}function Vt(i){return Array.isArray(i)?i:[i]}rt.window.CKEDITOR_TRANSLATIONS||(rt.window.CKEDITOR_TRANSLATIONS={});function GR(i,t,e){N.g.window.CKEDITOR_TRANSLATIONS[i]||(N.g.window.CKEDITOR_TRANSLATIONS[i]={});const n=N.g.window.CKEDITOR_TRANSLATIONS[i];n.dictionary=n.dictionary||{},n.getPluralForm=e||n.getPluralForm,Object.assign(n.dictionary,t)}function Z1(i,t,e=1){if(typeof e!="number")throw new v("translation-service-quantity-not-a-number",null,{quantity:e});const n=J1();n===1&&(i=Object.keys(rt.window.CKEDITOR_TRANSLATIONS)[0]);const o=t.id||t.string;if(n===0||!Q1(i,o))return e!==1?t.plural:t.string;const r=rt.window.CKEDITOR_TRANSLATIONS[i].dictionary,s=rt.window.CKEDITOR_TRANSLATIONS[i].getPluralForm||(l=>l===1?0:1),a=r[o];if(typeof a=="string")return a;const c=Number(s(e));return a[c]}function qR(){N.g.window.CKEDITOR_TRANSLATIONS={}}function Q1(i,t){return!!rt.window.CKEDITOR_TRANSLATIONS[i]&&!!rt.window.CKEDITOR_TRANSLATIONS[i].dictionary[t]}function J1(){return Object.keys(rt.window.CKEDITOR_TRANSLATIONS).length}const X1=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function gg(i){return X1.includes(i)?"rtl":"ltr"}class ty{constructor({uiLanguage:t="en",contentLanguage:e}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=gg(this.uiLanguage),this.contentLanguageDirection=gg(this.contentLanguage),this.t=(n,o)=>this._t(n,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Vt(e),typeof t=="string"&&(t={string:t});const o=!!t.plural?e[0]:1,r=Z1(this.uiLanguage,t,o);return ey(r,e)}}function ey(i,t){return i.replace(/%(\d+)/g,(e,n)=>n<t.length?t[n]:e)}class Ft extends kt(){constructor(t={},e={}){super();const n=Ae(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const o of t)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(e===void 0)e=this._items.length;else if(e>this._items.length||e<0)throw new v("collection-add-item-invalid-index",this);let n=0;for(const o of t){const r=this._getItemIdBeforeAdding(o),s=e+n;this._items.splice(s,0,o),this._itemMap.set(r,o),this.fire("add",o,s),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if(typeof t=="string")e=this._itemMap.get(t);else if(typeof t=="number")e=this._items[t];else throw new v("collection-get-invalid-arg",this);return e||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const e=this._idProperty,n=t[e];return n&&this._itemMap.has(n)}}getIndex(t){let e;return typeof t=="string"?e=this._itemMap.get(t):e=t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new v("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:e=>{this._setUpBindToBinding(n=>new e(n))},using:e=>{typeof e=="function"?this._setUpBindToBinding(e):this._setUpBindToBinding(n=>n[e])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(o,r,s)=>{const a=e._bindToCollection==this,c=e._bindToInternalToExternalMap.get(r);if(a&&c)this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r);else{const l=t(r);if(!l){this._skippedIndexesFromExternal.push(s);return}let d=s;for(const u of this._skippedIndexesFromExternal)s>u&&d--;for(const u of e._skippedIndexesFromExternal)d>=u&&d++;this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r),this.add(l,d);for(let u=0;u<e._skippedIndexesFromExternal.length;u++)d<=e._skippedIndexesFromExternal[u]&&e._skippedIndexesFromExternal[u]++}};for(const o of e)n(null,o,e.getIndex(o));this.listenTo(e,"add",n),this.listenTo(e,"remove",(o,r,s)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,l)=>(s<l&&c.push(l-1),s>l&&c.push(l),c),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],typeof n!="string")throw new v("collection-add-invalid-id",this);if(this.get(n))throw new v("collection-add-item-already-exists",this)}else t[e]=n=oe();return n}_remove(t){let e,n,o,r=!1;const s=this._idProperty;if(typeof t=="string"?(n=t,o=this._itemMap.get(n),r=!o,o&&(e=this._items.indexOf(o))):typeof t=="number"?(e=t,o=this._items[e],r=!o,o&&(n=o[s])):(o=t,n=o[s],e=this._items.indexOf(o),r=e==-1||!this._itemMap.get(n)),r)throw new v("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(a),this.fire("remove",o,e),[o,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Pt(i){const t=i.next();return t.done?null:t.value}class zt extends vn(ut()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new v("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class jt{constructor(){this._listener=new(vn())}listenTo(t){this._listener.listenTo(t,"keydown",(e,n)=>{this._listener.fire("_keydown:"+ui(n),n)})}set(t,e,n={}){const o=Fs(t),r=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(s,a)=>{e(a,()=>{a.preventDefault(),a.stopPropagation(),s.stop()}),s.return=!0},{priority:r})}press(t){return!!this._listener.fire("_keydown:"+ui(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function ny(i){const t=new Map;for(const e in i)t.set(e,i[e]);return t}function cn(i){return Ae(i)?new Map(i):ny(i)}const iy=1e4;function oy(i,t,e,n){if(Math.max(t.length,i.length)>iy)return i.slice(0,e).concat(t).concat(i.slice(e+n,i.length));{const o=Array.from(i);return o.splice(e,n,...t),o}}function ry(i){return!!i&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i)}function sy(i){return!!i&&i.length==1&&/[\ud800-\udbff]/.test(i)}function ay(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}function Cl(i,t){return sy(i.charAt(t-1))&&ay(i.charAt(t))}function _l(i,t){return ry(i.charAt(t))}const cy=ly();function fg(i,t){const e=String(i).matchAll(cy);return Array.from(e).some(n=>n.index<t&&t<n.index+n[0].length)}function ly(){const i=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+i.map(o=>o.source).join("|")+")",n=`${t}|${e}(?:\u200D${e})*`;return new RegExp(n,"ug")}class be extends Ft{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(e,n,o)=>{this._renderViewIntoCollectionParent(n,o)}),this.on("remove",(e,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!dy(t))throw new v("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const o of t)n.delegate(o).to(e);this.on("add",(n,o)=>{for(const r of t)o.delegate(r).to(e)}),this.on("remove",(n,o)=>{for(const r of t)o.stopDelegating(r,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}function dy(i){return i.every(t=>typeof t=="string")}var uy=I(3379),V=I.n(uy),pg=I(6150),vl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vl.insert="head",vl.singleton=!0;var $R=V()(pg.Z,vl);const KR=pg.Z.locals||{};class q extends vn(ut()){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Ft,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t,n.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ye.bind(this,this)}createCollection(t){const e=new be(t);return this._viewCollections.add(e),e}registerChild(t){Ae(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Ae(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new ye(t)}extendTemplate(t){ye.extend(this.template,t)}render(){if(this.isRendered)throw new v("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const hy="http://www.w3.org/1999/xhtml";class ye extends kt(){constructor(t){super(),Object.assign(this,Ag(wg(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData=Eg(),this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new v("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){function*t(e){if(e.children)for(const n of e.children)Us(n)?yield n:yl(n)&&(yield*Gt(t(n)))}yield*Gt(t(this))}static bind(t,e){return{to(n,o){return new my({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:o})},if(n,o,r){return new bg({observable:t,emitter:e,attribute:n,valueIfTrue:o,callback:r})}}}static extend(t,e){if(t._isRendered)throw new v("template-extend-render",[this,t]);yg(t,Ag(wg(e)))}_renderNode(t){let e;if(t.node?e=this.tag&&this.text:e=this.tag?this.text:!this.text,e)throw new v("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||hy,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Hs(this.text)?this._bindToObservable({schema:this.text,updater:fy(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const o in this.attributes){const r=e.getAttribute(o),s=this.attributes[o];n&&(n.attributes[o]=r);const a=xg(s)?s[0].ns:null;if(Hs(s)){const c=xg(s)?s[0].value:s;n&&Dg(o)&&c.unshift(r),this._bindToObservable({schema:c,updater:py(e,o,a),data:t})}else if(o=="style"&&typeof s[0]!="string")this._renderStyleAttribute(s[0],t);else{n&&r&&Dg(o)&&s.unshift(r);const c=s.map(l=>l&&(l.value||l)).reduce((l,d)=>l.concat(d),[]).reduce(_g,"");Xi(c)||e.setAttributeNS(a,o,c)}}}_renderStyleAttribute(t,e){const n=e.node;for(const o in t){const r=t[o];Hs(r)?this._bindToObservable({schema:[r],updater:by(n,o),data:e}):n.style[o]=r}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying;let r=0;for(const s of this.children)if(xl(s)){if(!o){s.setParent(e);for(const a of s)n.appendChild(a.element)}}else if(Us(s))o||(s.isRendered||s.render(),n.appendChild(s.element));else if(qn(s))n.appendChild(s);else if(o){const a=t.revertData,c=Eg();a.children.push(c),s._renderNode({intoFragment:!1,node:n.childNodes[r++],isApplying:!0,revertData:c})}else n.appendChild(s.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(o=>{const[r,s]=e.split("@");return o.activateDomEventListener(r,s,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const o=n.revertData;kg(t,e,n);const r=t.filter(s=>!Xi(s)).filter(s=>s.observable).map(s=>s.activateAttributeListener(t,e,n));o&&o.bindings.push(r)}_revertTemplateFromNode(t,e){for(const o of e.bindings)for(const r of o)r();if(e.text){t.textContent=e.text;return}const n=t;for(const o in e.attributes){const r=e.attributes[o];r===null?n.removeAttribute(o):n.setAttribute(o,r)}for(let o=0;o<e.children.length;++o)this._revertTemplateFromNode(n.childNodes[o],e.children[o])}}class tr{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const o=()=>kg(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,o),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,o)}}}class my extends tr{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const o=(r,s)=>{(!e||s.target.matches(e))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(s):this.observable.fire(this.eventNameOrFunction,s))};return this.emitter.listenTo(n.node,t,o),()=>{this.emitter.stopListening(n.node,t,o)}}}class bg extends tr{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){const e=super.getValue(t);return Xi(e)?!1:this.valueIfTrue||!0}}function Hs(i){return i?(i.value&&(i=i.value),Array.isArray(i)?i.some(Hs):i instanceof tr):!1}function gy(i,t){return i.map(e=>e instanceof tr?e.getValue(t):e)}function kg(i,t,{node:e}){const n=gy(i,e);let o;i.length==1&&i[0]instanceof bg?o=n[0]:o=n.reduce(_g,""),Xi(o)?t.remove():t.set(o)}function fy(i){return{set(t){i.textContent=t},remove(){i.textContent=""}}}function py(i,t,e){return{set(n){i.setAttributeNS(e,t,n)},remove(){i.removeAttributeNS(e,t)}}}function by(i,t){return{set(e){i.style[t]=e},remove(){i.style[t]=null}}}function wg(i){return pl(i,e=>{if(e&&(e instanceof tr||yl(e)||Us(e)||xl(e)))return e})}function Ag(i){if(typeof i=="string"?i=Ay(i):i.text&&Cy(i),i.on&&(i.eventListeners=wy(i.on),delete i.on),!i.text){i.attributes&&ky(i.attributes);const t=[];if(i.children)if(xl(i.children))t.push(i.children);else for(const e of i.children)yl(e)||Us(e)||qn(e)?t.push(e):t.push(new ye(e));i.children=t}return i}function ky(i){for(const t in i)i[t].value&&(i[t].value=Vt(i[t].value)),Cg(i,t)}function wy(i){for(const t in i)Cg(i,t);return i}function Ay(i){return{text:[i]}}function Cy(i){i.text=Vt(i.text)}function Cg(i,t){i[t]=Vt(i[t])}function _g(i,t){return Xi(t)?i:Xi(i)?t:`${i} ${t}`}function vg(i,t){for(const e in t)i[e]?i[e].push(...t[e]):i[e]=t[e]}function yg(i,t){if(t.attributes&&(i.attributes||(i.attributes={}),vg(i.attributes,t.attributes)),t.eventListeners&&(i.eventListeners||(i.eventListeners={}),vg(i.eventListeners,t.eventListeners)),t.text&&i.text.push(...t.text),t.children&&t.children.length){if(i.children.length!=t.children.length)throw new v("ui-template-extend-children-mismatch",i);let e=0;for(const n of t.children)yg(i.children[e++],n)}}function Xi(i){return!i&&i!==0}function Us(i){return i instanceof q}function yl(i){return i instanceof ye}function xl(i){return i instanceof be}function xg(i){return vt(i[0])&&i[0].ns}function Eg(){return{children:[],bindings:[],attributes:{}}}function Dg(i){return i=="class"||i=="style"}class _y extends be{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new ye({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=Fi(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}var Tg=I(1174),El={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};El.insert="head",El.singleton=!0;var YR=V()(Tg.Z,El);const ZR=Tg.Z.locals||{};class hi extends q{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=e.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:o,value:r}of Array.from(e.attributes))hi.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}hi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Sg=I(4499),Dl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dl.insert="head",Dl.singleton=!0;var QR=V()(Sg.Z,Dl);const JR=Sg.Z.locals||{};class Q extends q{constructor(t){super(t);const e=this.bindTemplate,n=oe();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new hi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",r=>!r),e.if("isVisible","ck-hidden",r=>!r),e.to("isOn",r=>r?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",r=>r||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,r=>!r),"aria-pressed":e.to("isOn",r=>this.isToggleable?String(!!r):!1),"data-cke-tooltip-text":e.to("_tooltipString"),"data-cke-tooltip-position":e.to("tooltipPosition")},children:this.children,on:{click:e.to(r=>{this.isEnabled?this.fire("execute"):r.preventDefault()})}};p.isSafari&&(o.on.mousedown=e.to(r=>{this.focus(),r.preventDefault()})),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(t){const e=new q,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:n.to("label")}]}),e}_createKeystrokeView(){const t=new q;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>mg(e))}]}),t}_getTooltipString(t,e,n){return t?typeof t=="string"?t:(n&&(n=mg(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Ig=I(9681),Tl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tl.insert="head",Tl.singleton=!0;var XR=V()(Ig.Z,Tl);const tO=Ig.Z.locals||{};class er extends Q{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new q;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function nr(i,t){const e=i.t,n={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(o=>{const r=n[o.label];return r&&r!=o.label&&(o.label=r),o})}function ir(i){return i.map(vy).filter(t=>!!t)}function vy(i){return typeof i=="string"?{model:i,label:i,hasBorder:!1,view:{name:"span",styles:{color:i}}}:{model:i.color,label:i.label||i.color,hasBorder:i.hasBorder===void 0?!1:i.hasBorder,view:{name:"span",styles:{color:`${i.color}`}}}}const yy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class Mg extends Q{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=yy,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Bg=I(4923),Sl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sl.insert="head",Sl.singleton=!0;var eO=V()(Bg.Z,Sl);const nO=Bg.Z.locals||{};class Il extends q{constructor(t,e){super(t);const n=e&&e.colorDefinitions?e.colorDefinitions:[];this.columns=e&&e.columns?e.columns:5;const o={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new zt,this.keystrokes=new jt,this.items.on("add",(r,s)=>{s.isOn=s.color===this.selectedColor}),n.forEach(r=>{const s=new Mg;s.set({color:r.color,label:r.label,tooltip:!0,hasBorder:r.options.hasBorder}),s.on("execute",()=>{this.fire("execute",{value:r.color,hasBorder:r.options.hasBorder,label:r.label})}),this.items.add(s)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:o}}),this.on("change:selectedColor",(r,s,a)=>{for(const c of this.items)c.isOn=c.color===a})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),y({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class xy{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(Ml(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new v("componentfactory-item-missing",this,{name:t});return this._components.get(Ml(t)).callback(this.editor.locale)}has(t){return this._components.has(Ml(t))}}function Ml(i){return String(i).toLowerCase()}var zg=I(3488),Bl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bl.insert="head",Bl.singleton=!0;var iO=V()(zg.Z,Bl);const oO=zg.Z.locals||{};class to extends q{constructor(t,e,n){super(t);const o=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new jt,this.focusTracker=new zt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",r=>!r)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,n,o)=>{o&&(this.panelPosition==="auto"?this.panelView.position=to._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(e,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(e,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(e,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:o,northEast:r,northWest:s,southMiddleEast:a,southMiddleWest:c,northMiddleEast:l,northMiddleWest:d}=to.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,o,a,c,t,r,s,l,d,e]:[o,n,c,a,t,s,r,d,l,e]}}to.defaultPanelPositions={south:(i,t)=>({top:i.bottom,left:i.left-(t.width-i.width)/2,name:"s"}),southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,t)=>({top:i.bottom,left:i.left-t.width+i.width,name:"sw"}),southMiddleEast:(i,t)=>({top:i.bottom,left:i.left-(t.width-i.width)/4,name:"sme"}),southMiddleWest:(i,t)=>({top:i.bottom,left:i.left-(t.width-i.width)*3/4,name:"smw"}),north:(i,t)=>({top:i.top-t.height,left:i.left-(t.width-i.width)/2,name:"n"}),northEast:(i,t)=>({top:i.top-t.height,left:i.left,name:"ne"}),northWest:(i,t)=>({top:i.top-t.height,left:i.left-t.width+i.width,name:"nw"}),northMiddleEast:(i,t)=>({top:i.top-t.height,left:i.left-(t.width-i.width)/4,name:"nme"}),northMiddleWest:(i,t)=>({top:i.top-t.height,left:i.left-(t.width-i.width)*3/4,name:"nmw"})},to._getOptimalPosition=ig;class Ey extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",n=>`ck-dropdown__panel_${n}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(n=>n.preventDefault())}})}focus(){if(this.children.length){const t=this.children.first;typeof t.focus=="function"?t.focus():_t("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}const zl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Ng extends Q{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",e=>String(e))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new hi;return t.content=zl,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}var Lg=I(66),Nl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nl.insert="head",Nl.singleton=!0;var rO=V()(Lg.Z,Nl);const sO=Lg.Z.locals||{};class eo extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new jt,this.focusTracker=new zt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new Q;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new Q,e=t.bindTemplate;return t.icon=zl,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",n=>String(n))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}class _e{constructor(t){if(this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];typeof n=="string"&&(n=[n]);for(const o of n)t.keystrokeHandler.set(o,(r,s)=>{this[e](),s()})}}get first(){return this.focusables.find(Ll)||null}get last(){return this.focusables.filter(Ll).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((e,n)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(t=n),o}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(e===null)return this[t===1?"first":"last"];let o=(e+n+t)%n;do{const r=this.focusables.get(o);if(Ll(r))return r;o=(o+n+t)%n}while(o!==e);return null}}function Ll(i){return!!(i.focus&&$n(i.element))}class Pl extends q{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Dy extends q{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ty(i){return i.bindTemplate.to(t=>{t.target===i.element&&t.preventDefault()})}function Pg(i){return Array.isArray(i)?{items:i,removeItems:[]}:i?Object.assign({items:[],removeItems:[]},i):{items:[],removeItems:[]}}class S extends ut(){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Rg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Rg),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Rg(i){i.return=!1,i.stop()}class Y extends ut(){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(e,n,o)=>{o&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",Og,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",Og),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Og(i){i.return=!1,i.stop()}class Vg extends Y{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){Do(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:e})=>e.isEnabled);return t&&t.command}}class Fg extends kt(){constructor(t,e=[],n=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const o of e)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,r]of n)this._contextPlugins.set(o,r),this._contextPlugins.set(r,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let n=t;throw typeof t=="function"&&(n=t.pluginName||t.name),new v("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const o=this,r=this._context;b(t),T(t);const s=t.filter($=>!u($,e)),a=[...A(s)];Nt(a,n);const c=dt(a);return ht(c,"init").then(()=>ht(c,"afterInit")).then(()=>c);function l($){return typeof $=="function"}function d($){return l($)&&!!$.isContextPlugin}function u($,nt){return nt.some(Z=>Z===$||m($)===Z||m(Z)===$)}function m($){return l($)?$.pluginName||$.name:$}function b($,nt=new Set){$.forEach(Z=>{l(Z)&&(nt.has(Z)||(nt.add(Z),Z.pluginName&&!o._availablePlugins.has(Z.pluginName)&&o._availablePlugins.set(Z.pluginName,Z),Z.requires&&b(Z.requires,nt)))})}function A($,nt=new Set){return $.map(Z=>l(Z)?Z:o._availablePlugins.get(Z)).reduce((Z,Wt)=>nt.has(Wt)?Z:(nt.add(Wt),Wt.requires&&(T(Wt.requires,Wt),A(Wt.requires,nt).forEach(Ni=>Z.add(Ni))),Z.add(Wt)),new Set)}function T($,nt=null){$.map(Z=>l(Z)?Z:o._availablePlugins.get(Z)||Z).forEach(Z=>{B(Z,nt),L(Z,nt),j(Z,nt)})}function B($,nt){if(!l($))throw nt?new v("plugincollection-soft-required",r,{missingPlugin:$,requiredBy:m(nt)}):new v("plugincollection-plugin-not-found",r,{plugin:$})}function L($,nt){if(d(nt)&&!d($))throw new v("plugincollection-context-required",r,{plugin:m($),requiredBy:m(nt)})}function j($,nt){if(nt&&u($,e))throw new v("plugincollection-required",r,{plugin:m($),requiredBy:m(nt)})}function dt($){return $.map(nt=>{let Z=o._contextPlugins.get(nt);return Z=Z||new nt(r),o._add(nt,Z),Z})}function ht($,nt){return $.reduce((Z,Wt)=>!Wt[nt]||o._contextPlugins.has(Wt)?Z:Z.then(Wt[nt].bind(Wt)),Promise.resolve())}function Nt($,nt){for(const Z of nt){if(typeof Z!="function")throw new v("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Z});const Wt=Z.pluginName;if(!Wt)throw new v("plugincollection-replace-plugin-missing-name",null,{pluginItem:Z});if(Z.requires&&Z.requires.length)throw new v("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Wt});const Ni=o._availablePlugins.get(Wt);if(!Ni)throw new v("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Wt});const w_=$.indexOf(Ni);if(w_===-1){if(o._contextPlugins.has(Ni))return;throw new v("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Wt})}if(Ni.requires&&Ni.requires.length)throw new v("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Wt});$.splice(w_,1,Z),o._availablePlugins.set(Wt,Z)}}}destroy(){const t=[];for(const[,e]of this)typeof e.destroy=="function"&&!this._contextPlugins.has(e)&&t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new v("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}class jg{constructor(t){this._contextOwner=null,this.config=new qm(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Fg(this,e);const n=this.config.get("language")||{};this.locale=new ty({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ft}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if(typeof n!="function")throw new v("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new v("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new v("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}class Ws extends ut(){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Hg=I(8894),Rl={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rl.insert="head",Rl.singleton=!0;var aO=V()(Hg.Z,Rl);const cO=Hg.Z.locals||{},no=new WeakMap;function Ol({view:i,element:t,text:e,isDirectHost:n=!0,keepOnFocus:o=!1}){const r=i.document;no.has(r)||(no.set(r,new Map),r.registerPostFixer(s=>Vl(r,s)),r.on("change:isComposing",()=>{i.change(s=>Vl(r,s))},{priority:"high"})),no.get(r).set(t,{text:e,isDirectHost:n,keepOnFocus:o,hostElement:n?t:null}),i.change(s=>Vl(r,s))}function lO(i,t){const e=t.document;no.has(e)&&i.change(n=>{const o=no.get(e),r=o.get(t);n.removeAttribute("data-placeholder",r.hostElement),Ug(n,r.hostElement),o.delete(t)})}function Sy(i,t){return t.hasClass("ck-placeholder")?!1:(i.addClass("ck-placeholder",t),!0)}function Ug(i,t){return t.hasClass("ck-placeholder")?(i.removeClass("ck-placeholder",t),!0):!1}function Iy(i,t){if(!i.isAttached()||Array.from(i.getChildren()).some(s=>!s.is("uiElement")))return!1;const n=i.document,r=n.selection.anchor;return n.isComposing&&r&&r.parent===i?!1:t||!n.isFocused?!0:!!r&&r.parent!==i}function Vl(i,t){const e=no.get(i),n=[];let o=!1;for(const[r,s]of e)s.isDirectHost&&(n.push(r),Wg(t,r,s)&&(o=!0));for(const[r,s]of e){if(s.isDirectHost)continue;const a=My(r);a&&(n.includes(a)||(s.hostElement=a,Wg(t,r,s)&&(o=!0)))}return o}function Wg(i,t,e){const{text:n,isDirectHost:o,hostElement:r}=e;let s=!1;return r.getAttribute("data-placeholder")!==n&&(i.setAttribute("data-placeholder",n,r),s=!0),(o||t.childCount==1)&&Iy(r,e.keepOnFocus)?Sy(i,r)&&(s=!0):Ug(i,r)&&(s=!0),s}function My(i){if(i.childCount){const t=i.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class mi{is(){throw new Error("is() method is abstract")}}var By=4;function zy(i){return fl(i,By)}const Gg=zy;class gi extends kt(mi){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new v("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let r=0;for(;n[r]==o[r]&&n[r];)r++;return r===0?null:n[r-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=re(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this==t||this.root!==t.root?!1:!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Gg(this);return delete t.parent,t}}gi.prototype.is=function(i){return i==="node"||i==="view:node"};class Et extends gi{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Et?this===t||this.data===t.data:!1}_clone(){return new Et(this.document,this.data)}}Et.prototype.is=function(i){return i==="$text"||i==="view:$text"||i==="text"||i==="view:text"||i==="node"||i==="view:node"};class ln extends mi{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new v("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new v("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;n!==null;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}ln.prototype.is=function(i){return i==="$textProxy"||i==="view:$textProxy"||i==="textProxy"||i==="view:textProxy"};class Fe{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const n of this._patterns){const o=qg(e,n);if(o)return{element:e,pattern:n,match:o}}return null}matchAll(...t){const e=[];for(const n of t)for(const o of this._patterns){const r=qg(n,o);r&&e.push({element:n,pattern:o,match:r})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}}function qg(i,t){if(typeof t=="function")return t(i);const e={};return t.name&&(e.name=Ny(t.name,i.name),!e.name)||t.attributes&&(e.attributes=Oy(t.attributes,i),!e.attributes)||t.classes&&(e.classes=Vy(t.classes,i),!e.classes)||t.styles&&(e.styles=Fy(t.styles,i),!e.styles)?null:e}function Ny(i,t){return i instanceof RegExp?!!t.match(i):i===t}function Fl(i,t,e){const n=Ly(i),o=Array.from(t),r=[];if(n.forEach(([s,a])=>{o.forEach(c=>{Py(s,c)&&Ry(a,c,e)&&r.push(c)})}),!(!n.length||r.length<n.length))return r}function Ly(i){return Array.isArray(i)?i.map(t=>ue(t)?((t.key===void 0||t.value===void 0)&&_t("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]):ue(i)?Object.entries(i):[[i,!0]]}function Py(i,t){return i===!0||i===t||i instanceof RegExp&&t.match(i)}function Ry(i,t,e){if(i===!0)return!0;const n=e(t);return i===n||i instanceof RegExp&&!!String(n).match(i)}function Oy(i,t){const e=new Set(t.getAttributeKeys());return ue(i)?(i.style!==void 0&&_t("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&_t("matcher-pattern-deprecated-attributes-class-key",i)):(e.delete("style"),e.delete("class")),Fl(i,e,n=>t.getAttribute(n))}function Vy(i,t){return Fl(i,t.getClassNames(),()=>{})}function Fy(i,t){return Fl(i,t.getStyleNames(!0),e=>t.getStyle(e))}var jy="[object Symbol]";function Hy(i){return typeof i=="symbol"||ve(i)&&Ke(i)==jy}const Gs=Hy;var Uy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wy=/^\w*$/;function Gy(i,t){if(se(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||Gs(i)?!0:Wy.test(i)||!Uy.test(i)||t!=null&&i in Object(t)}const qy=Gy;var $y="Expected a function";function jl(i,t){if(typeof i!="function"||t!=null&&typeof t!="function")throw new TypeError($y);var e=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=e.cache;if(r.has(o))return r.get(o);var s=i.apply(this,n);return e.cache=r.set(o,s)||r,s};return e.cache=new(jl.Cache||Gn),e}jl.Cache=Gn;const Ky=jl;var Yy=500;function Zy(i){var t=Ky(i,function(n){return e.size===Yy&&e.clear(),n}),e=t.cache;return t}const Qy=Zy;var Jy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xy=/\\(\\)?/g,tx=Qy(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(Jy,function(e,n,o,r){t.push(o?r.replace(Xy,"$1"):n||e)}),t});const ex=tx;function nx(i,t){for(var e=-1,n=i==null?0:i.length,o=Array(n);++e<n;)o[e]=t(i[e],e,i);return o}const $g=nx;var ix=1/0,Kg=Oe?Oe.prototype:void 0,Yg=Kg?Kg.toString:void 0;function Zg(i){if(typeof i=="string")return i;if(se(i))return $g(i,Zg)+"";if(Gs(i))return Yg?Yg.call(i):"";var t=i+"";return t=="0"&&1/i==-ix?"-0":t}const ox=Zg;function rx(i){return i==null?"":ox(i)}const Hl=rx;function sx(i,t){return se(i)?i:qy(i,t)?[i]:ex(Hl(i))}const Ul=sx;function ax(i){var t=i==null?0:i.length;return t?i[t-1]:void 0}const cx=ax;var lx=1/0;function dx(i){if(typeof i=="string"||Gs(i))return i;var t=i+"";return t=="0"&&1/i==-lx?"-0":t}const Wl=dx;function ux(i,t){t=Ul(t,i);for(var e=0,n=t.length;i!=null&&e<n;)i=i[Wl(t[e++])];return e&&e==n?i:void 0}const Qg=ux;function hx(i,t,e){var n=-1,o=i.length;t<0&&(t=-t>o?0:o+t),e=e>o?o:e,e<0&&(e+=o),o=t>e?0:e-t>>>0,t>>>=0;for(var r=Array(o);++n<o;)r[n]=i[n+t];return r}const Jg=hx;function mx(i,t){return t.length<2?i:Qg(i,Jg(t,0,-1))}const gx=mx;function fx(i,t){return t=Ul(t,i),i=gx(i,t),i==null||delete i[Wl(cx(t))]}const px=fx;function bx(i,t){return i==null?!0:px(i,t)}const kx=bx;function wx(i,t,e){var n=i==null?void 0:Qg(i,t);return n===void 0?e:n}const qs=wx;function Ax(i,t,e){(e!==void 0&&!Hn(i[t],e)||e===void 0&&!(t in i))&&at(i,t,e)}const Gl=Ax;function Cx(i){return function(t,e,n){for(var o=-1,r=Object(t),s=n(t),a=s.length;a--;){var c=s[i?a:++o];if(e(r[c],c,r)===!1)break}return t}}var _x=Cx();const vx=_x;function yx(i){return ve(i)&&zs(i)}const xx=yx;function Ex(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}const ql=Ex;function Dx(i){return Se(i,Yi(i))}const Tx=Dx;function Sx(i,t,e,n,o,r,s){var a=ql(i,e),c=ql(t,e),l=s.get(c);if(l){Gl(i,e,l);return}var d=r?r(a,c,e+"",i,t,s):void 0,u=d===void 0;if(u){var m=se(c),b=!m&&Qo(c),A=!m&&!b&&ol(c);d=c,m||b||A?se(a)?d=a:xx(a)?d=al(a):b?(u=!1,d=xm(c,!0)):A?(u=!1,d=Om(c,!0)):d=[]:ue(c)||el(c)?(d=a,el(a)?d=Tx(a):(!vt(a)||Ye(a))&&(d=Fm(c))):u=!1}u&&(s.set(c,d),o(d,c,n,r,s),s.delete(c)),Gl(i,e,d)}const Ix=Sx;function Xg(i,t,e,n,o){i!==t&&vx(t,function(r,s){if(o||(o=new f),vt(r))Ix(i,t,s,e,Xg,n,o);else{var a=n?n(ql(i,s),r,s+"",i,t,o):void 0;a===void 0&&(a=r),Gl(i,s,a)}},Yi)}const tf=Xg;function Mx(i){return i}const fi=Mx;function Bx(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}const zx=Bx;var ef=Math.max;function Nx(i,t,e){return t=ef(t===void 0?i.length-1:t,0),function(){for(var n=arguments,o=-1,r=ef(n.length-t,0),s=Array(r);++o<r;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=e(s),zx(i,this,a)}}const Lx=Nx;function Px(i){return function(){return i}}const Rx=Px;var Ox=tt?function(i,t){return tt(i,"toString",{configurable:!0,enumerable:!1,value:Rx(t),writable:!0})}:fi;const Vx=Ox;var Fx=800,jx=16,Hx=Date.now;function Ux(i){var t=0,e=0;return function(){var n=Hx(),o=jx-(n-e);if(e=n,o>0){if(++t>=Fx)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}var Wx=Ux(Vx);const Gx=Wx;function qx(i,t){return Gx(Lx(i,t,fi),i+"")}const nf=qx;function $x(i,t,e){if(!vt(e))return!1;var n=typeof t;return(n=="number"?zs(e)&&nl(t,e.length):n=="string"&&t in e)?Hn(e[t],i):!1}const Kx=$x;function Yx(i){return nf(function(t,e){var n=-1,o=e.length,r=o>1?e[o-1]:void 0,s=o>2?e[2]:void 0;for(r=i.length>3&&typeof r=="function"?(o--,r):void 0,s&&Kx(e[0],e[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var a=e[n];a&&i(t,a,n,r)}return t})}const $l=Yx;var Zx=$l(function(i,t,e){tf(i,t,e)});const of=Zx;function Qx(i,t,e,n){if(!vt(i))return i;t=Ul(t,i);for(var o=-1,r=t.length,s=r-1,a=i;a!=null&&++o<r;){var c=Wl(t[o]),l=e;if(c==="__proto__"||c==="constructor"||c==="prototype")return i;if(o!=s){var d=a[c];l=n?n(d,c,a):void 0,l===void 0&&(l=vt(d)?d:nl(t[o+1])?[]:{})}Ze(a,c,l),a=a[c]}return i}const Jx=Qx;function Xx(i,t,e){return i==null?i:Jx(i,t,e)}const t2=Xx;class e2{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(i2(t).entries());for(const[n,o]of e)this._styleProcessor.toNormalizedForm(n,o,this._styles)}has(t){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(t,this._styles).find(([o])=>o===t);return Array.isArray(n)}set(t,e){if(vt(t))for(const[n,o]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,o,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=Kl(t);kx(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!vt(this._styles[t]))return this._styles[t];const n=this._styleProcessor.getReducedForm(t,this._styles).find(([o])=>o===t);if(Array.isArray(n))return n[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const o=e.splice(0,e.length-1).join("."),r=qs(this._styles,o);if(!r)return;!Array.from(Object.keys(r)).length&&this.remove(o)}}class n2{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(vt(e)){Yl(n,Kl(t),e);return}if(this._normalizers.has(t)){const o=this._normalizers.get(t),{path:r,value:s}=o(e);Yl(n,r,s)}else Yl(n,t,e)}getNormalized(t,e){if(!t)return of({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if(typeof n=="string")return qs(e,n);const o=n(t,e);if(o)return o}return qs(e,Kl(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return n===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter(o=>{const r=this.getNormalized(o,t);return r&&typeof r=="object"?Object.keys(r).length:r}),n=new Set([...e,...Object.keys(t)]);return Array.from(n.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function i2(i){let t=null,e=0,n=0,o=null;const r=new Map;if(i==="")return r;i.charAt(i.length-1)!=";"&&(i=i+";");for(let s=0;s<i.length;s++){const a=i.charAt(s);if(t===null)switch(a){case":":o||(o=i.substr(e,s-e),n=s+1);break;case'"':case"'":t=a;break;case";":{const c=i.substr(n,s-n);o&&r.set(o.trim(),c.trim()),o=null,e=s+1;break}}else a===t&&(t=null)}return r}function Kl(i){return i.replace("-",".")}function Yl(i,t,e){let n=e;vt(e)&&(n=of({},qs(i,t),e)),t2(i,t,n)}class Ie extends gi{constructor(t,e,n,o){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=e,this._attrs=o2(n),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const r=this._attrs.get("class");rf(this._classes,r),this._attrs.delete("class")}this._styles=new e2(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*Gt(this._attrs.keys())}*getAttributes(){yield*Gt(this._attrs.entries()),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){const e=this._styles.toString();return e==""?void 0:e}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Ie))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new Fe(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*Gt(this._customProperties.entries())}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(e?` style="${e}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const o of this.getChildren())e.push(o._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=r2(this.document,e);for(const r of o)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(t,0,r),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const n=String(e);this._fireChange("attributes",this),t=="class"?rf(this._classes,n):t=="style"?this._styles.setTo(n):this._attrs.set(t,n)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:t=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of Vt(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of Vt(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),typeof t!="string"?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of Vt(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}Ie.prototype.is=function(i,t){return t?t===this.name&&(i==="element"||i==="view:element"):i==="element"||i==="view:element"||i==="node"||i==="view:node"};function o2(i){const t=cn(i);for(const[e,n]of t)n===null?t.delete(e):typeof n!="string"&&t.set(e,String(n));return t}function rf(i,t){const e=t.split(/\s+/);i.clear(),e.forEach(n=>i.add(n))}function r2(i,t){return typeof t=="string"?[new Et(i,t)]:(Ae(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Et(i,e):e instanceof ln?new Et(i,e.data):e))}class or extends Ie{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=sf}}or.prototype.is=function(i,t){return t?t===this.name&&(i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function sf(){const i=[...this.getChildren()],t=i[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of i)if(!e.is("uiElement"))return null;return this.childCount}class $s extends ut(or){constructor(t,e,n,o){super(t,e,n,o),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",r=>r&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}$s.prototype.is=function(i,t){return t?t===this.name&&(i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};const af=Symbol("rootName");class cf extends $s{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(af)}set rootName(t){this._setCustomProperty(af,t)}set _name(t){this.name=t}}cf.prototype.is=function(i,t){return t?t===this.name&&(i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"):i==="rootElement"||i==="view:rootElement"||i==="editableElement"||i==="view:editableElement"||i==="containerElement"||i==="view:containerElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};class pi{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new v("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new v("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=O._createAt(t.startPosition):this._position=O._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n;do n=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(n instanceof Et){if(t.isAtEnd)return this._position=O._createAfter(n),this._next();o=n.data[t.offset]}else o=n.getChild(t.offset);if(o instanceof Ie)return this.shallow?t.offset++:t=new O(o,0),this._position=t,this._formatReturnValue("elementStart",o,e,t,1);if(o instanceof Et){if(this.singleCharacters)return t=new O(o,0),this._position=t,this._next();{let r=o.data.length,s;return o==this._boundaryEndParent?(r=this.boundaries.end.offset,s=new ln(o,0,r),t=O._createAfter(s)):(s=new ln(o,0,o.data.length),t.offset++),this._position=t,this._formatReturnValue("text",s,e,t,r)}}else if(typeof o=="string"){let r;this.singleCharacters?r=1:r=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const s=new ln(n,t.offset,r);return t.offset+=r,this._position=t,this._formatReturnValue("text",s,e,t,r)}else return t=O._createAfter(n),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(n instanceof Et){if(t.isAtStart)return this._position=O._createBefore(n),this._previous();o=n.data[t.offset-1]}else o=n.getChild(t.offset-1);if(o instanceof Ie)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",o,e,t,1)):(t=new O(o,o.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,e,t));if(o instanceof Et){if(this.singleCharacters)return t=new O(o,o.data.length),this._position=t,this._previous();{let r=o.data.length,s;if(o==this._boundaryStartParent){const a=this.boundaries.start.offset;s=new ln(o,a,o.data.length-a),r=s.data.length,t=O._createBefore(s)}else s=new ln(o,0,o.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",s,e,t,r)}}else if(typeof o=="string"){let r;if(this.singleCharacters)r=1;else{const a=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=t.offset-a}t.offset-=r;const s=new ln(n,t.offset,r);return this._position=t,this._formatReturnValue("text",s,e,t,r)}else return t=O._createBefore(n),this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,o,r){return e instanceof ln&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(o=O._createAfter(e.textNode),this._position=o):n=O._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(o=O._createBefore(e.textNode),this._position=o):n=O._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:r}}}}class O extends mi{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof $s);)if(t.parent)t=t.parent;else return null;return t}getShiftedBy(t){const e=O._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new pi(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return o===0?null:e[o-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const o=re(e,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<n[o]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new pi(t)}clone(){return new O(this.parent,this.offset)}static _createAt(t,e){if(t instanceof O)return new this(t.parent,t.offset);{const n=t;if(e=="end")e=n.is("$text")?n.data.length:n.childCount;else{if(e=="before")return this._createBefore(n);if(e=="after")return this._createAfter(n);if(e!==0&&!e)throw new v("view-createpositionat-offset-required",n)}return new O(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new O(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new v("view-position-after-root",t,{root:t});return new O(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new O(t.textNode,t.offsetInText);if(!t.parent)throw new v("view-position-before-root",t,{root:t});return new O(t.parent,t.index)}}O.prototype.is=function(i){return i==="position"||i==="view:position"};class et extends mi{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*Gt(new pi({boundaries:this,ignoreElementEnd:!0}))}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Ks,{direction:"backward"}),e=this.end.getLastMatchingPosition(Ks);return t.parent.is("$text")&&t.isAtStart&&(t=O._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=O._createAfter(e.parent)),new et(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Ks);if(t.isAfter(this.end)||t.isEqual(this.end))return new et(t,t);let e=this.end.getLastMatchingPosition(Ks,{direction:"backward"});const n=t.nodeAfter,o=e.nodeBefore;return n&&n.is("$text")&&(t=new O(n,0)),o&&o.is("$text")&&(e=new O(o,o.data.length)),new et(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new et(this.start,t.start)),this.containsPosition(t.end)&&e.push(new et(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new et(e,n)}return null}getWalker(t={}){return t.boundaries=this,new pi(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new et(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new pi(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new pi(t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,o){return new this(new O(t,e),new O(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(O._createBefore(t),e)}}et.prototype.is=function(i){return i==="range"||i==="view:range"};function Ks(i){return!!(i.item.is("attributeElement")||i.item.is("uiElement"))}class dn extends kt(mi){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)(!t||e.start.isBefore(t.start))&&(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)(!t||e.end.isAfter(t.end))&&(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=On(this.getRanges()),n=On(t.getRanges());if(e!=n)return!1;if(e==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let r=!1;for(let s of t.getRanges())if(s=s.getTrimmed(),o.start.isEqual(s.start)&&o.end.isEqual(s.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,o]=t;if(typeof n=="object"&&(o=n,n=void 0),e===null)this._setRanges([]),this._setFakeOptions(o);else if(e instanceof dn||e instanceof Zl)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof et)this._setRanges([e],o&&o.backward),this._setFakeOptions(o);else if(e instanceof O)this._setRanges([new et(e)]),this._setFakeOptions(o);else if(e instanceof gi){const r=!!o&&!!o.backward;let s;if(n===void 0)throw new v("view-selection-setto-required-second-parameter",this);n=="in"?s=et._createIn(e):n=="on"?s=et._createOn(e):s=new et(O._createAt(e,n)),this._setRanges([s],r),this._setFakeOptions(o)}else if(Ae(e))this._setRanges(e,o&&o.backward),this._setFakeOptions(o);else throw new v("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(t,e){if(this.anchor===null)throw new v("view-selection-setfocus-no-ranges",this);const n=O._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),n.compareWith(o)=="before"?this._addRange(new et(n,o),!0):this._addRange(new et(o,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof et))throw new v("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new v("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new et(t.start,t.end))}}dn.prototype.is=function(i){return i==="selection"||i==="view:selection"};class Zl extends kt(mi){constructor(...t){super(),this._selection=new dn,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*Gt(this._selection.getRanges())}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}Zl.prototype.is=function(i){return i==="selection"||i=="documentSelection"||i=="view:selection"||i=="view:documentSelection"};class io extends Xt{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ql=Symbol("bubbling contexts");function Jl(i){class t extends i{fire(n,...o){try{const r=n instanceof Xt?n:new Xt(this,n),s=Xl(this);if(!s.size)return;if(rr(r,"capturing",this),oo(s,"$capture",r,...o))return r.return;const a=r.startRange||this.selection.getFirstRange(),c=a?a.getContainedElement():null,l=c?!!lf(s,c):!1;let d=c||s2(a);if(rr(r,"atTarget",d),!l){if(oo(s,"$text",r,...o))return r.return;rr(r,"bubbling",d)}for(;d;){if(d.is("rootElement")){if(oo(s,"$root",r,...o))return r.return}else if(d.is("element")&&oo(s,d.name,r,...o))return r.return;if(oo(s,d,r,...o))return r.return;d=d.parent,rr(r,"bubbling",d)}return rr(r,"bubbling",this),oo(s,"$document",r,...o),r.return}catch(r){v.rethrowUnexpectedError(r,this)}}_addEventListener(n,o,r){const s=Vt(r.context||"$document"),a=Xl(this);for(const c of s){let l=a.get(c);l||(l=new(kt()),a.set(c,l)),this.listenTo(l,n,o,r)}}_removeEventListener(n,o){const r=Xl(this);for(const s of r.values())this.stopListening(s,n,o)}}return t}{const i=Jl(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{Jl[t]=i.prototype[t]})}function rr(i,t,e){i instanceof io&&(i._eventPhase=t,i._currentTarget=e)}function oo(i,t,e,...n){const o=typeof t=="string"?i.get(t):lf(i,t);return o?(o.fire(e,...n),e.stop.called):!1}function lf(i,t){for(const[e,n]of i)if(typeof e=="function"&&e(t))return n;return null}function Xl(i){return i[Ql]||(i[Ql]=new Map),i[Ql]}function s2(i){if(!i)return null;const t=i.start.parent,e=i.end.parent,n=t.getPath(),o=e.getPath();return n.length>o.length?t:e}class Ys extends Jl(ut()){constructor(t){super(),this._postFixers=new Set,this.selection=new Zl,this.roots=new Ft({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(e=n(t),e)break;while(e)}}const df=10;class bi extends Ie{constructor(t,e,n,o){super(t,e,n,o),this._priority=df,this._id=null,this._clonesGroup=null,this.getFillerOffset=a2}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new v("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}bi.DEFAULT_PRIORITY=df,bi.prototype.is=function(i,t){return t?t===this.name&&(i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"):i==="attributeElement"||i==="view:attributeElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function a2(){if(td(this))return null;let i=this.parent;for(;i&&i.is("attributeElement");){if(td(i)>1)return null;i=i.parent}return!i||td(i)>1?null:this.childCount}function td(i){return Array.from(i.getChildren()).filter(t=>!t.is("uiElement")).length}class ed extends Ie{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=c2}_insertChild(t,e){if(e&&(e instanceof gi||Array.from(e).length>0))throw new v("view-emptyelement-cannot-add",[this,e]);return 0}}ed.prototype.is=function(i,t){return t?t===this.name&&(i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"):i==="emptyElement"||i==="view:emptyElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function c2(){return null}class Zs extends Ie{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=d2}_insertChild(t,e){if(e&&(e instanceof gi||Array.from(e).length>0))throw new v("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}Zs.prototype.is=function(i,t){return t?t===this.name&&(i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"):i==="uiElement"||i==="view:uiElement"||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function l2(i){i.document.on("arrowKey",(t,e)=>u2(t,e,i.domConverter),{priority:"low"})}function d2(){return null}function u2(i,t,e){if(t.keyCode==lt.arrowright){const n=t.domTarget.ownerDocument.defaultView.getSelection(),o=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(o||t.shiftKey){const r=n.focusNode,s=n.focusOffset,a=e.domPositionToView(r,s);if(a===null)return;let c=!1;const l=a.getLastMatchingPosition(d=>(d.item.is("uiElement")&&(c=!0),!!(d.item.is("uiElement")||d.item.is("attributeElement"))));if(c){const d=e.viewPositionToDom(l);o?n.collapse(d.parent,d.offset):n.extend(d.parent,d.offset)}}}}class nd extends Ie{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=h2}_insertChild(t,e){if(e&&(e instanceof gi||Array.from(e).length>0))throw new v("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}nd.prototype.is=function(i,t){return t?t===this.name&&(i==="rawElement"||i==="view:rawElement"||i==="element"||i==="view:element"):i==="rawElement"||i==="view:rawElement"||i===this.name||i==="view:"+this.name||i==="element"||i==="view:element"||i==="node"||i==="view:node"};function h2(){return null}class ki extends kt(mi){constructor(t,e){super(),this._children=[],this._customProperties=new Map,this.document=t,e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*Gt(this._customProperties.entries())}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=m2(this.document,e);for(const r of o)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(t,0,r),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}ki.prototype.is=function(i){return i==="documentFragment"||i==="view:documentFragment"};function m2(i,t){return typeof t=="string"?[new Et(i,t)]:(Ae(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new Et(i,e):e instanceof ln?new Et(i,e.data):e))}class uf{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new ki(this.document,t)}createText(t){return new Et(this.document,t)}createAttributeElement(t,e,n={}){const o=new bi(this.document,t,e);return typeof n.priority=="number"&&(o._priority=n.priority),n.id&&(o._id=n.id),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createContainerElement(t,e,n={},o={}){let r=null;ue(n)?o=n:r=n;const s=new or(this.document,t,e,r);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createEditableElement(t,e,n={}){const o=new $s(this.document,t,e);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createEmptyElement(t,e,n={}){const o=new ed(this.document,t,e);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createUIElement(t,e,n){const o=new Zs(this.document,t,e);return n&&(o.render=n),o}createRawElement(t,e,n,o={}){const r=new nd(this.document,t,e);return n&&(r.render=n),o.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),r}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){ue(t)&&n===void 0?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof O?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new v("view-writer-break-non-container-element",this.document);if(!e.parent)throw new v("view-writer-break-root",this.document);if(t.isAtStart)return O._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(O._createAfter(e),n);const o=new et(t,O._createAt(e,"end")),r=new O(n,0);this.move(o,r)}return O._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&n.childCount===0){const s=n.parent,a=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new O(s,a))}const o=n.getChild(e-1),r=n.getChild(e);if(!o||!r)return t;if(o.is("$text")&&r.is("$text"))return mf(o,r);if(o.is("attributeElement")&&r.is("attributeElement")&&o.isSimilar(r)){const s=o.childCount;return o._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new O(o,s))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!e||!n||!e.is("containerElement")||!n.is("containerElement"))throw new v("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),r=o instanceof Et?O._createAt(o,"end"):O._createAt(e,"end");return this.move(et._createIn(n),O._createAt(e,"end")),this.remove(et._createOn(n)),r}insert(t,e){e=Ae(e)?[...e]:[e],gf(e,this.document);const n=e.reduce((s,a)=>{const c=s[s.length-1],l=!a.is("uiElement");return!c||c.breakAttributes!=l?s.push({breakAttributes:l,nodes:[a]}):c.nodes.push(a),s},[]);let o=null,r=t;for(const{nodes:s,breakAttributes:a}of n){const c=this._insertNodes(r,s,a);o||(o=c.start),r=c.end}return o?new et(o,r):new et(t)}remove(t){const e=t instanceof et?t:et._createOn(t);if(sr(e,this.document),e.isCollapsed)return new ki(this.document);const{start:n,end:o}=this._breakAttributesRange(e,!0),r=n.parent,s=o.offset-n.offset,a=r._removeChildren(n.offset,s);for(const l of a)this._removeFromClonedElementsGroup(l);const c=this.mergeAttributes(n);return e.start=c,e.end=c.clone(),new ki(this.document,a)}clear(t,e){sr(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const r=o.item;let s;if(r.is("element")&&e.isSimilar(r))s=et._createOn(r);else if(!o.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const a=r.getAncestors().find(c=>c.is("element")&&e.isSimilar(c));a&&(s=et._createIn(a))}s&&(s.end.isAfter(t.end)&&(s.end=t.end),s.start.isBefore(t.start)&&(s.start=t.start),this.remove(s))}}move(t,e){let n;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const o=e.parent,r=o.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=o.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof bi))throw new v("view-writer-wrap-invalid-attribute",this.document);if(sr(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!g2(n.parent)&&(n=n.getLastMatchingPosition(r=>r.item.is("uiElement"))),n=this._wrapPosition(n,e);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new et(n)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof bi))throw new v("view-writer-unwrap-invalid-attribute",this.document);if(sr(t,this.document),t.isCollapsed)return t;const{start:n,end:o}=this._breakAttributesRange(t,!0),r=n.parent,s=this._unwrapChildren(r,n.offset,o.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new et(a,c)}rename(t,e){const n=new or(this.document,t,e.getAttributes());return this.insert(O._createAfter(e),n),this.move(et._createIn(e),O._createAt(n,0)),this.remove(et._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return O._createAt(t,e)}createPositionAfter(t){return O._createAfter(t)}createPositionBefore(t){return O._createBefore(t)}createRange(t,e){return new et(t,e)}createRangeOn(t){return et._createOn(t)}createRangeIn(t){return et._createIn(t)}createSelection(...t){return new dn(...t)}createSlot(t="children"){if(!this._slotFactory)throw new v("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let o;if(n?o=id(t):o=t.parent.is("$text")?t.parent.parent:t.parent,!o)throw new v("view-writer-invalid-position-container",this.document);let r;n?r=this._breakAttributes(t,!0):r=t.parent.is("$text")?od(t):t;const s=o._insertChild(r.offset,e);for(const d of e)this._addToClonedElementsGroup(d);const a=r.getShiftedBy(s),c=this.mergeAttributes(r);c.isEqual(r)||a.offset--;const l=this.mergeAttributes(a);return new et(c,l)}_wrapChildren(t,e,n,o){let r=e;const s=[];for(;r<n;){const c=t.getChild(r),l=c.is("$text"),d=c.is("attributeElement");if(d&&this._wrapAttributeElement(o,c))s.push(new O(t,r));else if(l||!d||f2(o,c)){const u=o._clone();c._remove(),u._appendChild(c),t._insertChild(r,u),this._addToClonedElementsGroup(u),s.push(new O(t,r))}else this._wrapChildren(c,0,c.childCount,o);r++}let a=0;for(const c of s){if(c.offset-=a,c.offset==e)continue;this.mergeAttributes(c).isEqual(c)||(a++,n--)}return et._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let r=e;const s=[];for(;r<n;){const c=t.getChild(r);if(!c.is("attributeElement")){r++;continue}if(c.isSimilar(o)){const l=c.getChildren(),d=c.childCount;c._remove(),t._insertChild(r,l),this._removeFromClonedElementsGroup(c),s.push(new O(t,r),new O(t,r+d)),r+=d,n+=d-1;continue}if(this._unwrapAttributeElement(o,c)){s.push(new O(t,r),new O(t,r+1)),r++;continue}this._unwrapChildren(c,0,c.childCount,o),r++}let a=0;for(const c of s){if(c.offset-=a,c.offset==e||c.offset==n)continue;this.mergeAttributes(c).isEqual(c)||(a++,n--)}return et._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:o}=this._breakAttributesRange(t,!0),r=n.parent,s=this._wrapChildren(r,n.offset,o.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new et(a,c)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return hf(t.clone());t.parent.is("$text")&&(t=od(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const o=new et(t,t.getShiftedBy(1));this.wrap(o,e);const r=new O(n.parent,n.index);n._remove();const s=r.nodeBefore,a=r.nodeAfter;return s instanceof Et&&a instanceof Et?mf(s,a):hf(r)}_wrapAttributeElement(t,e){if(!ff(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(!(n==="class"||n==="style")&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n==="class"||n==="style"||e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e);for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!ff(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if(!(n==="class"||n==="style")&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,o=t.end;if(sr(t,this.document),t.isCollapsed){const c=this._breakAttributes(t.start,e);return new et(c,c)}const r=this._breakAttributes(o,e),s=r.parent.childCount,a=this._breakAttributes(n,e);return r.offset+=r.parent.childCount-s,new et(a,r)}_breakAttributes(t,e=!1){const n=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new v("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new v("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new v("view-writer-cannot-break-raw-element",this.document);if(!e&&o.is("$text")&&rd(o.parent)||rd(o))return t.clone();if(o.is("$text"))return this._breakAttributes(od(t),e);const r=o.childCount;if(n==r){const s=new O(o.parent,o.index+1);return this._breakAttributes(s,e)}else if(n===0){const s=new O(o.parent,o.index);return this._breakAttributes(s,e)}else{const s=o.index+1,a=o._clone();o.parent._insertChild(s,a),this._addToClonedElementsGroup(a);const c=o.childCount-n,l=o._removeChildren(n,c);a._appendChild(l);const d=new O(o.parent,s);return this._breakAttributes(d,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const o of t.getChildren())this._addToClonedElementsGroup(o);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const o of t.getChildren())this._removeFromClonedElementsGroup(o);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function g2(i){return Array.from(i.getChildren()).some(t=>!t.is("uiElement"))}function id(i){let t=i.parent;for(;!rd(t);){if(!t)return;t=t.parent}return t}function f2(i,t){return i.priority<t.priority?!0:i.priority>t.priority?!1:i.getIdentity()<t.getIdentity()}function hf(i){const t=i.nodeBefore;if(t&&t.is("$text"))return new O(t,t.data.length);const e=i.nodeAfter;return e&&e.is("$text")?new O(e,0):i}function od(i){if(i.offset==i.parent.data.length)return new O(i.parent.parent,i.parent.index+1);if(i.offset===0)return new O(i.parent.parent,i.parent.index);const t=i.parent.data.slice(i.offset);return i.parent._data=i.parent.data.slice(0,i.offset),i.parent.parent._insertChild(i.parent.index+1,new Et(i.root.document,t)),new O(i.parent.parent,i.parent.index+1)}function mf(i,t){const e=i.data.length;return i._data+=t.data,t._remove(),new O(i,e)}const p2=[Et,bi,or,ed,nd,Zs];function gf(i,t){for(const e of i){if(!p2.some(n=>e instanceof n))throw new v("view-writer-insert-invalid-node-type",t);e.is("$text")||gf(e.getChildren(),t)}}function rd(i){return i&&(i.is("containerElement")||i.is("documentFragment"))}function sr(i,t){const e=id(i.start),n=id(i.end);if(!e||!n||e!==n)throw new v("view-writer-invalid-range-container",t)}function ff(i,t){return i.id===null&&t.id===null}const pf=i=>i.createTextNode("\xA0"),bf=i=>{const t=i.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xA0",t},kf=i=>{const t=i.createElement("br");return t.dataset.ckeFiller="true",t},un=7,Qs="\u2060".repeat(un);function Me(i){return qt(i)&&i.data.substr(0,un)===Qs}function ar(i){return i.data.length==un&&Me(i)}function wf(i){return Me(i)?i.data.slice(un):i.data}function b2(i){i.document.on("arrowKey",k2,{priority:"low"})}function k2(i,t){if(t.keyCode==lt.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const n=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;Me(n)&&o<=un&&e.collapse(n,0)}}}var Af=I(4401),sd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sd.insert="head",sd.singleton=!0;var hO=V()(Af.Z,sd);const mO=Af.Z.locals||{};class w2 extends ut(){constructor(t,e){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),p.isBlink&&!p.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(t,e){if(t==="text")this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if(t==="attributes")this.markedAttributes.add(e);else if(t==="children")this.markedChildren.add(e);else{const n=t;throw new v("view-renderer-unknown-type",this)}}}render(){if(this.isComposing&&!p.isAndroid)return;let t=null;const e=p.isBlink&&!p.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=O._createBefore(t.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const n=this.domConverter.viewPositionToDom(t),o=n.parent.ownerDocument;Me(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Cf(o,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){if(!this.domConverter.mapViewToDom(t))return;const n=Array.from(this.domConverter.mapViewToDom(t).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),r=this._diffNodeLists(n,o),s=this._findUpdateActions(r,n,o,C2);if(s.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const c of s)if(c==="update"){const l=a.equal+a.insert,d=a.equal+a.delete,u=t.getChild(l);u&&!(u.is("uiElement")||u.is("rawElement"))&&this._updateElementMappings(u,n[d]),rg(o[l]),a.equal++}else a[c]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?O._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&qt(e.parent)&&Me(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Me(t))throw new v("view-renderer-filler-was-lost",this);ar(t)?t.remove():t.data=t.data.substr(un),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!A2(e)||n===e.getFillerOffset())return!1;const o=t.nodeBefore,r=t.nodeAfter;return!(o instanceof Et||r instanceof Et||p.isAndroid&&(o||r))}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let r=this.domConverter.viewToDom(t).data;const s=e.inlineFillerPosition;s&&s.parent==t.parent&&s.offset==t.index&&(r=Qs+r),_f(n,r)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(r=>r.name),o=t.getAttributeKeys();for(const r of o)this.domConverter.setDomElementAttribute(e,r,t.getAttribute(r),t);for(const r of n)t.hasAttribute(r)||this.domConverter.removeDomElementAttribute(e,r)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(p.isAndroid){let u=null;for(const m of Array.from(n.childNodes)){if(u&&qt(u)&&qt(m)){n.normalize();break}u=m}}const o=e.inlineFillerPosition,r=n.childNodes,s=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));o&&o.parent===t&&Cf(n.ownerDocument,s,o.offset);const a=this._diffNodeLists(r,s),c=this._findUpdateActions(a,r,s,_2);let l=0;const d=new Set;for(const u of c)u==="delete"?(d.add(r[l]),rg(r[l])):(u==="equal"||u==="update")&&l++;l=0;for(const u of c)u==="insert"?(ng(n,l,s[l]),l++):u==="update"?(_f(r[l],s[l].data),l++):u==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[l])),l++);for(const u of d)u.parentNode||this.domConverter.unbindDomElement(u)}_diffNodeLists(t,e){return t=x2(t,this._fakeSelectionContainer),Yt(t,e,v2.bind(null,this.domConverter))}_findUpdateActions(t,e,n,o){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let r=[],s=[],a=[];const c={equal:0,insert:0,delete:0};for(const l of t)l==="insert"?a.push(n[c.equal+c.insert]):l==="delete"?s.push(e[c.equal+c.delete]):(r=r.concat(Yt(s,a,o).map(d=>d==="equal"?"update":d)),r.push("equal"),s=[],a=[]),c[l]++;return r.concat(Yt(s,a,o).map(l=>l==="equal"?"update":l))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}}_updateSelection(){if(p.isBlink&&!p.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const t=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!t||(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&p.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=E2(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;(!n.parentElement||n.parentElement!=t)&&t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xA0";const o=e.getSelection(),r=e.createRange();o.removeAllRanges(),r.selectNodeContents(n),o.addRange(r)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(o.parent,o.offset),p.isGecko&&y2(o,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)?!0:e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,o=this.domConverter.mapDomToView(n);n&&o&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function A2(i){if(i.getAttribute("contenteditable")=="false")return!1;const t=i.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function Cf(i,t,e){const n=t instanceof Array?t:t.childNodes,o=n[e];if(qt(o))return o.data=Qs+o.data,o;{const r=i.createTextNode(Qs);return Array.isArray(t)?n.splice(e,0,r):ng(t,e,r),r}}function C2(i,t){return qn(i)&&qn(t)&&!qt(i)&&!qt(t)&&!Ji(i)&&!Ji(t)&&i.tagName.toLowerCase()===t.tagName.toLowerCase()}function _2(i,t){return qn(i)&&qn(t)&&qt(i)&&qt(t)}function v2(i,t,e){return t===e?!0:qt(t)&&qt(e)?t.data===e.data:!!(i.isBlockFiller(t)&&i.isBlockFiller(e))}function y2(i,t){const e=i.parent;if(e.nodeType!=Node.ELEMENT_NODE||i.offset!=e.childNodes.length-1)return;const n=e.childNodes[i.offset];n&&n.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function x2(i,t){const e=Array.from(i);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function E2(i){const t=i.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xA0",t}function _f(i,t){const e=i.data;if(e==t)return;const n=X(e,t);for(const o of n)o.type==="insert"?i.insertData(o.index,o.values.join("")):i.deleteData(o.index,o.howMany)}const D2=kf(rt.document),T2=pf(rt.document),S2=bf(rt.document),Js="data-ck-unsafe-attribute-",vf="data-ck-unsafe-element";class Xs{constructor(t,{blockFillerMode:e,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Fe,this._encounteredRawContentDomNodes=new WeakSet,this.document=t,this.renderingMode=n,this.blockFillerMode=e||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?rt.document:rt.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new dn(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const n of Array.from(t.children))this.unbindDomElement(n)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(t==="src"||t==="srcset")||n==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const n=new DOMParser().parseFromString(e,"text/html"),o=n.createDocumentFragment(),r=n.body.childNodes;for(;r.length>0;)o.appendChild(r[0]);const s=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),a=[];let c;for(;c=s.nextNode();)a.push(c);for(const l of a){for(const u of l.getAttributeNames())this.setDomElementAttribute(l,u,l.getAttribute(u));const d=l.tagName.toLowerCase();this._shouldRenameElement(d)&&(Ef(d),l.replaceWith(this._createReplacementDomElement(d,l)))}for(;t.firstChild;)t.firstChild.remove();t.append(o)}viewToDom(t,e={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(t))return this.mapViewToDom(t);let n;if(t.is("documentFragment"))n=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return t.name==="$comment"?n=this._domDocument.createComment(t.getCustomProperty("$rawContent")):n=t.render(this._domDocument,this),e.bind&&this.bindElements(n,t),n;this._shouldRenameElement(t.name)?(Ef(t.name),n=this._createReplacementDomElement(t.name)):t.hasAttribute("xmlns")?n=this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):n=this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(n,this),e.bind&&this.bindElements(n,t);for(const o of t.getAttributeKeys())this.setDomElementAttribute(n,o,t.getAttribute(o),t)}if(e.withChildren!==!1)for(const o of this.viewChildrenToDom(t,e))n.appendChild(o);return n}}setDomElementAttribute(t,e,n,o){const r=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e);r||_t("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(Js+e)&&r&&t.removeAttribute(Js+e),t.setAttribute(r?e:Js+e,n)}removeDomElementAttribute(t,e){e!=vf&&(t.removeAttribute(e),t.removeAttribute(Js+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren()){n===o&&(yield this._getBlockFiller());const s=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Pt(r.getAttributes());s&&this.renderingMode=="data"?yield*Gt(this.viewChildrenToDom(r,e)):(s&&_t("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e)),o++}n===o&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),o=this._domDocument.createRange();return o.setStart(e.parent,e.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let o=t.offset;return Me(n)&&(o+=un),{parent:n,offset:o}}else{let n,o,r;if(t.offset===0){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const a=t.nodeBefore;if(o=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!o)return null;n=o.parentNode,r=o.nextSibling}if(qt(r)&&Me(r))return{parent:r,offset:un};const s=o?Vs(o)+1:0;return{parent:n,offset:s}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(Ji(t)&&e.skipComments)return null;if(qt(t)){if(ar(t))return null;{const o=this._processDataFromDomText(t);return o===""?null:new Et(this.document,o)}}else{if(this.mapDomToView(t))return this.mapDomToView(t);let o;if(this.isDocumentFragment(t))o=new ki(this.document),e.bind&&this.bindDocumentFragments(t,o);else{o=this._createViewElement(t,e),e.bind&&this.bindElements(t,o);const r=t.attributes;if(r)for(let s=r.length,a=0;a<s;a++)o._setAttribute(r[a].name,r[a].value);if(this._isViewElementWithRawContent(o,e)||Ji(t)){const s=Ji(t)?t.data:t.innerHTML;return o._setCustomProperty("$rawContent",s),this._encounteredRawContentDomNodes.add(t),o}}if(e.withChildren!==!1)for(const r of this.domChildrenToView(t,e))o._appendChild(r);return o}}*domChildrenToView(t,e){for(let n=0;n<t.childNodes.length;n++){const o=t.childNodes[n],r=this.domToView(o,e);r!==null&&(yield r)}}domSelectionToView(t){if(t.rangeCount===1){let o=t.getRangeAt(0).startContainer;qt(o)&&(o=o.parentNode);const r=this.fakeSelectionToView(o);if(r)return r}const e=this.isDomSelectionBackward(t),n=[];for(let o=0;o<t.rangeCount;o++){const r=t.getRangeAt(o),s=this.domRangeToView(r);s&&n.push(s)}return new dn(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new et(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Vs(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return O._createBefore(n);if(qt(t)){if(ar(t))return this.domPositionToView(t.parentNode,Vs(t));const o=this.findCorrespondingViewText(t);let r=e;return o?(Me(t)&&(r-=un,r=r<0?0:r),new O(o,r)):null}else{if(e===0){const o=this.mapDomToView(t);if(o)return new O(o,0)}else{const o=t.childNodes[e-1];if(qt(o)&&ar(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,Vs(o));const r=qt(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(r&&r.parent)return new O(r.parent,r.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(ar(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const o=this.mapDomToView(n);if(o){const r=o.nextSibling;return r instanceof Et?r:null}}else{const o=this.mapDomToView(t.parentNode);if(o){const r=o.getChild(0);return r instanceof Et?r:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:n,scrollY:o}=rt.window,r=[];yf(e,s=>{const{scrollLeft:a,scrollTop:c}=s;r.push([a,c])}),e.focus(),yf(e,s=>{const[a,c]=r.shift();s.scrollLeft=a,s.scrollTop=c}),rt.window.scrollTo(n,o)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(D2):t.tagName==="BR"&&xf(t,this.blockElements)&&t.parentNode.childNodes.length===1?!0:t.isEqualNode(S2)||M2(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch(o){return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=Zm(t);for(e.pop();e.length;){const n=e.pop(),o=this._domToViewMapping.get(n);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return pf(this._domDocument);case"markedNbsp":return bf(this._domDocument);case"br":return kf(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(qt(t)&&Me(t)&&e<un||this.isElement(t)&&Me(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!(n&&(n.is("uiElement")||n.is("rawElement")))}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return e;if(e.charAt(0)==" "){const n=this._getTouchingInlineViewNode(t,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(e="\xA0"+e.substr(1))}if(e.charAt(e.length-1)==" "){const n=this._getTouchingInlineViewNode(t,!0),o=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!n||o)&&(e=e.substr(0,e.length-1)+"\xA0")}return e.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_processDataFromDomText(t){let e=t.data;if(I2(t,this.preElements))return wf(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),o=this._getTouchingInlineDomNode(t,!0),r=this._checkShouldLeftTrimDomText(t,n),s=this._checkShouldRightTrimDomText(t,o);r&&(e=e.replace(/^ /,"")),s&&(e=e.replace(/ $/,"")),e=wf(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const a=o&&this.isElement(o)&&o.tagName!="BR",c=o&&qt(o)&&o.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(e)||!o||a||c)&&(e=e.replace(/\u00A0$/," ")),(r||n&&this.isElement(n)&&n.tagName!="BR")&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return e?this.isElement(e)?e.tagName==="BR":this._encounteredRawContentDomNodes.has(t.previousSibling)?!1:/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)):!0}_checkShouldRightTrimDomText(t,e){return e?!1:!Me(t)}_getTouchingInlineViewNode(t,e){const n=new pi({startPosition:e?O._createAfter(t):O._createBefore(t),direction:e?"forward":"backward"});for(const o of n){if(o.item.is("element")&&this.inlineObjectElements.includes(o.item.name))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",o=e?"nextSibling":"previousSibling";let r=!0,s=t;do if(!r&&s[n]?s=s[n]:s[o]?(s=s[o],r=!1):(s=s.parentNode,r=!0),!s||this._isBlockElement(s))return null;while(!(qt(s)||s.tagName=="BR"||this._isInlineObjectElement(s)));return s}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(Ji(t))return new Zs(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Ie(this.document,n)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(vf,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const o of e.getAttributeNames())n.setAttribute(o,e.getAttribute(o))}return n}}function I2(i,t){return Zm(i).some(n=>n.tagName&&t.includes(n.tagName.toLowerCase()))}function yf(i,t){let e=i;for(;e;)t(e),e=e.parentElement}function M2(i,t){return i.isEqualNode(T2)&&xf(i,t)&&i.parentNode.childNodes.length===1}function xf(i,t){const e=i.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function Ef(i){i==="script"&&_t("domconverter-unsafe-script-element-detected"),i==="style"&&_t("domconverter-unsafe-style-element-detected")}class hn extends vn(){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!t||t.nodeType!==1?!1:t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var B2=$l(function(i,t){Se(t,Yi(t),i)});const Df=B2;class ro{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Df(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Kn extends hn{constructor(){super(...arguments),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(t,n,(o,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(t){this.stopListening(t)}fire(t,e,n){this.isEnabled&&this.document.fire(t,new ro(this.view,e,n))}}class z2 extends Kn{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return ui(this)}};this.fire(t.type,t,e)}}var N2=function(){return Te.Date.now()};const ad=N2;var L2=/\s/;function P2(i){for(var t=i.length;t--&&L2.test(i.charAt(t)););return t}const R2=P2;var O2=/^\s+/;function V2(i){return i&&i.slice(0,R2(i)+1).replace(O2,"")}const F2=V2;var Tf=NaN,j2=/^[-+]0x[0-9a-f]+$/i,H2=/^0b[01]+$/i,U2=/^0o[0-7]+$/i,W2=parseInt;function G2(i){if(typeof i=="number")return i;if(Gs(i))return Tf;if(vt(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=vt(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=F2(i);var e=H2.test(i);return e||U2.test(i)?W2(i.slice(2),e?2:8):j2.test(i)?Tf:+i}const Sf=G2;var q2="Expected a function",$2=Math.max,K2=Math.min;function Y2(i,t,e){var n,o,r,s,a,c,l=0,d=!1,u=!1,m=!0;if(typeof i!="function")throw new TypeError(q2);t=Sf(t)||0,vt(e)&&(d=!!e.leading,u="maxWait"in e,r=u?$2(Sf(e.maxWait)||0,t):r,m="trailing"in e?!!e.trailing:m);function b($){var nt=n,Z=o;return n=o=void 0,l=$,s=i.apply(Z,nt),s}function A($){return l=$,a=setTimeout(L,t),d?b($):s}function T($){var nt=$-c,Z=$-l,Wt=t-nt;return u?K2(Wt,r-Z):Wt}function B($){var nt=$-c,Z=$-l;return c===void 0||nt>=t||nt<0||u&&Z>=r}function L(){var $=ad();if(B($))return j($);a=setTimeout(L,T($))}function j($){return a=void 0,m&&n?b($):(n=o=void 0,s)}function dt(){a!==void 0&&clearTimeout(a),l=0,n=c=o=a=void 0}function ht(){return a===void 0?s:j(ad())}function Nt(){var $=ad(),nt=B($);if(n=arguments,o=this,c=$,nt){if(a===void 0)return A(c);if(u)return clearTimeout(a),a=setTimeout(L,t),b(c)}return a===void 0&&(a=setTimeout(L,t)),s}return Nt.cancel=dt,Nt.flush=ht,Nt}const yn=Y2;class Z2 extends hn{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=yn(e=>{this.document.fire("selectionChangeDone",e)},200)}observe(){const t=this.document;t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new dn(e.getRanges(),{backward:e.isBackward,fake:!1});(t==lt.arrowleft||t==lt.arrowup)&&n.setTo(n.getFirstPosition()),(t==lt.arrowright||t==lt.arrowdown)&&n.setTo(n.getLastPosition());const o={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}var Q2="__lodash_hash_undefined__";function J2(i){return this.__data__.set(i,Q2),this}const X2=J2;function tE(i){return this.__data__.has(i)}const eE=tE;function ta(i){var t=-1,e=i==null?0:i.length;for(this.__data__=new Gn;++t<e;)this.add(i[t])}ta.prototype.add=ta.prototype.push=X2,ta.prototype.has=eE;const nE=ta;function iE(i,t){for(var e=-1,n=i==null?0:i.length;++e<n;)if(t(i[e],e,i))return!0;return!1}const oE=iE;function rE(i,t){return i.has(t)}const sE=rE;var aE=1,cE=2;function lE(i,t,e,n,o,r){var s=e&aE,a=i.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(i),d=r.get(t);if(l&&d)return l==t&&d==i;var u=-1,m=!0,b=e&cE?new nE:void 0;for(r.set(i,t),r.set(t,i);++u<a;){var A=i[u],T=t[u];if(n)var B=s?n(T,A,u,t,i,r):n(A,T,u,i,t,r);if(B!==void 0){if(B)continue;m=!1;break}if(b){if(!oE(t,function(L,j){if(!sE(b,j)&&(A===L||o(A,L,e,n,r)))return b.push(j)})){m=!1;break}}else if(!(A===T||o(A,T,e,n,r))){m=!1;break}}return r.delete(i),r.delete(t),m}const If=lE;function dE(i){var t=-1,e=Array(i.size);return i.forEach(function(n,o){e[++t]=[o,n]}),e}const uE=dE;function hE(i){var t=-1,e=Array(i.size);return i.forEach(function(n){e[++t]=n}),e}const mE=hE;var gE=1,fE=2,pE="[object Boolean]",bE="[object Date]",kE="[object Error]",wE="[object Map]",AE="[object Number]",CE="[object RegExp]",_E="[object Set]",vE="[object String]",yE="[object Symbol]",xE="[object ArrayBuffer]",EE="[object DataView]",Mf=Oe?Oe.prototype:void 0,cd=Mf?Mf.valueOf:void 0;function DE(i,t,e,n,o,r,s){switch(e){case EE:if(i.byteLength!=t.byteLength||i.byteOffset!=t.byteOffset)return!1;i=i.buffer,t=t.buffer;case xE:return!(i.byteLength!=t.byteLength||!r(new Ns(i),new Ns(t)));case pE:case bE:case AE:return Hn(+i,+t);case kE:return i.name==t.name&&i.message==t.message;case CE:case vE:return i==t+"";case wE:var a=uE;case _E:var c=n&gE;if(a||(a=mE),i.size!=t.size&&!c)return!1;var l=s.get(i);if(l)return l==t;n|=fE,s.set(i,t);var d=If(a(i),a(t),n,o,r,s);return s.delete(i),d;case yE:if(cd)return cd.call(i)==cd.call(t)}return!1}const TE=DE;var SE=1,IE=Object.prototype,ME=IE.hasOwnProperty;function BE(i,t,e,n,o,r){var s=e&SE,a=ll(i),c=a.length,l=ll(t),d=l.length;if(c!=d&&!s)return!1;for(var u=c;u--;){var m=a[u];if(!(s?m in t:ME.call(t,m)))return!1}var b=r.get(i),A=r.get(t);if(b&&A)return b==t&&A==i;var T=!0;r.set(i,t),r.set(t,i);for(var B=s;++u<c;){m=a[u];var L=i[m],j=t[m];if(n)var dt=s?n(j,L,m,t,i,r):n(L,j,m,i,t,r);if(!(dt===void 0?L===j||o(L,j,e,n,r):dt)){T=!1;break}B||(B=m=="constructor")}if(T&&!B){var ht=i.constructor,Nt=t.constructor;ht!=Nt&&"constructor"in i&&"constructor"in t&&!(typeof ht=="function"&&ht instanceof ht&&typeof Nt=="function"&&Nt instanceof Nt)&&(T=!1)}return r.delete(i),r.delete(t),T}const zE=BE;var NE=1,Bf="[object Arguments]",zf="[object Array]",ea="[object Object]",LE=Object.prototype,Nf=LE.hasOwnProperty;function PE(i,t,e,n,o,r){var s=se(i),a=se(t),c=s?zf:Xo(i),l=a?zf:Xo(t);c=c==Bf?ea:c,l=l==Bf?ea:l;var d=c==ea,u=l==ea,m=c==l;if(m&&Qo(i)){if(!Qo(t))return!1;s=!0,d=!1}if(m&&!d)return r||(r=new f),s||ol(i)?If(i,t,e,n,o,r):TE(i,t,c,e,n,o,r);if(!(e&NE)){var b=d&&Nf.call(i,"__wrapped__"),A=u&&Nf.call(t,"__wrapped__");if(b||A){var T=b?i.value():i,B=A?t.value():t;return r||(r=new f),o(T,B,e,n,r)}}return m?(r||(r=new f),zE(i,t,e,n,o,r)):!1}const RE=PE;function Lf(i,t,e,n,o){return i===t?!0:i==null||t==null||!ve(i)&&!ve(t)?i!==i&&t!==t:RE(i,t,e,n,Lf,o)}const Pf=Lf;function OE(i,t,e){e=typeof e=="function"?e:void 0;var n=e?e(i,t):void 0;return n===void 0?Pf(i,t,void 0,e):!!n}const VE=OE;class Rf extends hn{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;const e=this.domConverter,n=new Set,o=new Set;for(const s of t){const a=e.mapDomToView(s.target);a&&(a.is("uiElement")||a.is("rawElement")||s.type==="childList"&&!this._isBogusBrMutation(s)&&o.add(a))}for(const s of t){const a=e.mapDomToView(s.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&s.type==="characterData"){const c=e.findCorrespondingViewText(s.target);c&&!o.has(c.parent)?n.add(c):!c&&Me(s.target)&&o.add(e.mapDomToView(s.target.parentNode))}}let r=!1;for(const s of n)r=!0,this.renderer.markToSync("text",s);for(const s of o){const a=e.mapViewToDom(s),c=Array.from(s.getChildren()),l=Array.from(e.domChildrenToView(a,{withChildren:!1}));VE(c,l,FE)||(r=!0,this.renderer.markToSync("children",s))}r&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function FE(i,t){if(!Array.isArray(i))return i===t?!0:i.is("$text")&&t.is("$text")?i.data===t.data:!1}class ld extends Kn{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),e.on("blur",(n,o)=>{const r=e.selection.editableElement;(r===null||r===o.target)&&(e.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class jE extends hn{constructor(t){super(t),this.mutationObserver=t.getObserver(Rf),this.focusObserver=t.getObserver(ld),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=yn(e=>{this.document.fire("selectionChangeDone",e)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=yn(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",n,{priority:"highest"}),this.listenTo(t,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",o,{priority:"highest",useCapture:!0}),!this._documents.has(e)&&(this.listenTo(e,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",(r,s)=>{this.document.isComposing&&!p.isAndroid||(this._handleSelectionChange(s,e),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(n);if(o.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.focusObserver.flush(),this.selection.isSimilar(o))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:o,domSelection:n};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class HE extends Kn{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0},{priority:"low"}),e.on("compositionend",()=>{e.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class Of{constructor(t,e={}){this._files=e.cacheFiles?Vf(t):null,this._native=t}get files(){return this._files||(this._files=Vf(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Vf(i){const t=Array.from(i.files||[]),e=Array.from(i.items||[]);return t.length?t:e.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class UE extends Kn{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const e=t.getTargetRanges(),n=this.view,o=n.document;let r=null,s=null,a=[];if(t.dataTransfer&&(r=new Of(t.dataTransfer)),t.data!==null?s=t.data:r&&(s=r.getData("text/plain")),o.selection.isFake)a=Array.from(o.selection.getRanges());else if(e.length)a=e.map(c=>n.domConverter.domRangeToView(c));else if(p.isAndroid){const c=t.target.ownerDocument.defaultView.getSelection();a=Array.from(n.domConverter.domSelectionToView(c).getRanges())}if(p.isAndroid&&t.inputType=="insertCompositionText"&&s&&s.endsWith(`
`)){this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(a[0].end)]});return}if(t.inputType=="insertText"&&s&&s.includes(`
`)){const c=s.split(/\n{1,2}/g);let l=a;for(let d=0;d<c.length;d++){const u=c[d];u!=""&&(this.fire(t.type,t,{data:u,dataTransfer:r,targetRanges:l,inputType:t.inputType,isComposing:t.isComposing}),l=[o.selection.getFirstRange()]),d+1<c.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:l}),l=[o.selection.getFirstRange()])}return}this.fire(t.type,t,{data:s,dataTransfer:r,targetRanges:a,inputType:t.inputType,isComposing:t.isComposing})}}class WE extends hn{constructor(t){super(t),this.document.on("keydown",(e,n)=>{if(this.isEnabled&&G1(n.keyCode)){const o=new io(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,n),o.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class GE extends hn{constructor(t){super(t);const e=this.document;e.on("keydown",(n,o)=>{if(!this.isEnabled||o.keyCode!=lt.tab||o.ctrlKey)return;const r=new io(e,"tab",e.selection.getFirstRange());e.fire(r,o),r.stop.called&&n.stop()})}observe(){}stopObserving(){}}class qE extends ut(){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Ys(t),this.domConverter=new Xs(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new w2(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new uf(this.document),this.addObserver(Rf),this.addObserver(ld),this.addObserver(jE),this.addObserver(z2),this.addObserver(Z2),this.addObserver(HE),this.addObserver(WE),this.addObserver(UE),this.addObserver(GE),b2(this),l2(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const o={};for(const{name:s,value:a}of Array.from(t.attributes))o[s]=a,s==="class"?this._writer.addClass(a.split(" "),n):this._writer.setAttribute(s,a,n);this._initialDomRootAttributes.set(t,o);const r=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(s,a)=>this._renderer.markToSync("children",a)),n.on("change:attributes",(s,a)=>this._renderer.markToSync("attributes",a)),n.on("change:text",(s,a)=>this._renderer.markToSync("text",a)),n.on("change:isReadOnly",()=>this.change(r)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const s of this._observers.values())s.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:o})=>e.removeAttribute(o));const n=this._initialDomRootAttributes.get(e);for(const o in n)e.setAttribute(o,n[o]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e);for(const o of this._observers.values())o.stopObserving(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,o]of this.domRoots)e.observe(o,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:e,viewportOffset:n=20,ancestorOffset:o=20}={}){const r=this.document.selection.getFirstRange();r&&sg({target:this.domConverter.viewRangeToDom(r),viewportOffset:n,ancestorOffset:o,alignToTop:t,forceScroll:e})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new v("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(e){v.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ld).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return O._createAt(t,e)}createPositionAfter(t){return O._createAfter(t)}createPositionBefore(t){return O._createBefore(t)}createRange(t,e){return new et(t,e)}createRangeOn(t){return et._createOn(t)}createRangeIn(t){return et._createIn(t)}createSelection(...t){return new dn(...t)}_disableRendering(t){this._renderingDisabled=t,t==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Yn{is(){throw new Error("is() method is abstract")}}class wi extends Yn{constructor(t){super(),this.parent=null,this._attrs=cn(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new v("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new v("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let r=0;for(;n[r]==o[r]&&n[r];)r++;return r===0?null:n[r-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=re(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this==t||this.root!==t.root?!1:!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((e,n)=>(e[n[0]]=n[1],e),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=cn(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}wi.prototype.is=function(i){return i==="node"||i==="model:node"};class cr{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return e==-1?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return e===null?null:this._nodes.slice(0,e).reduce((n,o)=>n+o.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new v("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new v("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof wi))throw new v("model-nodelist-insertnodes-not-node",this);this._nodes=oy(this._nodes,Array.from(e),t,0)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Dt extends wi{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Dt(this.data,this.getAttributes())}static fromJSON(t){return new Dt(t.data,t.attributes)}}Dt.prototype.is=function(i){return i==="$text"||i==="model:$text"||i==="text"||i==="model:text"||i==="node"||i==="model:node"};class Xe extends Yn{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new v("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new v("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Xe.prototype.is=function(i){return i==="$textProxy"||i==="model:$textProxy"||i==="textProxy"||i==="model:textProxy"};class wt extends wi{constructor(t,e,n){super(e),this._children=new cr,this.name=t,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new wt(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=$E(e);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)n.name?e.push(wt.fromJSON(n)):e.push(Dt.fromJSON(n))}return new wt(t.name,t.attributes,e)}}wt.prototype.is=function(i,t){return t?t===this.name&&(i==="element"||i==="model:element"):i==="element"||i==="model:element"||i==="node"||i==="model:node"};function $E(i){return typeof i=="string"?[new Dt(i)]:(Ae(i)||(i=[i]),Array.from(i).map(t=>typeof t=="string"?new Dt(t):t instanceof Xe?new Dt(t.data,t.getAttributes()):t))}class mn{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new v("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new v("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=P._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,n,o,r;do o=this.position,r=this._visitedParent,{done:e,value:n}=this.next();while(!e&&t(n));e||(this._position=o,this._visitedParent=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=lr(e,n),r=o||Ff(e,n,o);if(r instanceof wt)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=r),this._position=e,Ai("elementStart",r,t,e,1);if(r instanceof Dt){let s;if(this.singleCharacters)s=1;else{let l=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<l&&(l=this.boundaries.end.offset),s=l-e.offset}const a=e.offset-r.startOffset,c=new Xe(r,a,s);return e.offset+=s,this._position=e,Ai("text",c,t,e,s)}else return e.path.pop(),e.offset++,this._position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ai("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=e.parent,r=lr(e,o),s=r||jf(e,o,r);if(s instanceof wt)return e.offset--,this.shallow?(this._position=e,Ai("elementStart",s,t,e,1)):(e.path.push(s.maxOffset),this._position=e,this._visitedParent=s,this.ignoreElementEnd?this._previous():Ai("elementEnd",s,t,e));if(s instanceof Dt){let a;if(this.singleCharacters)a=1;else{let d=s.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>d&&(d=this.boundaries.start.offset),a=e.offset-d}const c=e.offset-s.startOffset,l=new Xe(s,c-a,a);return e.offset-=a,this._position=e,Ai("text",l,t,e,a)}else return e.path.pop(),this._position=e,this._visitedParent=n.parent,Ai("elementStart",n,t,e,1)}}function Ai(i,t,e,n,o){return{done:!1,value:{type:i,item:t,previousPosition:e,nextPosition:n,length:o}}}class P extends Yn{constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new v("model-position-root-invalid",t);if(!(e instanceof Array)||e.length===0)throw new v("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new v("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new v("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return lr(this,this.parent)}get nodeAfter(){const t=this.parent;return Ff(this,t,lr(this,t))}get nodeBefore(){const t=this.parent;return jf(this,t,lr(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=re(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new mn(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=re(this.path,t.path),n=typeof e=="string"?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return o===0?null:e[o-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const o=this.path[n]-t.path[n];if(o<-1||o>1)return!1;if(o===1)return Hf(t,this,n);if(o===-1)return Hf(this,t,n)}return this.path.length===t.path.length?!0:this.path.length>t.path.length?dd(this.path,e):dd(t.path,e)}hasSameParentAs(t){if(this.root!==t.root)return!1;const e=this.getParentPath(),n=t.getParentPath();return re(e,n)=="same"}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=P._createAt(this);break}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange,n=e.containsPosition(this)||e.start.isEqual(this);let o;return n?(o=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(o=o._getTransformedByDeletion(t.deletionPosition,1))):this.isEqual(t.deletionPosition)?o=P._createAt(t.deletionPosition):o=this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),o}_getTransformedByDeletion(t,e){const n=P._createAt(this);if(this.root!=t.root)return n;if(re(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if(re(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+e>this.path[o])return null;n.path[o]-=e}}return n}_getTransformedByInsertion(t,e){const n=P._createAt(this);if(this.root!=t.root)return n;if(re(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=e);else if(re(t.getParentPath(),this.getParentPath())=="prefix"){const o=t.path.length-1;t.offset<=this.path[o]&&(n.path[o]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return P._createAt(this);const o=this._getTransformedByDeletion(t,n);return o===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,e):o._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,o=P._createAt(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-t.offset,o.path=[...o.path,...this.path.slice(n+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof P)return new P(t.root,t.path,t.stickiness);{const o=t;if(e=="end")e=o.maxOffset;else{if(e=="before")return this._createBefore(o,n);if(e=="after")return this._createAfter(o,n);if(e!==0&&!e)throw new v("model-createpositionat-offset-required",[this,t])}if(!o.is("element")&&!o.is("documentFragment"))throw new v("model-position-parent-incorrect",[this,t]);const r=o.getPath();return r.push(e),new this(o.root,r,n)}}static _createAfter(t,e){if(!t.parent)throw new v("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new v("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if(t.root==="$graveyard"){const n=new P(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new v("model-position-fromjson-no-root",e,{rootName:t.root});return new P(e.getRoot(t.root),t.path,t.stickiness)}}P.prototype.is=function(i){return i==="position"||i==="model:position"};function lr(i,t){const e=t.getChild(t.offsetToIndex(i.offset));return e&&e.is("$text")&&e.startOffset<i.offset?e:null}function Ff(i,t,e){return e!==null?null:t.getChild(t.offsetToIndex(i.offset))}function jf(i,t,e){return e!==null?null:t.getChild(t.offsetToIndex(i.offset)-1)}function Hf(i,t,e){return!(e+1===i.path.length||!dd(t.path,e+1)||!KE(i,e+1))}function dd(i,t){for(;t<i.length;){if(i[t]!==0)return!1;t++}return!0}function KE(i,t){let e=i.parent,n=i.path.length-1,o=0;for(;n>=t;){if(i.path[n]+o!==e.maxOffset)return!1;o=1,n--,e=e.parent}return!0}class z extends Yn{constructor(t,e){super(),this.start=P._createAt(t),this.end=e?P._createAt(e):P._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*Gt(new mn({boundaries:this,ignoreElementEnd:!0}))}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const t=this.start.getParentPath(),e=this.end.getParentPath();return re(t,e)=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}containsItem(t){const e=P._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new z(this.start,t.start)),this.containsPosition(t.end)&&e.push(new z(t.end,this.end))):e.push(new z(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new z(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(this.start.isBefore(t.start)?n=e?this.end.isTouching(t.start):this.end.isEqual(t.start):n=e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let o=this.start,r=this.end;return t.start.isBefore(o)&&(o=t.start),t.end.isAfter(r)&&(r=t.end),new z(o,r)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=P._createAt(this.start);let o=n.parent;for(;n.path.length>e+1;){const r=o.maxOffset-n.offset;r!==0&&t.push(new z(n,n.getShiftedBy(r))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const r=this.end.path[n.path.length-1],s=r-n.offset;s!==0&&t.push(new z(n,n.getShiftedBy(s))),n.offset=r,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new mn(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new mn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new mn(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new z(this.start,this.end)]}getTransformedByOperations(t){const e=[new z(this.start,this.end)];for(const n of t)for(let o=0;o<e.length;o++){const r=e[o].getTransformedByOperation(n);e.splice(o,1,...r),o+=r.length-1}for(let n=0;n<e.length;n++){const o=e[n];for(let r=n+1;r<e.length;r++){const s=e[r];(o.containsRange(s)||s.containsRange(o)||o.isEqual(s))&&e.splice(r,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,o=t.howMany,r=t.targetPosition;return this._getTransformedByMove(n,r,o,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new z(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new z(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=P._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new z(e,n)):new z(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new z(this.start,t),new z(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const o=new z(this.start,this.end);return o.start=o.start._getTransformedByInsertion(t,e),o.end=o.end._getTransformedByInsertion(t,e),[o]}}_getTransformedByMove(t,e,n,o=!1){if(this.isCollapsed){const u=this.start._getTransformedByMove(t,e,n);return[new z(u)]}const r=z._createFromPositionAndShift(t,n),s=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!o&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const u=this.start._getTransformedByMove(t,e,n),m=this.end._getTransformedByMove(t,e,n);return[new z(u,m)]}let a;const c=this.getDifference(r);let l=null;const d=this.getIntersection(r);if(c.length==1?l=new z(c[0].start._getTransformedByDeletion(t,n),c[0].end._getTransformedByDeletion(t,n)):c.length==2&&(l=new z(this.start,this.end._getTransformedByDeletion(t,n))),l?a=l._getTransformedByInsertion(s,n,d!==null||o):a=[],d){const u=new z(d.start._getCombined(r.start,s),d.end._getCombined(r.start,s));a.length==2?a.splice(1,0,u):a.push(u)}return a}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return n==null&&o==null?null:(n==null&&(n=t),o==null&&(o=t),new z(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return new this(P._createAt(t,0),P._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(P._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new v("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();const e=t[0];t.sort((r,s)=>r.start.isAfter(s.start)?1:-1);const n=t.indexOf(e),o=new this(e.start,e.end);if(n>0)for(let r=n-1;t[r].end.isEqual(o.start);r++)o.start=P._createAt(t[r].start);for(let r=n+1;r<t.length&&t[r].start.isEqual(o.end);r++)o.end=P._createAt(t[r].end);return o}static fromJSON(t,e){return new this(P.fromJSON(t.start,e),P.fromJSON(t.end,e))}}z.prototype.is=function(i){return i==="range"||i==="model:range"};class Uf extends kt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new v("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),o=this._viewToModelMapping.get(n),r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=P._createAt(o,r)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const o of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(o);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const o=this._elementToMarkerNames.get(t)||new Set;o.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,o)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),n.size==0&&this._markerNameToElements.delete(e));const o=this._elementToMarkerNames.get(t);o&&(o.delete(e),o.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new z(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new et(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const o of e)if(o.is("attributeElement"))for(const r of o.getElementsWithSameId())n.add(r);else n.add(o);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t){const r=this._toModelOffset(t.parent,t.index,n),s=this._toModelOffset(t,e,t);return r+s}if(t.is("$text"))return e;let o=0;for(let r=0;r<e;r++)o+=this.getModelLength(t.getChild(r));return o}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,o=0,r=0,s=0;if(t.is("$text"))return new O(t,e);for(;r<e;)n=t.getChild(s),o=this.getModelLength(n),r+=o,s++;return r==e?this._moveViewPositionToTextNode(new O(t,s)):this.findPositionIn(n,e-(r-o))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof Et?new O(e,e.data.length):n instanceof Et?new O(n,0):t}}class YE{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=na(e),t instanceof Xe&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=na(e),t instanceof Xe&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=na(e),t instanceof Xe&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(n===void 0)return null;const o=n.get(e);return o===void 0?null:o}revert(t,e){e=na(e),t instanceof Xe&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return n===!1?(this._consumable.get(t).set(e,!0),!0):n===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[n,o]of this._consumable)for(const[r,s]of o){const a=r.split(":")[0];s&&t==a&&e.push({event:r,item:n.name||n.description})}if(e.length)throw new v("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const o=n.get(t.endOffset);o&&(e=o.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,o=t.parent,r=Symbol("$textProxy:"+t.data);let s,a;return s=this._textProxyRegistry.get(e),s||(s=new Map,this._textProxyRegistry.set(e,s)),a=s.get(n),a||(a=new Map,s.set(n,a)),a.set(o,r),r}}function na(i){const t=i.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?i:t.length>1?t[0]+":"+t[1]:t[0]}class Wf extends kt(){constructor(t){super(),this._conversionApi=U({dispatcher:this},t),this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const o=this._createConversionApi(n,t.getRefreshedItems());for(const s of t.getMarkersToRemove())this._convertMarkerRemove(s.name,s.range,o);const r=this._reduceChanges(t.getChanges());for(const s of r)s.type==="insert"?this._convertInsert(z._createFromPositionAndShift(s.position,s.length),o):s.type==="reinsert"?this._convertReinsert(z._createFromPositionAndShift(s.position,s.length),o):s.type==="remove"?this._convertRemove(s.position,s.length,s.name,o):this._convertAttribute(s.range,s.attributeKey,s.attributeOldValue,s.attributeNewValue,o);for(const s of o.mapper.flushUnboundMarkerNames()){const a=e.get(s).getRange();this._convertMarkerRemove(s,a,o),this._convertMarkerAdd(s,a,o)}for(const s of t.getMarkersToAdd())this._convertMarkerAdd(s.name,s.range,o);o.mapper.flushDeferredBindings(),o.consumable.verifyAllConsumed("insert")}convert(t,e,n,o={}){const r=this._createConversionApi(n,void 0,o);this._convertInsert(t,r);for(const[s,a]of e)this._convertMarkerAdd(s,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition())),r=this._createConversionApi(n);if(this._addConsumablesForSelection(r.consumable,t,o),this.fire("selection",{selection:t},r),!!t.isCollapsed){for(const s of o){const a=s.getRange();if(!ZE(t.getFirstPosition(),s,r.mapper))continue;const c={item:t,markerName:s.name,markerRange:a};r.consumable.test(t,"addMarker:"+s.name)&&this.fire(`addMarker:${s.name}`,c,r)}for(const s of t.getAttributeKeys()){const a={item:t,range:t.getFirstRange(),attributeKey:s,attributeOldValue:null,attributeNewValue:t.getAttribute(s)};r.consumable.test(t,"attribute:"+a.attributeKey)&&this.fire(`attribute:${a.attributeKey}:$text`,a,r)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,Array.from(t));for(const o of Array.from(t.getWalker({shallow:!0})).map(Gf))this._testAndFire("insert",o,e)}_convertRemove(t,e,n,o){this.fire(`remove:${n}`,{position:t,length:e},o)}_convertAttribute(t,e,n,o,r){this._addConsumablesForRange(r.consumable,t,`attribute:${e}`);for(const s of t){const a={item:s.item,range:z._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:e,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${e}`,a,r)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const o of n.map(Gf))this._testAndFire("insert",ie(U({},o),{reconversion:!0}),e)}_convertMarkerAdd(t,e,n){if(e.root.rootName=="$graveyard")return;const o=`addMarker:${t}`;if(n.consumable.add(e,o),this.fire(o,{markerName:t,markerRange:e},n),!!n.consumable.consume(e,o)){this._addConsumablesForRange(n.consumable,e,o);for(const r of e.getItems()){if(!n.consumable.test(r,o))continue;const s={item:r,range:z._createOn(r),markerName:t,markerRange:e};this.fire(o,s,n)}}}_convertMarkerRemove(t,e,n){e.root.rootName!="$graveyard"&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const o=n.item;if(t.test(o,"insert")===null){t.add(o,"insert");for(const r of o.getAttributeKeys())t.add(o,"attribute:"+r)}}return t}_addConsumablesForRange(t,e,n){for(const o of e.getItems())t.add(o,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const o of n)t.add(e,"addMarker:"+o.name);for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o);return t}_testAndFire(t,e,n){const o=QE(t,e),r=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,s=this._firedEventsMap.get(n),a=s.get(r);if(!a)s.set(r,new Set([o]));else if(!a.has(o))a.add(o);else return;this.fire(o,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:z._createOn(t)};for(const o of n.item.getAttributeKeys())n.attributeKey=o,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(o),this._testAndFire(`attribute:${o}`,n,e)}_createConversionApi(t,e=new Set,n={}){const o=ie(U({},this._conversionApi),{consumable:new YE,writer:t,options:n,convertItem:r=>this._convertInsert(z._createOn(r),o),convertChildren:r=>this._convertInsert(z._createIn(r),o,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,o),canReuseView:r=>!e.has(o.mapper.toModelElement(r))});return this._firedEventsMap.set(o,new Map),o}}function ZE(i,t,e){const n=t.getRange(),o=Array.from(i.getAncestors());return o.shift(),o.reverse(),!o.some(s=>{if(n.containsItem(s))return!!e.toViewElement(s).getCustomProperty("addHighlight")})}function QE(i,t){const e=t.item.is("element")?t.item.name:"$text";return`${i}:${e}`}function Gf(i){const t=i.item,e=z._createFromPositionAndShift(i.previousPosition,i.length);return{item:t,range:e}}class tn extends kt(Yn){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new z(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)(!t||e.start.isBefore(t.start))&&(t=e);return t?new z(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)(!t||e.end.isAfter(t.end))&&(t=e);return t?new z(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,o]=t;if(typeof n=="object"&&(o=n,n=void 0),e===null)this._setRanges([]);else if(e instanceof tn)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof z)this._setRanges([e],!!o&&!!o.backward);else if(e instanceof P)this._setRanges([new z(e)]);else if(e instanceof wi){const r=!!o&&!!o.backward;let s;if(n=="in")s=z._createIn(e);else if(n=="on")s=z._createOn(e);else if(n!==void 0)s=new z(P._createAt(e,n));else throw new v("model-selection-setto-required-second-parameter",[this,e]);this._setRanges([s],r)}else if(Ae(e))this._setRanges(e,o&&!!o.backward);else throw new v("model-selection-setto-not-selectable",[this,e])}_setRanges(t,e=!1){const n=Array.from(t),o=n.some(r=>{if(!(r instanceof z))throw new v("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(s=>!s.isEqual(r))});n.length===this._ranges.length&&!o||(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(this.anchor===null)throw new v("model-selection-setfocus-no-ranges",[this,t]);const n=P._createAt(t,e);if(n.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(o)=="before"?(this._pushRange(new z(n,o)),this._lastRangeBackward=!0):(this._pushRange(new z(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=$f(e.start,t);XE(n,e)&&(yield n);for(const r of e.getWalker()){const s=r.item;r.type=="elementEnd"&&JE(s,t,e)&&(yield s)}const o=$f(e.end,t);t5(o,e)&&(yield o)}}containsEntireContent(t=this.anchor.root){const e=P._createAt(t,0),n=P._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new z(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new v("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}tn.prototype.is=function(i){return i==="selection"||i==="model:selection"};function qf(i,t){return t.has(i)?!1:(t.add(i),i.root.document.model.schema.isBlock(i)&&!!i.parent)}function JE(i,t,e){return qf(i,t)&&ud(i,e)}function $f(i,t){const n=i.parent.root.document.model.schema,o=i.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const s=o.find(a=>r?!1:(r=n.isLimit(a),!r&&qf(a,t)));return o.forEach(a=>t.add(a)),s}function ud(i,t){const e=e5(i);return e?!t.containsRange(z._createOn(e),!0):!0}function XE(i,t){return i?t.isCollapsed||i.isEmpty?!0:t.start.isTouching(P._createAt(i,i.maxOffset))?!1:ud(i,t):!1}function t5(i,t){return i?t.isCollapsed||i.isEmpty?!0:t.end.isTouching(P._createAt(i,0))?!1:ud(i,t):!1}function e5(i){const t=i.root.document.model.schema;let e=i.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class en extends kt(z){constructor(t,e){super(t,e),n5.call(this)}detach(){this.stopListening()}toRange(){return new z(this.start,this.end)}static fromRange(t){return new en(t.start,t.end)}}en.prototype.is=function(i){return i==="liveRange"||i==="model:liveRange"||i=="range"||i==="model:range"};function n5(){this.listenTo(this.root.document.model,"applyOperation",(i,t)=>{const e=t[0];e.isDocumentOperation&&i5.call(this,e)},{priority:"low"})}function i5(i){const t=this.getTransformedByOperation(i),e=z._createFromRanges(t),n=!e.isEqual(this),o=o5(this,i);let r=null;if(n){e.root.rootName=="$graveyard"&&(i.type=="remove"?r=i.sourcePosition:r=i.deletionPosition);const s=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",s,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function o5(i,t){switch(t.type){case"insert":return i.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return i.containsPosition(t.sourcePosition)||i.start.isEqual(t.sourcePosition)||i.containsPosition(t.targetPosition);case"split":return i.containsPosition(t.splitPosition)||i.containsPosition(t.insertionPosition)}return!1}const dr="selection:";class nn extends kt(Yn){constructor(t){super(),this._selection=new r5(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return dr+t}static _isStoreAttributeKey(t){return t.startsWith(dr)}}nn.prototype.is=function(i){return i==="selection"||i=="model:selection"||i=="documentSelection"||i=="model:documentSelection"};class r5 extends tn{constructor(t){super(),this.markers=new Ft({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(e,n)=>{const o=n[0];!o.isDocumentOperation||o.type=="marker"||o.type=="rename"||o.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(e,n,o,r)=>{this._updateMarker(n,r)}),this.listenTo(this._document,"change",(e,n)=>{s5(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*Gt(super.getRanges()):yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=oe();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new v("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new v("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=en.fromRange(t);return e.on("change:range",(n,o,r)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const s=this._ranges.indexOf(e);this._ranges.splice(s,1),e.detach()}}),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const o of this._model.markers){const r=o.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const s=o.getRange();for(const a of this.getRanges())s.containsRange(a,!a.isCollapsed)&&t.push(o)}const n=Array.from(this.markers);for(const o of t)this.markers.has(o)||(this.markers.add(o),e=!0);for(const o of Array.from(this.markers))t.includes(o)||(this.markers.remove(o),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let o=!1;const r=Array.from(this.markers),s=this.markers.has(t);if(!e)s&&(this.markers.remove(t),o=!0);else{let a=!1;for(const c of this.getRanges())if(e.containsRange(c,!c.isCollapsed)){a=!0;break}a&&!s?(this.markers.add(t),o=!0):!a&&s&&(this.markers.remove(t),o=!0)}o&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=cn(this._getSurroundingAttributes()),n=cn(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,s]of this._attributePriority)s=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(e);const o=[];for(const[r,s]of this.getAttributes())(!n.has(r)||n.get(r)!==s)&&o.push(r);for(const[r]of n)this.hasAttribute(r)||o.push(r);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(t,e,n=!0){const o=n?"normal":"low";return o=="low"&&this._attributePriority.get(t)=="normal"||super.getAttribute(t)===e?!1:(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return n=="low"&&this._attributePriority.get(t)=="normal"||(this._attributePriority.set(t,n),!super.hasAttribute(t))?!1:(this._attrs.delete(t),!0)}_setAttributesTo(t){const e=new Set;for(const[n,o]of this.getAttributes())t.get(n)!==o&&this._removeAttribute(n,!1);for(const[n,o]of t)this._setAttribute(n,o,!1)&&e.add(n);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(dr)&&(yield[e.substr(dr.length),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const o=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=ia(o)),n||(n=ia(r)),!this.isGravityOverridden&&!n){let s=o;for(;s&&!e.isInline(s)&&!n;)s=s.previousSibling,n=ia(s)}if(!n){let s=r;for(;s&&!e.isInline(s)&&!n;)s=s.nextSibling,n=ia(s)}n||(n=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const r of o){if(r.item.is("element")&&e.isObject(r.item))break;if(r.type=="text"){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function ia(i){return i instanceof Xe||i instanceof Dt?i.getAttributes():null}function s5(i,t){const e=i.document.differ;for(const n of e.getChanges()){if(n.type!="insert")continue;const o=n.position.parent;n.length===o.maxOffset&&i.enqueueChange(t,s=>{const a=Array.from(o.getAttributeKeys()).filter(c=>c.startsWith(dr));for(const c of a)s.removeAttribute(c,o)})}}class Kf{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var a5=1,c5=4;function l5(i){return fl(i,a5|c5)}const Zn=l5;class d5 extends Kf{elementToElement(t){return this.add(T5(t))}elementToStructure(t){return this.add(S5(t))}attributeToElement(t){return this.add(I5(t))}attributeToAttribute(t){return this.add(M5(t))}markerToElement(t){return this.add(B5(t))}markerToHighlight(t){return this.add(N5(t))}markerToData(t){return this.add(z5(t))}}function Yf(){return(i,t,e)=>{if(!e.consumable.consume(t.item,i.name))return;const n=e.writer,o=e.mapper.toViewPosition(t.range.start),r=n.createText(t.item.data);n.insert(o,r)}}function Zf(){return(i,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function u5(){return(i,t,e)=>{const n=e.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),r=e.mapper.toViewPosition(o,{isPhantom:!0}),s=e.writer.createRange(n,r),a=e.writer.remove(s.getTrimmed());for(const c of e.writer.createRangeIn(a).getItems())e.mapper.unbindViewElement(c,{defer:!0})}}function Qf(i,t){const e=i.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function h5(){return(i,t,e)=>{const n=t.selection;if(n.isCollapsed||!e.consumable.consume(n,"selection"))return;const o=[];for(const r of n.getRanges())o.push(e.mapper.toViewRange(r));e.writer.setSelection(o,{backward:n.isBackward})}}function m5(){return(i,t,e)=>{const n=t.selection;if(!n.isCollapsed||!e.consumable.consume(n,"selection"))return;const o=e.writer,r=n.getFirstPosition(),s=e.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)}}function g5(){return(i,t,e)=>{const n=e.writer,o=n.document.selection;for(const r of o.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&e.writer.mergeAttributes(r.start);n.setSelection(null)}}function f5(i){return(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const o=i(e.attributeOldValue,n,e),r=i(e.attributeNewValue,n,e);if(!o&&!r)return;n.consumable.consume(e.item,t.name);const s=n.writer,a=s.document.selection;if(e.item instanceof tn||e.item instanceof nn)s.wrap(a.getFirstRange(),r);else{let c=n.mapper.toViewRange(e.range);e.attributeOldValue!==null&&o&&(c=s.unwrap(c,o)),e.attributeNewValue!==null&&r&&s.wrap(c,r)}}}function p5(i,t=j5){return(e,n,o)=>{if(!t(n.item,o.consumable,{preflight:!0}))return;const r=i(n.item,o,n);if(!r)return;t(n.item,o.consumable);const s=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,r),o.writer.insert(s,r),o.convertAttributes(n.item),op(r,n.item.getChildren(),o,{reconversion:n.reconversion})}}function b5(i,t){return(e,n,o)=>{if(!t(n.item,o.consumable,{preflight:!0}))return;const r=new Map;o.writer._registerSlotFactory(R5(n.item,r,o));const s=i(n.item,o,n);if(o.writer._clearSlotFactory(),!s)return;O5(n.item,r,o),t(n.item,o.consumable);const a=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,s),o.writer.insert(a,s),o.convertAttributes(n.item),V5(s,r,o,{reconversion:n.reconversion})}}function k5(i){return(t,e,n)=>{e.isOpening=!0;const o=i(e,n);e.isOpening=!1;const r=i(e,n);if(!o||!r)return;const s=e.markerRange;if(s.isCollapsed&&!n.consumable.consume(s,t.name))return;for(const l of s)if(!n.consumable.consume(l.item,t.name))return;const a=n.mapper,c=n.writer;c.insert(a.toViewPosition(s.start),o),n.mapper.bindElementToMarker(o,e.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),r),n.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}function w5(){return(i,t,e)=>{const n=e.mapper.markerNameToElements(t.markerName);if(n){for(const o of n)e.mapper.unbindElementFromMarkerName(o,t.markerName),e.writer.clear(e.writer.createRangeOn(o),o);e.writer.clearClonedElementsGroup(t.markerName),i.stop()}}}function A5(i){return(t,e,n)=>{const o=i(e.markerName,n);if(!o)return;const r=e.markerRange;n.consumable.consume(r,t.name)&&(Jf(r,!1,n,e,o),Jf(r,!0,n,e,o),t.stop())}}function Jf(i,t,e,n,o){const r=t?i.start:i.end,s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){let l,d;t&&s||!t&&!a?(l=s,d=!0):(l=a,d=!1);const u=e.mapper.toViewElement(l);if(u){C5(u,t,d,e,n,o);return}}const c=e.mapper.toViewPosition(r);_5(c,t,e,n,o)}function C5(i,t,e,n,o,r){const s=`data-${r.group}-${t?"start":"end"}-${e?"before":"after"}`,a=i.hasAttribute(s)?i.getAttribute(s).split(","):[];a.unshift(r.name),n.writer.setAttribute(s,a.join(","),i),n.mapper.bindElementToMarker(i,o.markerName)}function _5(i,t,e,n,o){const r=`${o.group}-${t?"start":"end"}`,s=o.name?{name:o.name}:null,a=e.writer.createUIElement(r,s);e.writer.insert(i,a),e.mapper.bindElementToMarker(a,n.markerName)}function v5(i){return(t,e,n)=>{const o=i(e.markerName,n);if(!o)return;const r=n.mapper.markerNameToElements(e.markerName);if(!r)return;for(const a of r)n.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("containerElement")?(s(`data-${o.group}-start-before`,a),s(`data-${o.group}-start-after`,a),s(`data-${o.group}-end-before`,a),s(`data-${o.group}-end-after`,a)):n.writer.clear(n.writer.createRangeOn(a),a);n.writer.clearClonedElementsGroup(e.markerName),t.stop();function s(a,c){if(c.hasAttribute(a)){const l=new Set(c.getAttribute(a).split(","));l.delete(o.name),l.size==0?n.writer.removeAttribute(a,c):n.writer.setAttribute(a,Array.from(l).join(","),c)}}}}function y5(i){return(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const o=i(e.attributeOldValue,n,e),r=i(e.attributeNewValue,n,e);if(!o&&!r)return;n.consumable.consume(e.item,t.name);const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new v("conversion-attribute-to-attribute-on-text",n.dispatcher,e);if(e.attributeOldValue!==null&&o)if(o.key=="class"){const c=Vt(o.value);for(const l of c)a.removeClass(l,s)}else if(o.key=="style"){const c=Object.keys(o.value);for(const l of c)a.removeStyle(l,s)}else a.removeAttribute(o.key,s);if(e.attributeNewValue!==null&&r)if(r.key=="class"){const c=Vt(r.value);for(const l of c)a.addClass(l,s)}else if(r.key=="style"){const c=Object.keys(r.value);for(const l of c)a.setStyle(l,r.value[l],s)}else a.setAttribute(r.key,r.value,s)}}function x5(i){return(t,e,n)=>{if(!e.item||!(e.item instanceof tn||e.item instanceof nn)&&!e.item.is("$textProxy"))return;const o=hd(i,e,n);if(!o||!n.consumable.consume(e.item,t.name))return;const r=n.writer,s=Qf(r,o),a=r.document.selection;if(e.item instanceof tn||e.item instanceof nn)r.wrap(a.getFirstRange(),s);else{const c=n.mapper.toViewRange(e.range),l=r.wrap(c,s);for(const d of l.getItems())if(d.is("attributeElement")&&d.isSimilar(s)){n.mapper.bindElementToMarker(d,e.markerName);break}}}}function E5(i){return(t,e,n)=>{if(!e.item||!(e.item instanceof wt))return;const o=hd(i,e,n);if(!o||!n.consumable.test(e.item,t.name))return;const r=n.mapper.toViewElement(e.item);if(r&&r.getCustomProperty("addHighlight")){n.consumable.consume(e.item,t.name);for(const a of z._createIn(e.item))n.consumable.consume(a.item,t.name);r.getCustomProperty("addHighlight")(r,o,n.writer),n.mapper.bindElementToMarker(r,e.markerName)}}}function D5(i){return(t,e,n)=>{if(e.markerRange.isCollapsed)return;const o=hd(i,e,n);if(!o)return;const r=Qf(n.writer,o),s=n.mapper.markerNameToElements(e.markerName);if(s){for(const a of s)n.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,o.id,n.writer);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function T5(i){const t=Xf(i.model),e=ur(i.view,"container");return t.attributes.length&&(t.children=!0),n=>{n.on(`insert:${t.name}`,p5(e,ip(t)),{priority:i.converterPriority||"normal"}),(t.children||t.attributes.length)&&n.on("reduceChanges",np(t),{priority:"low"})}}function S5(i){const t=Xf(i.model),e=ur(i.view,"container");return t.children=!0,n=>{if(n._conversionApi.schema.checkChild(t.name,"$text"))throw new v("conversion-element-to-structure-disallowed-text",n,{elementName:t.name});n.on(`insert:${t.name}`,b5(e,ip(t)),{priority:i.converterPriority||"normal"}),n.on("reduceChanges",np(t),{priority:"low"})}}function I5(i){i=Zn(i);let t=i.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const o of t.values)i.view[o]=ur(i.view[o],"attribute");else i.view=ur(i.view,"attribute");const n=tp(i);return o=>{o.on(e,f5(n),{priority:i.converterPriority||"normal"})}}function M5(i){i=Zn(i);let t=i.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const o of t.values)i.view[o]=ep(i.view[o]);else i.view=ep(i.view);const n=tp(i);return o=>{o.on(e,y5(n),{priority:i.converterPriority||"normal"})}}function B5(i){const t=ur(i.view,"ui");return e=>{e.on(`addMarker:${i.model}`,k5(t),{priority:i.converterPriority||"normal"}),e.on(`removeMarker:${i.model}`,w5(),{priority:i.converterPriority||"normal"})}}function z5(i){i=Zn(i);const t=i.model;let e=i.view;return e||(e=n=>({group:t,name:n.substr(i.model.length+1)})),n=>{n.on(`addMarker:${t}`,A5(e),{priority:i.converterPriority||"normal"}),n.on(`removeMarker:${t}`,v5(e),{priority:i.converterPriority||"normal"})}}function N5(i){return t=>{t.on(`addMarker:${i.model}`,x5(i.view),{priority:i.converterPriority||"normal"}),t.on(`addMarker:${i.model}`,E5(i.view),{priority:i.converterPriority||"normal"}),t.on(`removeMarker:${i.model}`,D5(i.view),{priority:i.converterPriority||"normal"})}}function Xf(i){return typeof i=="string"&&(i={name:i}),i.attributes?Array.isArray(i.attributes)||(i.attributes=[i.attributes]):i.attributes=[],i.children=!!i.children,i}function ur(i,t){return typeof i=="function"?i:(e,n)=>L5(i,n,t)}function L5(i,t,e){typeof i=="string"&&(i={name:i});let n;const o=t.writer,r=Object.assign({},i.attributes);if(e=="container")n=o.createContainerElement(i.name,r);else if(e=="attribute"){const s={priority:i.priority||bi.DEFAULT_PRIORITY};n=o.createAttributeElement(i.name,r,s)}else n=o.createUIElement(i.name,r);if(i.styles){const s=Object.keys(i.styles);for(const a of s)o.setStyle(a,i.styles[a],n)}if(i.classes){const s=i.classes;if(typeof s=="string")o.addClass(s,n);else for(const a of s)o.addClass(a,n)}return n}function tp(i){return i.model.values?(t,e,n)=>{const o=i.view[t];return o?o(t,e,n):null}:i.view}function ep(i){return typeof i=="string"?t=>({key:i,value:t}):typeof i=="object"?i.value?()=>i:t=>({key:i.key,value:t}):i}function hd(i,t,e){const n=typeof i=="function"?i(t,e):i;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function P5(i){return(t,e)=>{if(!t.is("element",i.name))return!1;if(e.type=="attribute"){if(i.attributes.includes(e.attributeKey))return!0}else if(i.children)return!0;return!1}}function np(i){const t=P5(i);return(e,n)=>{const o=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const r of n.changes){const s=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!s||!t(s,r)){o.push(r);continue}if(!n.reconvertedElements.has(s)){n.reconvertedElements.add(s);const a=P._createBefore(s);let c=o.length;for(let l=o.length-1;l>=0;l--){const d=o[l],m=(d.type=="attribute"?d.range.start:d.position).compareWith(a);if(m=="before"||d.type=="remove"&&m=="same")break;c=l}o.splice(c,0,{type:"remove",name:s.name,position:a,length:1},{type:"reinsert",name:s.name,position:a,length:1})}}n.changes=o}}function ip(i){return(t,e,n={})=>{const o=["insert"];for(const r of i.attributes)t.hasAttribute(r)&&o.push(`attribute:${r}`);return o.every(r=>e.test(t,r))?(n.preflight||o.forEach(r=>e.consume(t,r)),!0):!1}}function R5(i,t,e){return(n,o)=>{const r=n.createContainerElement("$slot");let s=null;if(o==="children")s=Array.from(i.getChildren());else if(typeof o=="function")s=Array.from(i.getChildren()).filter(a=>o(a));else throw new v("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:o});return t.set(r,s),r}}function O5(i,t,e){const n=Array.from(t.values()).flat(),o=new Set(n);if(o.size!=n.length)throw new v("conversion-slot-filter-overlap",e.dispatcher,{element:i});if(o.size!=i.childCount)throw new v("conversion-slot-filter-incomplete",e.dispatcher,{element:i})}function V5(i,t,e,n){e.mapper.on("modelToViewPosition",s,{priority:"highest"});let o=null,r=null;for([o,r]of t)op(i,r,e,n),e.writer.move(e.writer.createRangeIn(o),e.writer.createPositionBefore(o)),e.writer.remove(o);e.mapper.off("modelToViewPosition",s);function s(a,c){const l=c.modelPosition.nodeAfter,d=r.indexOf(l);d<0||(c.viewPosition=c.mapper.findPositionIn(o,d))}}function op(i,t,e,n){for(const o of t)F5(i.root,o,e,n)||e.convertItem(o)}function F5(i,t,e,n){const{writer:o,mapper:r}=e;if(!n.reconversion)return!1;const s=r.toViewElement(t);return!s||s.root==i||!e.canReuseView(s)?!1:(o.move(o.createRangeOn(s),r.toViewPosition(P._createBefore(t))),!0)}function j5(i,t,{preflight:e}={}){return e?t.test(i,"insert"):t.consume(i,"insert")}function rp(i){const{schema:t,document:e}=i.model;for(const n of e.getRootNames()){const o=e.getRoot(n);if(o.isEmpty&&!t.checkChild(o,"$text")&&t.checkChild(o,"paragraph"))return i.insertElement("paragraph",o),!0}return!1}function sp(i,t,e){const n=e.createContext(i);return!(!e.checkChild(n,"paragraph")||!e.checkChild(n.push("paragraph"),t))}function ap(i,t){const e=t.createElement("paragraph");return t.insert(e,i),t.createPositionAt(e,0)}class H5 extends Kf{elementToElement(t){return this.add(lp(t))}elementToAttribute(t){return this.add(G5(t))}attributeToAttribute(t){return this.add(q5(t))}elementToMarker(t){return this.add($5(t))}dataToMarker(t){return this.add(K5(t))}}function cp(){return(i,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:n,modelCursor:o}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=n,t.modelCursor=o}}}function U5(){return(i,t,{schema:e,consumable:n,writer:o})=>{let r=t.modelCursor;if(!n.test(t.viewItem))return;if(!e.checkChild(r,"$text")){if(!sp(r,"$text",e)||t.viewItem.data.trim().length==0)return;const a=r.nodeBefore;r=ap(r,o),a&&a.is("element","$marker")&&(o.move(o.createRangeOn(a),r),r=o.createPositionAfter(a))}n.consume(t.viewItem);const s=o.createText(t.viewItem.data);o.insert(s,r),t.modelRange=o.createRange(r,r.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}}function W5(i,t){return(e,n)=>{const o=n.newSelection,r=[];for(const a of o.getRanges())r.push(t.toModelRange(a));const s=i.createSelection(r,{backward:o.isBackward});s.isEqual(i.document.selection)||i.change(a=>{a.setSelection(s)})}}function lp(i){i=Zn(i);const t=gd(i),e=md(i.view),n=e?`element:${e}`:"element";return o=>{o.on(n,t,{priority:i.converterPriority||"normal"})}}function G5(i){i=Zn(i),dp(i);const t=up(i,!1),e=md(i.view),n=e?`element:${e}`:"element";return o=>{o.on(n,t,{priority:i.converterPriority||"low"})}}function q5(i){i=Zn(i);let t=null;(typeof i.view=="string"||i.view.key)&&(t=Q5(i)),dp(i,t);const e=up(i,!0);return n=>{n.on("element",e,{priority:i.converterPriority||"low"})}}function $5(i){const t=tD(i.model);return lp(ie(U({},i),{model:t}))}function K5(i){i=Zn(i),i.model||(i.model=o=>o?i.view+":"+o:i.view);const t={view:i.view,model:i.model},e=gd(hp(t,"start")),n=gd(hp(t,"end"));return o=>{o.on(`element:${i.view}-start`,e,{priority:i.converterPriority||"normal"}),o.on(`element:${i.view}-end`,n,{priority:i.converterPriority||"normal"});const r=we.get("low"),s=we.get("highest"),a=we.get(i.converterPriority)/s;o.on("element",Y5(t),{priority:r+a})}}function Y5(i){return(t,e,n)=>{const o=`data-${i.view}`;if(!n.consumable.test(e.viewItem,{attributes:o+"-end-after"})&&!n.consumable.test(e.viewItem,{attributes:o+"-start-after"})&&!n.consumable.test(e.viewItem,{attributes:o+"-end-before"})&&!n.consumable.test(e.viewItem,{attributes:o+"-start-before"}))return;e.modelRange||Object.assign(e,n.convertChildren(e.viewItem,e.modelCursor)),n.consumable.consume(e.viewItem,{attributes:o+"-end-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(o+"-end-after").split(",")),n.consumable.consume(e.viewItem,{attributes:o+"-start-after"})&&r(e.modelRange.end,e.viewItem.getAttribute(o+"-start-after").split(",")),n.consumable.consume(e.viewItem,{attributes:o+"-end-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(o+"-end-before").split(",")),n.consumable.consume(e.viewItem,{attributes:o+"-start-before"})&&r(e.modelRange.start,e.viewItem.getAttribute(o+"-start-before").split(","));function r(s,a){for(const c of a){const l=i.model(c,n),d=n.writer.createElement("$marker",{"data-name":l});n.writer.insert(d,s),e.modelCursor.isEqual(s)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(s,1),e.modelRange=e.modelRange._getTransformedByInsertion(s,1)[0]}}}}function md(i){return typeof i=="string"?i:typeof i=="object"&&typeof i.name=="string"?i.name:null}function gd(i){const t=new Fe(i.view);return(e,n,o)=>{const r=t.match(n.viewItem);if(!r)return;const s=r.match;if(s.name=!0,!o.consumable.test(n.viewItem,s))return;const a=Z5(i.model,n.viewItem,o);a&&o.safeInsert(a,n.modelCursor)&&(o.consumable.consume(n.viewItem,s),o.convertChildren(n.viewItem,a),o.updateConversionResult(a,n))}}function Z5(i,t,e){return i instanceof Function?i(t,e):e.writer.createElement(i)}function Q5(i){typeof i.view=="string"&&(i.view={key:i.view});const t=i.view.key;let e;if(t=="class"||t=="style")e={[t=="class"?"classes":"styles"]:i.view.value};else{const n=typeof i.view.value=="undefined"?/[\s\S]*/:i.view.value;e={attributes:{[t]:n}}}return i.view.name&&(e.name=i.view.name),i.view=e,t}function dp(i,t=null){const e=t===null?!0:r=>r.getAttribute(t),n=typeof i.model!="object"?i.model:i.model.key,o=typeof i.model!="object"||typeof i.model.value=="undefined"?e:i.model.value;i.model={key:n,value:o}}function up(i,t){const e=new Fe(i.view);return(n,o,r)=>{if(!o.modelRange&&t)return;const s=e.match(o.viewItem);if(!s||(J5(i.view,o.viewItem)?s.match.name=!0:delete s.match.name,!r.consumable.test(o.viewItem,s.match)))return;const a=i.model.key,c=typeof i.model.value=="function"?i.model.value(o.viewItem,r):i.model.value;if(c===null)return;o.modelRange||Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor)),X5(o.modelRange,{key:a,value:c},t,r)&&(r.consumable.test(o.viewItem,{name:!0})&&(s.match.name=!0),r.consumable.consume(o.viewItem,s.match))}}function J5(i,t){const e=typeof i=="function"?i(t):i;return typeof e=="object"&&!md(e)?!1:!e.classes&&!e.attributes&&!e.styles}function X5(i,t,e,n){let o=!1;for(const r of Array.from(i.getItems({shallow:e})))n.schema.checkAttribute(r,t.key)&&(o=!0,!r.hasAttribute(t.key)&&n.writer.setAttribute(t.key,t.value,r));return o}function tD(i){return(t,e)=>{const n=typeof i=="string"?i:i(t,e);return e.writer.createElement("$marker",{"data-name":n})}}function hp(i,t){const e=(n,o)=>{const r=n.getAttribute("name"),s=i.model(r,o);return o.writer.createElement("$marker",{"data-name":s})};return{view:`${i.view}-${t}`,model:e}}function eD(i){i.document.registerPostFixer(t=>nD(t,i))}function nD(i,t){const e=t.document.selection,n=t.schema,o=[];let r=!1;for(const s of e.getRanges()){const a=mp(s,n);a&&!a.isEqual(s)?(o.push(a),r=!0):o.push(s)}return r&&i.setSelection(sD(o),{backward:e.isBackward}),!1}function mp(i,t){return i.isCollapsed?iD(i,t):oD(i,t)}function iD(i,t){const e=i.start,n=t.getNearestSelectionRange(e);if(!n){const r=e.getAncestors().reverse().find(s=>t.isObject(s));return r?z._createOn(r):null}if(!n.isCollapsed)return n;const o=n.start;return e.isEqual(o)?null:new z(o)}function oD(i,t){const{start:e,end:n}=i,o=t.checkChild(e,"$text"),r=t.checkChild(n,"$text"),s=t.getLimitElement(e),a=t.getLimitElement(n);if(s===a){if(o&&r)return null;if(rD(e,n,t)){const u=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),b=n.nodeBefore&&t.isSelectable(n.nodeBefore)?null:t.getNearestSelectionRange(n,"backward"),A=u?u.start:e,T=b?b.end:n;return new z(A,T)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const d=e.nodeAfter&&n.nodeBefore&&e.nodeAfter.parent===n.nodeBefore.parent,u=c&&(!d||!fp(e.nodeAfter,t)),m=l&&(!d||!fp(n.nodeBefore,t));let b=e,A=n;return u&&(b=P._createBefore(gp(s,t))),m&&(A=P._createAfter(gp(a,t))),new z(b,A)}return null}function gp(i,t){let e=i,n=e;for(;t.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function rD(i,t,e){const n=i.nodeAfter&&!e.isLimit(i.nodeAfter)||e.checkChild(i,"$text"),o=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return n||o}function sD(i){const t=[...i],e=new Set;let n=1;for(;n<t.length;){const r=t[n],s=t.slice(0,n);for(const[a,c]of s.entries())if(!e.has(a)){if(r.isEqual(c))e.add(a);else if(r.isIntersecting(c)){e.add(a),e.add(n);const l=r.getJoined(c);t.push(l)}}n++}return t.filter((r,s)=>!e.has(s))}function fp(i,t){return i&&t.isSelectable(i)}class aD extends ut(){constructor(t,e){super(),this.model=t,this.view=new qE(e),this.mapper=new Uf,this.downcastDispatcher=new Wf({mapper:this.mapper,schema:t.schema});const n=this.model.document,o=n.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(s=>{this.downcastDispatcher.convertChanges(n.differ,r,s),this.downcastDispatcher.convertSelection(o,r,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",W5(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",cD(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Yf(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Zf(),{priority:"lowest"}),this.downcastDispatcher.on("remove",u5(),{priority:"low"}),this.downcastDispatcher.on("selection",g5(),{priority:"high"}),this.downcastDispatcher.on("selection",h5(),{priority:"low"}),this.downcastDispatcher.on("selection",m5(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(s=>{if(s.rootName=="$graveyard")return null;const a=new cf(this.view.document,s.name);return a.rootName=s.rootName,this.mapper.bindElements(s,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e=typeof t=="string"?t:t.name,n=this.model.markers.get(e);if(!n)throw new v("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}function cD(i,t,e){return(n,o)=>{if(!(e.document.isComposing&&!p.isAndroid))for(let r=0;r<o.targetRanges.length;r++){const s=o.targetRanges[r],a=i.toModelRange(s),c=mp(a,t);!c||c.isEqual(a)||(o.targetRanges[r]=i.toViewRange(c))}}}class hr{constructor(){this._consumables=new Map}add(t,e){let n;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?n=this._consumables.get(t):(n=new lD(t),this._consumables.set(t,n)),n.add(e)}test(t,e){const n=this._consumables.get(t);return n===void 0?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return this.test(t,e)?(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0):!1}revert(t,e){const n=this._consumables.get(t);n!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const s of n)s=="style"||s=="class"||e.attributes.push(s);const o=t.getClassNames();for(const s of o)e.classes.push(s);const r=t.getStyleNames();for(const s of r)e.styles.push(s);return e}static createFrom(t,e){if(e||(e=new hr),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,hr.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=hr.createFrom(n,e);return e}}const oa=["attributes","classes","styles"];class lD{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of oa)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of oa)if(e in t){const n=this._test(e,t[e]);if(n!==!0)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of oa)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of oa)e in t&&this._revert(e,t[e])}_add(t,e){const n=se(e)?e:[e],o=this._consumables[t];for(const r of n){if(t==="attributes"&&(r==="class"||r==="style"))throw new v("viewconsumable-invalid-attribute",this);if(o.set(r,!0),t==="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(r))o.set(s,!0)}}_test(t,e){const n=se(e)?e:[e],o=this._consumables[t];for(const r of n)if(t==="attributes"&&(r==="class"||r==="style")){const s=r=="class"?"classes":"styles",a=this._test(s,[...this._consumables[s].keys()]);if(a!==!0)return a}else{const s=o.get(r);if(s===void 0)return null;if(!s)return!1}return!0}_consume(t,e){const n=se(e)?e:[e],o=this._consumables[t];for(const r of n)if(t==="attributes"&&(r==="class"||r==="style")){const s=r=="class"?"classes":"styles";this._consume(s,[...this._consumables[s].keys()])}else if(o.set(r,!1),t=="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(r))o.set(s,!1)}_revert(t,e){const n=se(e)?e:[e],o=this._consumables[t];for(const r of n)if(t==="attributes"&&(r==="class"||r==="style")){const s=r=="class"?"classes":"styles";this._revert(s,[...this._consumables[s].keys()])}else o.get(r)===!1&&o.set(r,!0)}}class dD extends ut(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new Ci(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new Ci(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new v("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new v("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return typeof t=="string"?e=t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?e="$text":e=t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!!(e&&e.isBlock)}isLimit(t){const e=this.getDefinition(t);return e?!!(e.isLimit||e.isObject):!1}isObject(t){const e=this.getDefinition(t);return e?!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent):!1}isInline(t){const e=this.getDefinition(t);return!!(e&&e.isInline)}isSelectable(t){const e=this.getDefinition(t);return e?!!(e.isSelectable||e.isObject):!1}isContent(t){const e=this.getDefinition(t);return e?!!(e.isContent||e.isObject):!1}checkChild(t,e){return e?this._checkContextMatch(e,t):!1}checkAttribute(t,e){const n=this.getDefinition(t.last);return n?n.allowAttributes.includes(e):!1}checkMerge(t,e){if(t instanceof P){const n=t.nodeBefore,o=t.nodeAfter;if(!(n instanceof wt))throw new v("schema-check-merge-no-element-before",this);if(!(o instanceof wt))throw new v("schema-check-merge-no-element-after",this);return this.checkMerge(n,o)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,o])=>{if(!o)return;const r=t(n,o);typeof r=="boolean"&&(e.stop(),e.return=r)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,o])=>{const r=t(n,o);typeof r=="boolean"&&(e.stop(),e.return=r)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(t instanceof P?e=t.parent:e=(t instanceof z?[t]:Array.from(t.getRanges())).reduce((o,r)=>{const s=r.getCommonAncestor();return o?o.getCommonAncestor(s,{includeSelf:!0}):s},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const o=[...t.getFirstPosition().getAncestors(),new Dt("",t.getAttributes())];return this.checkAttribute(o,e)}else{const n=t.getRanges();for(const o of n)for(const r of o)if(this.checkAttribute(r.item,e))return!0}return!1}*getValidRanges(t,e){t=ED(t);for(const n of t)yield*Gt(this._getValidRangesForRange(n,e))}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new z(t);let n,o;const r=t.getAncestors().reverse().find(s=>this.isLimit(s))||t.root;(e=="both"||e=="backward")&&(n=new mn({boundaries:z._createIn(r),startPosition:t,direction:"backward"})),(e=="both"||e=="forward")&&(o=new mn({boundaries:z._createIn(r),startPosition:t}));for(const s of xD(n,o)){const a=s.walker==n?"elementEnd":"elementStart",c=s.value;if(c.type==a&&this.isObject(c.item))return z._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new z(c.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const o=n.model;for(const[r,s]of Object.entries(e))o.schema.checkAttribute(t,r)&&n.setAttribute(r,s,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))pp(this,n,e);else{const r=z._createIn(n).getPositions();for(const s of r){const a=s.nodeBefore||s.parent;pp(this,a,e)}}}getAttributesWithProperty(t,e,n){const o={};for(const[r,s]of t.getAttributes()){const a=this.getAttributeProperties(r);a[e]!==void 0&&(n===void 0||n===a[e])&&(o[r]=s)}return o}createContext(t){return new Ci(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const o of n)t[o]=uD(e[o],o);for(const o of n)hD(t,o);for(const o of n)mD(t,o);for(const o of n)gD(t,o);for(const o of n)fD(t,o),pD(t,o);for(const o of n)bD(t,o),kD(t,o),wD(t,o);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const o=e.getItem(n);if(t.allowIn.includes(o.name)){if(n==0)return!0;{const r=this.getDefinition(o);return this._checkContextMatch(r,e,n-1)}}else return!1}*_getValidRangesForRange(t,e){let n=t.start,o=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*Gt(this._getValidRangesForRange(z._createIn(r),e))),this.checkAttribute(r,e)||(n.isEqual(o)||(yield new z(n,o)),n=P._createAfter(r)),o=P._createAfter(r);n.isEqual(o)||(yield new z(n,o))}}class Ci{constructor(t){if(t instanceof Ci)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map(yD)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Ci([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*Gt(this._items.map(t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function uD(i,t){const e={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return AD(i,e),_i(i,e,"allowIn"),_i(i,e,"allowContentOf"),_i(i,e,"allowWhere"),_i(i,e,"allowAttributes"),_i(i,e,"allowAttributesOf"),_i(i,e,"allowChildren"),_i(i,e,"inheritTypesFrom"),CD(i,e),e}function hD(i,t){const e=i[t];for(const n of e.allowChildren){const o=i[n];o&&o.allowIn.push(t)}e.allowChildren.length=0}function mD(i,t){for(const e of i[t].allowContentOf)i[e]&&_D(i,e).forEach(o=>{o.allowIn.push(t)});delete i[t].allowContentOf}function gD(i,t){for(const e of i[t].allowWhere){const n=i[e];if(n){const o=n.allowIn;i[t].allowIn.push(...o)}}delete i[t].allowWhere}function fD(i,t){for(const e of i[t].allowAttributesOf){const n=i[e];if(n){const o=n.allowAttributes;i[t].allowAttributes.push(...o)}}delete i[t].allowAttributesOf}function pD(i,t){const e=i[t];for(const n of e.inheritTypesFrom){const o=i[n];if(o){const r=Object.keys(o).filter(s=>s.startsWith("is"));for(const s of r)s in e||(e[s]=o[s])}}delete e.inheritTypesFrom}function bD(i,t){const e=i[t],n=e.allowIn.filter(o=>i[o]);e.allowIn=Array.from(new Set(n))}function kD(i,t){const e=i[t];for(const n of e.allowIn)i[n].allowChildren.push(t)}function wD(i,t){const e=i[t];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function AD(i,t){for(const e of i){const n=Object.keys(e).filter(o=>o.startsWith("is"));for(const o of n)t[o]=!!e[o]}}function _i(i,t,e){for(const n of i){const o=n[e];typeof o=="string"?t[e].push(o):Array.isArray(o)&&t[e].push(...o)}}function CD(i,t){for(const e of i){const n=e.inheritAllFrom;n&&(t.allowContentOf.push(n),t.allowWhere.push(n),t.allowAttributesOf.push(n),t.inheritTypesFrom.push(n))}}function _D(i,t){const e=i[t];return vD(i).filter(n=>n.allowIn.includes(e.name))}function vD(i){return Object.keys(i).map(t=>i[t])}function yD(i){return typeof i=="string"||i.is("documentFragment")?{name:typeof i=="string"?i:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:i.is("element")?i.name:"$text",*getAttributeKeys(){yield*Gt(i.getAttributeKeys())},getAttribute(t){return i.getAttribute(t)}}}function*xD(i,t){let e=!1;for(;!e;){if(e=!0,i){const n=i.next();n.done||(e=!1,yield{walker:i,value:n.value})}if(t){const n=t.next();n.done||(e=!1,yield{walker:t,value:n.value})}}}function*ED(i){for(const t of i)yield*Gt(t.getMinimalFlatRanges())}function pp(i,t,e){for(const n of t.getAttributeKeys())i.checkAttribute(t,n)||e.removeAttribute(n,t)}class DD extends kt(){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=ie(U({},t),{consumable:null,writer:null,store:null,convertItem:(e,n)=>this._convertItem(e,n),convertChildren:(e,n)=>this._convertChildren(e,n),safeInsert:(e,n)=>this._safeInsert(e,n),updateConversionResult:(e,n)=>this._updateConversionResult(e,n),splitToAllowedParent:(e,n)=>this._splitToAllowedParent(e,n),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)})}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=SD(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=hr.createFrom(t),this.conversionApi.store={};const{modelRange:o}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(o){this._removeEmptyElements();for(const s of Array.from(this._modelCursor.parent.getChildren()))e.append(s,r);r.markers=TD(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof z))throw new v("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:P._createAt(e,0);const o=new z(n);for(const r of Array.from(t.getChildren())){const s=this._convertItem(r,n);s.modelRange instanceof z&&(o.end=s.modelRange.end,n=s.modelCursor)}return{modelRange:o,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return n?(this.conversionApi.writer.insert(t,n.position),!0):!1}_updateConversionResult(t,e){const n=this._getSplitParts(t),o=this.conversionApi.writer;e.modelRange||(e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(t);r?e.modelCursor=o.createPositionAt(r,0):e.modelCursor=e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:o}=this.conversionApi;let r=n.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return sp(e,t,n)?{position:ap(e,o)}:null;const s=this.conversionApi.writer.split(e,r),a=[];for(const l of s.range.getWalker())if(l.type=="elementEnd")a.push(l.item);else{const d=a.pop(),u=l.item;this._registerSplitPair(d,u)}const c=s.range.end.parent;return this._cursorParents.set(t,c),{position:s.position,cursorParent:c}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return this._splitParts.has(t)?e=this._splitParts.get(t):e=[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}function TD(i,t){const e=new Set,n=new Map,o=z._createIn(i).getItems();for(const r of o)r.is("element","$marker")&&e.add(r);for(const r of e){const s=r.getAttribute("data-name"),a=t.createPositionBefore(r);n.has(s)?n.get(s).end=a.clone():n.set(s,new z(a.clone())),t.remove(r)}return n}function SD(i,t){let e;for(const n of new Ci(i)){const o={};for(const s of n.getAttributeKeys())o[s]=n.getAttribute(s);const r=t.createElement(n.name,o);e&&t.insert(r,e),e=P._createAt(r,0)}return e}class ID{getHtml(t){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(t),n.innerHTML}}class MD{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Xs(t,{renderingMode:"data"}),this.htmlWriter=new ID}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}class BD extends kt(){constructor(t,e){super(),this.model=t,this.mapper=new Uf,this.downcastDispatcher=new Wf({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",Yf(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Zf(),{priority:"lowest"}),this.upcastDispatcher=new DD({schema:t.schema}),this.viewDocument=new Ys(e),this.stylesProcessor=e,this.htmlProcessor=new MD(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new uf(this.viewDocument),this.upcastDispatcher.on("text",U5(),{priority:"lowest"}),this.upcastDispatcher.on("element",cp(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",cp(),{priority:"lowest"}),ut().prototype.decorate.call(this,"init"),ut().prototype.decorate.call(this,"set"),ut().prototype.decorate.call(this,"get"),ut().prototype.decorate.call(this,"toView"),ut().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},rp)},{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new v("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(e);return o.isAttached()||_t("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(o,{ignoreWhitespaces:!0})?"":this.stringify(o,t)}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const r=z._createIn(t),s=new ki(n);this.mapper.bindElements(t,s);const a=t.is("documentFragment")?t.markers:zD(t);return this.downcastDispatcher.convert(r,a,o,e),s}init(t){if(this.model.document.version)throw new v("datacontroller-init-document-not-empty",this);let e={};if(typeof t=="string"?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new v("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const o of Object.keys(e)){const r=this.model.document.getRoot(o);n.insert(this.parse(e[o],r),r,0)}}),Promise.resolve()}set(t,e={}){let n={};if(typeof t=="string"?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new v("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(n)){const s=this.model.document.getRoot(r);o.remove(o.createRangeIn(s)),o.insert(this.parse(n[r],s),s,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}function zD(i){const t=[],e=i.root.document;if(!e)return new Map;const n=z._createIn(i);for(const o of e.model.markers){const r=o.getRange(),s=r.isCollapsed,a=r.start.isEqual(n.start)||r.end.isEqual(n.end);if(s&&a)t.push([o.name,r]);else{const c=n.getIntersection(r);c&&t.push([o.name,c])}}return t.sort(([o,r],[s,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(o)}}}),new Map(t)}class ND{constructor(t,e){this._helpers=new Map,this._downcast=Vt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Vt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new v("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new v("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of fd(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of fd(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of fd(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new v("conversion-group-exists",this);const o=n?new d5(e):new H5(e);this._helpers.set(t,o)}}function*fd(i){if(i.model.values)for(const t of i.model.values){const e={key:i.model.key,value:t},n=i.view[t],o=i.upcastAlso?i.upcastAlso[t]:void 0;yield*Gt(bp(e,n,o))}else yield*Gt(bp(i.model,i.view,i.upcastAlso))}function*bp(i,t,e){if(yield{model:i,view:t},e)for(const n of Vt(e))yield{model:i,view:n}}class Be{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function pd(i,t){const e=wp(t),n=e.reduce((s,a)=>s+a.offsetSize,0),o=i.parent;fr(i);const r=i.index;return o._insertChild(r,e),gr(o,r+e.length),gr(o,r),new z(i,i.getShiftedBy(n))}function kp(i){if(!i.isFlat)throw new v("operation-utils-remove-range-not-flat",this);const t=i.start.parent;fr(i.start),fr(i.end);const e=t._removeChildren(i.start.index,i.end.index-i.start.index);return gr(t,i.start.index),e}function mr(i,t){if(!i.isFlat)throw new v("operation-utils-move-range-not-flat",this);const e=kp(i);return t=t._getTransformedByDeletion(i.start,i.end.offset-i.start.offset),pd(t,e)}function LD(i,t,e){fr(i.start),fr(i.end);for(const n of i.getItems({shallow:!0})){const o=n.is("$textProxy")?n.textNode:n;e!==null?o._setAttribute(t,e):o._removeAttribute(t),gr(o.parent,o.index)}gr(i.end.parent,i.end.index)}function wp(i){const t=[];function e(n){if(typeof n=="string")t.push(new Dt(n));else if(n instanceof Xe)t.push(new Dt(n.data,n.getAttributes()));else if(n instanceof wi)t.push(n);else if(Ae(n))for(const o of n)e(o)}e(i);for(let n=1;n<t.length;n++){const o=t[n],r=t[n-1];o instanceof Dt&&r instanceof Dt&&Ap(o,r)&&(t.splice(n-1,2,new Dt(r.data+o.data,r.getAttributes())),n--)}return t}function gr(i,t){const e=i.getChild(t-1),n=i.getChild(t);if(e&&n&&e.is("$text")&&n.is("$text")&&Ap(e,n)){const o=new Dt(e.data+n.data,e.getAttributes());i._removeChildren(t-1,2),i._insertChild(t-1,o)}}function fr(i){const t=i.textNode,e=i.parent;if(t){const n=i.offset-t.startOffset,o=t.index;e._removeChildren(o,1);const r=new Dt(t.data.substr(0,n),t.getAttributes()),s=new Dt(t.data.substr(n),t.getAttributes());e._insertChild(o,[r,s])}}function Ap(i,t){const e=i.getAttributes(),n=t.getAttributes();for(const o of e){if(o[1]!==t.getAttribute(o[0]))return!1;n.next()}return n.next().done}class bt extends Be{constructor(t,e,n,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new bt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new bt(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new v("move-operation-nodes-do-not-exist",this);if(t===e&&n<o&&o<n+this.howMany)throw new v("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&re(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new v("move-operation-node-into-itself",this)}}_execute(){mr(z._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=P.fromJSON(t.sourcePosition,e),o=P.fromJSON(t.targetPosition,e);return new this(n,t.howMany,o,t.baseVersion)}}class ce extends Be{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new cr(wp(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new cr([...this.nodes].map(n=>n._clone(!0))),e=new ce(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new P(t,[0]);return new bt(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new v("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new cr([...t].map(e=>e._clone(!0))),pd(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const r of t.nodes)r.name?n.push(wt.fromJSON(r)):n.push(Dt.fromJSON(r));const o=new ce(P.fromJSON(t.position,e),n,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}class Tt extends Be{constructor(t,e,n,o,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new P(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new z(this.splitPosition,t)}clone(){return new Tt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new P(t,[0]);return new $t(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new v("split-operation-position-invalid",this);if(t.parent){if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new v("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new v("split-operation-graveyard-position-invalid",this)}else throw new v("split-operation-split-in-root",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)mr(z._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=t._clone();pd(this.insertionPosition,n)}const e=new z(P._createAt(t,this.splitPosition.offset),P._createAt(t,t.maxOffset));mr(e,this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new P(t.root,e,"toPrevious")}static fromJSON(t,e){const n=P.fromJSON(t.splitPosition,e),o=P.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?P.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,o,r,t.baseVersion)}}class $t extends Be{constructor(t,e,n,o,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new P(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new z(this.sourcePosition,t)}clone(){return new $t(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new P(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new Tt(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(t.parent)if(e.parent){if(this.howMany!=t.maxOffset)throw new v("merge-operation-how-many-invalid",this)}else throw new v("merge-operation-target-position-invalid",this);else throw new v("merge-operation-source-position-invalid",this)}_execute(){const t=this.sourcePosition.parent,e=z._createIn(t);mr(e,this.targetPosition),mr(z._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=P.fromJSON(t.sourcePosition,e),o=P.fromJSON(t.targetPosition,e),r=P.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,o,r,t.baseVersion)}}class xe extends Be{constructor(t,e,n,o,r,s){super(s),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=o}get type(){return"marker"}clone(){return new xe(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new xe(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new xe(t.name,t.oldRange?z.fromJSON(t.oldRange,e):null,t.newRange?z.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}function PD(i,t){return Pf(i,t)}const so=PD;class Zt extends Be{constructor(t,e,n,o,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=n===void 0?null:n,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new Zt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Zt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new v("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!so(t.getAttribute(this.key),this.oldValue))throw new v("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new v("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){so(this.oldValue,this.newValue)||LD(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new Zt(z.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ee extends Be{get type(){return"noop"}clone(){return new ee(this.baseVersion)}getReversed(){return new ee(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ee extends Be{constructor(t,e,n,o){super(o),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Ee(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ee(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(t instanceof wt){if(t.name!==this.oldName)throw new v("rename-operation-wrong-name",this)}else throw new v("rename-operation-wrong-position",this)}_execute(){const t=this.position.nodeAfter;t.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Ee(P.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class xn extends Be{constructor(t,e,n,o,r){super(r),this.root=t,this.key=e,this.oldValue=n===void 0?null:n,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new xn(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new xn(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new v("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new v("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new v("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new v("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new xn(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class gn extends Be{constructor(t,e,n,o,r){if(super(r),this.rootName=t,this.elementName=e,this.isAdd=n,this._document=o,!this._document.getRoot(this.rootName)){const s=this._document.createRoot(this.elementName,this.rootName);s._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new gn(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new gn(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const t=this._document.getRoot(this.rootName);if(t.isAttached()&&this.isAdd)throw new v("root-operation-root-attached",this);if(!t.isAttached()&&!this.isAdd)throw new v("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new gn(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const je={};je[Zt.className]=Zt,je[ce.className]=ce,je[xe.className]=xe,je[bt.className]=bt,je[ee.className]=ee,je[Be.className]=Be,je[Ee.className]=Ee,je[xn.className]=xn,je[gn.className]=gn,je[Tt.className]=Tt,je[$t.className]=$t;class RD{static fromJSON(t,e){return je[t.__className].fromJSON(t,e)}}const bd=new Map;function mt(i,t,e){let n=bd.get(i);n||(n=new Map,bd.set(i,n)),n.set(t,e)}function OD(i,t){const e=bd.get(i);return e&&e.has(t)?e.get(t):VD}function VD(i){return[i]}function Cp(i,t,e={}){const n=OD(i.constructor,t.constructor);try{return i=i.clone(),n(i,t,e)}catch(o){throw o}}function FD(i,t,e){i=i.slice(),t=t.slice();const n=new jD(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(i),n.setOriginalOperations(t);const o=n.originalOperations;if(i.length==0||t.length==0)return{operationsA:i,operationsB:t,originalOperations:o};const r=new WeakMap;for(const c of i)r.set(c,0);const s={nextBaseVersionA:i[i.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:i.length,originalOperationsBCount:t.length};let a=0;for(;a<i.length;){const c=i[a],l=r.get(c);if(l==t.length){a++;continue}const d=t[l],u=Cp(c,d,n.getContext(c,d,!0)),m=Cp(d,c,n.getContext(d,c,!1));n.updateRelation(c,d),n.setOriginalOperations(u,c),n.setOriginalOperations(m,d);for(const b of u)r.set(b,l+m.length);i.splice(a,1,...u),t.splice(l,1,...m)}if(e.padWithNoOps){const c=i.length-s.originalOperationsACount,l=t.length-s.originalOperationsBCount;vp(i,l-c),vp(t,c-l)}return _p(i,s.nextBaseVersionB),_p(t,s.nextBaseVersionA),{operationsA:i,operationsB:t,originalOperations:o}}class jD{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const o of t)this.originalOperations.set(o,n||o)}updateRelation(t,e){if(t instanceof bt)e instanceof $t?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof bt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof Tt){if(e instanceof $t)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof bt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=z._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const o=n.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:o,offset:r})}}}else if(t instanceof $t)e instanceof $t?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof Tt&&t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource");else if(t instanceof xe){const n=t.newRange;if(!n)return;if(e instanceof bt){const o=z._createFromPositionAndShift(e.sourcePosition,e.howMany),r=o.containsPosition(n.start)||o.start.isEqual(n.start),s=o.containsPosition(n.end)||o.end.isEqual(n.end);(r||s)&&!o.containsRange(n)&&this._setRelation(t,e,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()})}else if(e instanceof $t){const o=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),s=n.end.isEqual(e.deletionPosition),a=n.end.isEqual(e.sourcePosition);(o||r||s||a)&&this._setRelation(t,e,{wasInLeftElement:o,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:s,wasInRightElement:a})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),o=this._history.getUndoneOperation(n);if(!o)return null;const r=this.originalOperations.get(t),s=this._relations.get(r);return s&&s.get(o)||null}_setRelation(t,e,n){const o=this.originalOperations.get(t),r=this.originalOperations.get(e);let s=this._relations.get(o);s||(s=new Map,this._relations.set(o,s)),s.set(r,n)}}function _p(i,t){for(const e of i)e.baseVersion=t++}function vp(i,t){for(let e=0;e<t;e++)i.push(new ee(0))}mt(Zt,Zt,(i,t,e)=>{if(i.key===t.key&&i.range.start.hasSameParentAs(t.range.start)){const n=i.range.getDifference(t.range).map(r=>new Zt(r,i.key,i.oldValue,i.newValue,0)),o=i.range.getIntersection(t.range);return o&&e.aIsStrong&&n.push(new Zt(o,t.key,t.newValue,i.newValue,0)),n.length==0?[new ee(0)]:n}else return[i]}),mt(Zt,ce,(i,t)=>{if(i.range.start.hasSameParentAs(t.position)&&i.range.containsPosition(t.position)){const n=i.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(o=>new Zt(o,i.key,i.oldValue,i.newValue,i.baseVersion));if(t.shouldReceiveAttributes){const o=yp(t,i.key,i.oldValue);o&&n.unshift(o)}return n}return i.range=i.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[i]});function yp(i,t,e){const o=i.nodes.getNode(0).getAttribute(t);if(o==e)return null;const r=new z(i.position,i.position.getShiftedBy(i.howMany));return new Zt(r,t,o,e,0)}mt(Zt,$t,(i,t)=>{const e=[];i.range.start.hasSameParentAs(t.deletionPosition)&&(i.range.containsPosition(t.deletionPosition)||i.range.start.isEqual(t.deletionPosition))&&e.push(z._createFromPositionAndShift(t.graveyardPosition,1));const n=i.range._getTransformedByMergeOperation(t);return n.isCollapsed||e.push(n),e.map(o=>new Zt(o,i.key,i.oldValue,i.newValue,i.baseVersion))}),mt(Zt,bt,(i,t)=>HD(i.range,t).map(n=>new Zt(n,i.key,i.oldValue,i.newValue,i.baseVersion)));function HD(i,t){const e=z._createFromPositionAndShift(t.sourcePosition,t.howMany);let n=null,o=[];e.containsRange(i,!0)?n=i:i.start.hasSameParentAs(e.start)?(o=i.getDifference(e),n=i.getIntersection(e)):o=[i];const r=[];for(let s of o){s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);const a=t.getMovedRangeStart(),c=s.start.hasSameParentAs(a),l=s._getTransformedByInsertion(a,t.howMany,c);r.push(...l)}return n&&r.push(n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}mt(Zt,Tt,(i,t)=>{if(i.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||i.range.end.offset++,[i];if(i.range.start.hasSameParentAs(t.splitPosition)&&i.range.containsPosition(t.splitPosition)){const e=i.clone();return e.range=new z(t.moveTargetPosition.clone(),i.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),i.range.end=t.splitPosition.clone(),i.range.end.stickiness="toPrevious",[i,e]}return i.range=i.range._getTransformedBySplitOperation(t),[i]}),mt(ce,Zt,(i,t)=>{const e=[i];if(i.shouldReceiveAttributes&&i.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(i.position)){const n=yp(i,t.key,t.newValue);n&&e.push(n)}return e}),mt(ce,ce,(i,t,e)=>i.position.isEqual(t.position)&&e.aIsStrong?[i]:(i.position=i.position._getTransformedByInsertOperation(t),[i])),mt(ce,bt,(i,t)=>(i.position=i.position._getTransformedByMoveOperation(t),[i])),mt(ce,Tt,(i,t)=>(i.position=i.position._getTransformedBySplitOperation(t),[i])),mt(ce,$t,(i,t)=>(i.position=i.position._getTransformedByMergeOperation(t),[i])),mt(xe,ce,(i,t)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByInsertOperation(t)[0]),i.newRange&&(i.newRange=i.newRange._getTransformedByInsertOperation(t)[0]),[i])),mt(xe,xe,(i,t,e)=>{if(i.name==t.name)if(e.aIsStrong)i.oldRange=t.newRange?t.newRange.clone():null;else return[new ee(0)];return[i]}),mt(xe,$t,(i,t)=>(i.oldRange&&(i.oldRange=i.oldRange._getTransformedByMergeOperation(t)),i.newRange&&(i.newRange=i.newRange._getTransformedByMergeOperation(t)),[i])),mt(xe,bt,(i,t,e)=>{if(i.oldRange&&(i.oldRange=z._createFromRanges(i.oldRange._getTransformedByMoveOperation(t))),i.newRange){if(e.abRelation){const n=z._createFromRanges(i.newRange._getTransformedByMoveOperation(t));if(e.abRelation.side=="left"&&t.targetPosition.isEqual(i.newRange.start))return i.newRange.end=n.end,i.newRange.start.path=e.abRelation.path,[i];if(e.abRelation.side=="right"&&t.targetPosition.isEqual(i.newRange.end))return i.newRange.start=n.start,i.newRange.end.path=e.abRelation.path,[i]}i.newRange=z._createFromRanges(i.newRange._getTransformedByMoveOperation(t))}return[i]}),mt(xe,Tt,(i,t,e)=>{if(i.oldRange&&(i.oldRange=i.oldRange._getTransformedBySplitOperation(t)),i.newRange){if(e.abRelation){const n=i.newRange._getTransformedBySplitOperation(t);return i.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?i.newRange.start=P._createAt(t.insertionPosition):i.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement&&(i.newRange.start=P._createAt(t.moveTargetPosition)),i.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?i.newRange.end=P._createAt(t.moveTargetPosition):i.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?i.newRange.end=P._createAt(t.insertionPosition):i.newRange.end=n.end,[i]}i.newRange=i.newRange._getTransformedBySplitOperation(t)}return[i]}),mt($t,ce,(i,t)=>(i.sourcePosition.hasSameParentAs(t.position)&&(i.howMany+=t.howMany),i.sourcePosition=i.sourcePosition._getTransformedByInsertOperation(t),i.targetPosition=i.targetPosition._getTransformedByInsertOperation(t),[i])),mt($t,$t,(i,t,e)=>{if(i.sourcePosition.isEqual(t.sourcePosition)&&i.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),i.sourcePosition=new P(t.graveyardPosition.root,n),i.howMany=0,[i]}else return[new ee(0)];if(i.sourcePosition.isEqual(t.sourcePosition)&&!i.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const n=i.targetPosition.root.rootName=="$graveyard",o=t.targetPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&e.aIsStrong){const c=t.targetPosition._getTransformedByMergeOperation(t),l=i.targetPosition._getTransformedByMergeOperation(t);return[new bt(c,i.howMany,l,0)]}else return[new ee(0)]}return i.sourcePosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMergeOperation(t),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),(!i.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(t)),[i]}),mt($t,bt,(i,t,e)=>{const n=z._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&i.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(i.sourcePosition)?[new ee(0)]:(i.sourcePosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.sourcePosition.hasSameParentAs(t.sourcePosition)&&(i.howMany-=t.howMany),i.sourcePosition=i.sourcePosition._getTransformedByMoveOperation(t),i.targetPosition=i.targetPosition._getTransformedByMoveOperation(t),i.graveyardPosition.isEqual(t.targetPosition)||(i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(t)),[i])}),mt($t,Tt,(i,t,e)=>{if(t.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),i.deletionPosition.isEqual(t.graveyardPosition)&&(i.howMany=t.howMany)),i.targetPosition.isEqual(t.splitPosition)){const n=t.howMany!=0,o=t.graveyardPosition&&i.deletionPosition.isEqual(t.graveyardPosition);if(n||o||e.abRelation=="mergeTargetNotMoved")return i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(t),[i]}if(i.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return i.howMany=0,i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i];if(e.abRelation=="mergeSameElement"||i.sourcePosition.offset>0)return i.sourcePosition=t.moveTargetPosition.clone(),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i]}return i.sourcePosition.hasSameParentAs(t.splitPosition)&&(i.howMany=t.splitPosition.offset),i.sourcePosition=i.sourcePosition._getTransformedBySplitOperation(t),i.targetPosition=i.targetPosition._getTransformedBySplitOperation(t),[i]}),mt(bt,ce,(i,t)=>{const n=z._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByInsertOperation(t,!1)[0];return i.sourcePosition=n.start,i.howMany=n.end.offset-n.start.offset,i.targetPosition.isEqual(t.position)||(i.targetPosition=i.targetPosition._getTransformedByInsertOperation(t)),[i]}),mt(bt,bt,(i,t,e)=>{const n=z._createFromPositionAndShift(i.sourcePosition,i.howMany),o=z._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=e.aIsStrong,s=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(s=!1);let a;if(i.targetPosition.isEqual(t.targetPosition)&&s?a=i.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):a=i.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),xp(i,t)&&xp(t,i))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(o,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ao([n],a);if(o.containsPosition(i.targetPosition)&&o.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),ao([n],a);const d=re(i.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d=="prefix"||d=="extension")return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),ao([n],a);i.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?r=!0:i.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(r=!1);const u=[],m=n.getDifference(o);for(const A of m){A.start=A.start._getTransformedByDeletion(t.sourcePosition,t.howMany),A.end=A.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const T=re(A.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",B=A._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,T);u.push(...B)}const b=n.getIntersection(o);return b!==null&&r&&(b.start=b.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),b.end=b.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),u.length===0?u.push(b):u.length==1?o.start.isBefore(n.start)||o.start.isEqual(n.start)?u.unshift(b):u.push(b):u.splice(1,0,b)),u.length===0?[new ee(i.baseVersion)]:ao(u,a)}),mt(bt,Tt,(i,t,e)=>{let n=i.targetPosition.clone();(!i.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(n=i.targetPosition._getTransformedBySplitOperation(t));const o=z._createFromPositionAndShift(i.sourcePosition,i.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||i.howMany++,i.targetPosition=n,[i];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let a=new z(t.splitPosition,o.end);a=a._getTransformedBySplitOperation(t);const c=[new z(o.start,t.splitPosition),a];return ao(c,n)}i.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(n=t.moveTargetPosition),i.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(n=i.targetPosition);const s=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const a=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);i.howMany>1&&a&&!e.aWasUndone&&s.push(z._createFromPositionAndShift(t.insertionPosition,1))}return ao(s,n)}),mt(bt,$t,(i,t,e)=>{const n=z._createFromPositionAndShift(i.sourcePosition,i.howMany);if(t.deletionPosition.hasSameParentAs(i.sourcePosition)&&n.containsPosition(t.sourcePosition)){if(i.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const s=[];let a=t.graveyardPosition.clone(),c=t.targetPosition._getTransformedByMergeOperation(t);i.howMany>1&&(s.push(new bt(i.sourcePosition,i.howMany-1,i.targetPosition,0)),a=a._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1),c=c._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany-1));const l=t.deletionPosition._getCombined(i.sourcePosition,i.targetPosition),d=new bt(a,1,l,0),u=d.getMovedRangeStart().path.slice();u.push(0);const m=new P(d.targetPosition.root,u);c=c._getTransformedByMove(a,l,1);const b=new bt(c,t.howMany,m,0);return s.push(d),s.push(b),s}}else if(i.howMany==1)return e.bWasUndone?(i.sourcePosition=t.graveyardPosition.clone(),i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),[i]):[new ee(0)]}const r=z._createFromPositionAndShift(i.sourcePosition,i.howMany)._getTransformedByMergeOperation(t);return i.sourcePosition=r.start,i.howMany=r.end.offset-r.start.offset,i.targetPosition=i.targetPosition._getTransformedByMergeOperation(t),[i]}),mt(Ee,ce,(i,t)=>(i.position=i.position._getTransformedByInsertOperation(t),[i])),mt(Ee,$t,(i,t)=>i.position.isEqual(t.deletionPosition)?(i.position=t.graveyardPosition.clone(),i.position.stickiness="toNext",[i]):(i.position=i.position._getTransformedByMergeOperation(t),[i])),mt(Ee,bt,(i,t)=>(i.position=i.position._getTransformedByMoveOperation(t),[i])),mt(Ee,Ee,(i,t,e)=>{if(i.position.isEqual(t.position))if(e.aIsStrong)i.oldName=t.newName;else return[new ee(0)];return[i]}),mt(Ee,Tt,(i,t)=>{const e=i.position.path,n=t.splitPosition.getParentPath();if(re(e,n)=="same"&&!t.graveyardPosition){const o=new Ee(i.position.getShiftedBy(1),i.oldName,i.newName,0);return[i,o]}return i.position=i.position._getTransformedBySplitOperation(t),[i]}),mt(xn,xn,(i,t,e)=>{if(i.root===t.root&&i.key===t.key){if(!e.aIsStrong||i.newValue===t.newValue)return[new ee(0)];i.oldValue=t.newValue}return[i]}),mt(gn,gn,(i,t,e)=>i.rootName===t.rootName&&i.isAdd===t.isAdd&&!e.bWasUndone?[new ee(0)]:[i]),mt(Tt,ce,(i,t)=>(i.splitPosition.hasSameParentAs(t.position)&&i.splitPosition.offset<t.position.offset&&(i.howMany+=t.howMany),i.splitPosition=i.splitPosition._getTransformedByInsertOperation(t),i.insertionPosition=i.insertionPosition._getTransformedByInsertOperation(t),[i])),mt(Tt,$t,(i,t,e)=>{if(!i.graveyardPosition&&!e.bWasUndone&&i.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const o=new P(t.graveyardPosition.root,n),r=Tt.getInsertionPosition(new P(t.graveyardPosition.root,n)),s=new Tt(o,0,r,null,0);return i.splitPosition=i.splitPosition._getTransformedByMergeOperation(t),i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),i.graveyardPosition=s.insertionPosition.clone(),i.graveyardPosition.stickiness="toNext",[s,i]}return i.splitPosition.hasSameParentAs(t.deletionPosition)&&!i.splitPosition.isAfter(t.deletionPosition)&&i.howMany--,i.splitPosition.hasSameParentAs(t.targetPosition)&&(i.howMany+=t.howMany),i.splitPosition=i.splitPosition._getTransformedByMergeOperation(t),i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedByMergeOperation(t)),[i]}),mt(Tt,bt,(i,t,e)=>{const n=z._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.graveyardPosition){const r=n.start.isEqual(i.graveyardPosition)||n.containsPosition(i.graveyardPosition);if(!e.bWasUndone&&r){const s=i.splitPosition._getTransformedByMoveOperation(t),a=i.graveyardPosition._getTransformedByMoveOperation(t),c=a.path.slice();c.push(0);const l=new P(a.root,c);return[new bt(s,i.howMany,l,0)]}i.graveyardPosition=i.graveyardPosition._getTransformedByMoveOperation(t)}const o=i.splitPosition.isEqual(t.targetPosition);if(o&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return i.howMany+=t.howMany,i.splitPosition=i.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),[i];if(o&&e.abRelation&&e.abRelation.howMany){const{howMany:r,offset:s}=e.abRelation;return i.howMany+=r,i.splitPosition=i.splitPosition.getShiftedBy(s),[i]}if(i.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(i.splitPosition)){const r=t.howMany-(i.splitPosition.offset-t.sourcePosition.offset);return i.howMany-=r,i.splitPosition.hasSameParentAs(t.targetPosition)&&i.splitPosition.offset<t.targetPosition.offset&&(i.howMany+=t.howMany),i.splitPosition=t.sourcePosition.clone(),i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),[i]}return t.sourcePosition.isEqual(t.targetPosition)||(i.splitPosition.hasSameParentAs(t.sourcePosition)&&i.splitPosition.offset<=t.sourcePosition.offset&&(i.howMany-=t.howMany),i.splitPosition.hasSameParentAs(t.targetPosition)&&i.splitPosition.offset<t.targetPosition.offset&&(i.howMany+=t.howMany)),i.splitPosition.stickiness="toNone",i.splitPosition=i.splitPosition._getTransformedByMoveOperation(t),i.splitPosition.stickiness="toNext",i.graveyardPosition?i.insertionPosition=i.insertionPosition._getTransformedByMoveOperation(t):i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),[i]}),mt(Tt,Tt,(i,t,e)=>{if(i.splitPosition.isEqual(t.splitPosition)){if(!i.graveyardPosition&&!t.graveyardPosition)return[new ee(0)];if(i.graveyardPosition&&t.graveyardPosition&&i.graveyardPosition.isEqual(t.graveyardPosition))return[new ee(0)];if(e.abRelation=="splitBefore")return i.howMany=0,i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(t),[i]}if(i.graveyardPosition&&t.graveyardPosition&&i.graveyardPosition.isEqual(t.graveyardPosition)){const n=i.splitPosition.root.rootName=="$graveyard",o=t.splitPosition.root.rootName=="$graveyard";if(o&&!n||!(n&&!o)&&e.aIsStrong){const c=[];return t.howMany&&c.push(new bt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),i.howMany&&c.push(new bt(i.splitPosition,i.howMany,i.moveTargetPosition,0)),c}else return[new ee(0)]}if(i.graveyardPosition&&(i.graveyardPosition=i.graveyardPosition._getTransformedBySplitOperation(t)),i.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return i.howMany++,[i];if(t.splitPosition.isEqual(i.insertionPosition)&&e.baRelation=="splitBefore"){const n=t.insertionPosition.path.slice();n.push(0);const o=new P(t.insertionPosition.root,n),r=new bt(i.insertionPosition,1,o,0);return[i,r]}return i.splitPosition.hasSameParentAs(t.splitPosition)&&i.splitPosition.offset<t.splitPosition.offset&&(i.howMany-=t.howMany),i.splitPosition=i.splitPosition._getTransformedBySplitOperation(t),i.insertionPosition=Tt.getInsertionPosition(i.splitPosition),[i]});function xp(i,t){return i.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function ao(i,t){const e=[];for(let n=0;n<i.length;n++){const o=i[n],r=new bt(o.start,o.end.offset-o.start.offset,t,0);e.push(r);for(let s=n+1;s<i.length;s++)i[s]=i[s]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return e}class he extends kt(P){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new v("model-liveposition-root-not-rootelement",t);UD.call(this)}detach(){this.stopListening()}toPosition(){return new P(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}he.prototype.is=function(i){return i==="livePosition"||i==="model:livePosition"||i=="position"||i==="model:position"};function UD(){this.listenTo(this.root.document.model,"applyOperation",(i,t)=>{const e=t[0];e.isDocumentOperation&&WD.call(this,e)},{priority:"low"})}function WD(i){const t=this.getTransformedByOperation(i);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class co{constructor(t={}){typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},_t("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:o=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=o,this.isTyping=r}get type(){return _t("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class GD{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of e.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const n=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);n||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const n=z._createFromPositionAndShift(e.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(n)){const r=o.getData();this.bufferMarkerChange(o.name,r,r)}break}case"split":{const n=e.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const n=e.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const o=e.graveyardPosition.parent;this._markInsert(o,e.graveyardPosition.offset,1);const r=e.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,e.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const n=e.root.rootName;this._bufferRootAttributeChange(n,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){const o=this._changedMarkers.get(t);o?(o.newMarkerData=n,o.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{newMarkerData:n,oldMarkerData:e})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)n.oldMarkerData.range!=null&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)n.newMarkerData.range!=null&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,o=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(n||o||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const o=this._changesInElement.get(n).sort((d,u)=>d.offset===u.offset?d.type!=u.type?d.type=="remove"?-1:1:0:d.offset<u.offset?-1:1),r=this._elementSnapshots.get(n),s=Ep(n.getChildren()),a=qD(r.length,o);let c=0,l=0;for(const d of a)if(d==="i")e.push(this._getInsertDiff(n,c,s[c])),c++;else if(d==="r")e.push(this._getRemoveDiff(n,c,r[l])),l++;else if(d==="a"){const u=s[c].attributes,m=r[l].attributes;let b;if(s[c].name=="$text")b=new z(P._createAt(n,c),P._createAt(n,c+1));else{const A=n.offsetToIndex(c);b=new z(P._createAt(n,c),P._createAt(n.getChild(A),0))}e.push(...this._getAttributesDiff(b,m,u)),c++,l++}else c++,l++}e.sort((n,o)=>n.position.root!=o.position.root?n.position.root.rootName<o.position.root.rootName?-1:1:n.position.isEqual(o.position)?n.changeCount-o.changeCount:n.position.isBefore(o.position)?-1:1);for(let n=1,o=0;n<e.length;n++){const r=e[o],s=e[n],a=r.type=="remove"&&s.type=="remove"&&r.name=="$text"&&s.name=="$text"&&r.position.isEqual(s.position),c=r.type=="insert"&&s.type=="insert"&&r.name=="$text"&&s.name=="$text"&&r.position.parent==s.position.parent&&r.position.offset+r.length==s.position.offset,l=r.type=="attribute"&&s.type=="attribute"&&r.position.parent==s.position.parent&&r.range.isFlat&&s.range.isFlat&&r.position.offset+r.length==s.position.offset&&r.attributeKey==s.attributeKey&&r.attributeOldValue==s.attributeOldValue&&r.attributeNewValue==s.attributeNewValue;a||c||l?(r.length++,l&&(r.range.end=r.range.end.getShiftedBy(1)),e[n]=null):o=n}e=e.filter(n=>n);for(const n of e)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter($D),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e=U({},t);return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const n=this._changedRoots.get(t);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(t)):n.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,n,o){const r=this._changedRoots.get(t)||{name:t},s=r.attributes||{};if(s[e]){const a=s[e];o===a.oldValue?delete s[e]:a.newValue=o}else s[e]={oldValue:n,newValue:o};Object.entries(s).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(t)):(r.attributes=s,this._changedRoots.set(t,r))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=z._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const o=n.getData();this.bufferMarkerChange(n.name,o,o)}this._cachedChanges=null}_markInsert(t,e,n){const o={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o)}_markRemove(t,e,n){const o={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let o=0;o<n.length;o++)n[o].howMany<1&&(n.splice(o,1),o--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Ep(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const o=t.offset+t.howMany,r=n.offset+n.howMany;if(t.type=="insert"&&(n.type=="insert"&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),n.type=="remove"&&t.offset<n.offset&&(n.offset+=t.howMany),n.type=="attribute")){if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const s=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:o,howMany:s-n.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(n.type=="insert"){if(o<=n.offset)n.offset-=t.howMany;else if(o<=r)if(t.offset<n.offset){const s=o-n.offset;n.offset=t.offset,n.howMany-=s,t.nodesToHandle-=s}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const s=r-t.offset;n.howMany-=s,t.nodesToHandle-=s}}if(n.type=="remove"&&(o<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(o<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const s=o-n.offset;n.offset=t.offset,n.howMany-=s}else if(t.offset<r)if(o<=r){const s=n.howMany;n.howMany=t.offset-n.offset;const a=s-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:a,count:this._changeCount++})}else n.howMany-=r-t.offset}}if(t.type=="attribute"){if(n.type=="insert")if(t.offset<n.offset&&o>n.offset){if(o>r){const s={type:"attribute",offset:r,howMany:o-r,count:this._changeCount++};this._handleChange(s,e),e.push(s)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(o>r?(t.nodesToHandle=o-r,t.offset=r):t.nodesToHandle=0);if(n.type=="remove"&&t.offset<n.offset&&o>n.offset){const s={type:"attribute",offset:n.offset,howMany:o-n.offset,count:this._changeCount++};this._handleChange(s,e),e.push(s),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}n.type=="attribute"&&(t.offset>=n.offset&&o<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&o>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:P._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:P._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const o=[];n=new Map(n);for(const[r,s]of e){const a=n.has(r)?n.get(r):null;a!==s&&o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:s,attributeNewValue:a,changeCount:this._changeCount++}),n.delete(r)}for(const[r,s]of n)o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return o}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),o=t.startOffset;if(n){for(const r of n)if(r.type=="insert"&&o>=r.offset&&o<r.offset+r.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const o=new z(P._createAt(t,e),P._createAt(t,e+n));for(const r of o.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function Ep(i){const t=[];for(const e of i)if(e.is("$text"))for(let n=0;n<e.data.length;n++)t.push({name:"$text",attributes:new Map(e.getAttributes())});else t.push({name:e.name,attributes:new Map(e.getAttributes())});return t}function qD(i,t){const e=[];let n=0,o=0;for(const r of t){if(r.offset>n){for(let s=0;s<r.offset-n;s++)e.push("e");o+=r.offset-n}if(r.type=="insert"){for(let s=0;s<r.howMany;s++)e.push("i");n=r.offset+r.howMany}else if(r.type=="remove"){for(let s=0;s<r.howMany;s++)e.push("r");n=r.offset,o+=r.howMany}else e.push(..."a".repeat(r.howMany).split("")),n=r.offset+r.howMany,o+=r.howMany}if(o<i)for(let r=0;r<i-o-n;r++)e.push("e");return e}function $D(i){const t="position"in i&&i.position.root.rootName=="$graveyard",e="range"in i&&i.range.root.rootName=="$graveyard";return!t&&!e}class KD{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new v("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];t===void 0&&(t=n.baseVersion);let o=e-1;for(const[a,c]of this._gaps)t>a&&t<c&&(t=c),o>a&&o<c&&(o=a-1);if(o<n.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);r===void 0&&(r=0);let s=this._baseVersionToOperationIndex.get(o);return s===void 0&&(s=this._operations.length-1),this._operations.slice(r,s+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ra extends wt{constructor(t,e,n="main"){super(e),this._isAttached=!0,this._document=t,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}ra.prototype.is=function(i,t){return t?t===this.name&&(i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"):i==="rootElement"||i==="model:rootElement"||i==="element"||i==="model:element"||i==="node"||i==="model:node"};const kd="$graveyard";class YD extends kt(){constructor(t){super(),this.model=t,this.history=new KD,this.selection=new nn(this),this.roots=new Ft({idProperty:"rootName"}),this.differ=new GD(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",kd),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(e,n,o,r,s)=>{const a=ie(U({},n.getData()),{range:r});this.differ.bufferMarkerChange(n.name,s,a),o===null&&n.on("change",(c,l)=>{const d=n.getData();this.differ.bufferMarkerChange(n.name,ie(U({},d),{range:l}),d)})}),this.registerPostFixer(e=>{let n=!1;for(const o of this.roots)!o.isAttached()&&!o.isEmpty&&(e.remove(e.createRangeIn(o)),n=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(e.removeMarker(o),n=!0);return n})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(kd)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new v("model-document-createroot-name-exists",this,{name:e});const n=new ra(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return Array.from(this.roots).filter(e=>e.rootName!=kd&&(t||e.isAttached())).map(e=>e.rootName)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Gg(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,o=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(o)||e.createRange(o)}_validateSelectionRange(t){return Dp(t.start)&&Dp(t.end)}_callPostFixers(t){let e=!1;do for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break;while(e)}}function Dp(i){const t=i.textNode;if(t){const e=t.data,n=i.offset-t.startOffset;return!Cl(e,n)&&!_l(e,n)}return!0}class ZD extends kt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof lo?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,o=!1){const r=t instanceof lo?t.name:t;if(r.includes(","))throw new v("markercollection-incorrect-marker-name",this);const s=this._markers.get(r);if(s){const l=s.getData(),d=s.getRange();let u=!1;return d.isEqual(e)||(s._attachLiveRange(en.fromRange(e)),u=!0),n!=s.managedUsingOperations&&(s._managedUsingOperations=n,u=!0),typeof o=="boolean"&&o!=s.affectsData&&(s._affectsData=o,u=!0),u&&this.fire(`update:${r}`,s,d,e,l),s}const a=en.fromRange(e),c=new lo(r,a,n,o);return this._markers.set(r,c),this.fire(`update:${r}`,c,null,e,ie(U({},c.getData()),{range:null})),c}_remove(t){const e=t instanceof lo?t.name:t,n=this._markers.get(e);return n?(this._markers.delete(e),this.fire(`update:${e}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(t){const e=t instanceof lo?t.name:t,n=this._markers.get(e);if(!n)throw new v("markercollection-refresh-marker-not-exists",this);const o=n.getRange();this.fire(`update:${e}`,n,o,o,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)e.getRange().getIntersection(t)!==null&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class lo extends kt(Yn){constructor(t,e,n,o){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}lo.prototype.is=function(i){return i==="marker"||i==="model:marker"};class QD extends Be{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new v("detach-operation-on-document-node",this)}_execute(){kp(z._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class En extends Yn{constructor(t){super(),this.markers=new Map,this._children=new cr,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(wt.fromJSON(n)):e.push(Dt.fromJSON(n));return new En(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=JD(e);for(const o of n)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}}En.prototype.is=function(i){return i==="documentFragment"||i==="model:documentFragment"};function JD(i){return typeof i=="string"?[new Dt(i)]:(Ae(i)||(i=[i]),Array.from(i).map(t=>typeof t=="string"?new Dt(t):t instanceof Xe?new Dt(t.data,t.getAttributes()):t))}class XD{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Dt(t,e)}createElement(t,e){return new wt(t,e)}createDocumentFragment(){return new En}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Dt&&t.data=="")return;const o=P._createAt(e,n);if(t.parent)if(Ip(t.root,o.root)){this.move(z._createOn(t),o);return}else{if(t.root.document)throw new v("model-writer-insert-forbidden-move",this);this.remove(t)}const r=o.root.document?o.root.document.version:null,s=new ce(o,t,r);if(t instanceof Dt&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),t instanceof En)for(const[a,c]of t.markers){const l=P._createAt(c.root,0),u={range:new z(c.start._getCombined(l,o),c.end._getCombined(l,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,u):this.addMarker(a,u)}}insertText(t,e,n,o){e instanceof En||e instanceof wt||e instanceof P?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,o)}insertElement(t,e,n,o){e instanceof En||e instanceof wt||e instanceof P?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,o)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof En||e instanceof wt?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof En||e instanceof wt?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof z){const o=n.getMinimalFlatRanges();for(const r of o)Tp(this,t,e,r)}else Sp(this,t,e,n)}setAttributes(t,e){for(const[n,o]of cn(t))this.setAttribute(n,o,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof z){const n=e.getMinimalFlatRanges();for(const o of n)Tp(this,t,null,o)}else Sp(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=n=>{for(const o of n.getAttributeKeys())this.removeAttribute(o,n)};if(!(t instanceof z))e(t);else for(const n of t.getItems())e(n)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof z))throw new v("writer-move-invalid-range",this);if(!t.isFlat)throw new v("writer-move-range-not-flat",this);const o=P._createAt(e,n);if(o.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Ip(t.root,o.root))throw new v("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,s=new bt(t.start,t.end.offset-t.start.offset,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const n=(t instanceof z?t:z._createOn(t)).getMinimalFlatRanges().reverse();for(const o of n)this._addOperationForAffectedMarkers("move",o),t4(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof wt))throw new v("writer-merge-no-element-before",this);if(!(n instanceof wt))throw new v("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(z._createIn(n),P._createAt(e,"end")),this.remove(n)}_merge(t){const e=P._createAt(t.nodeBefore,"end"),n=P._createAt(t.nodeAfter,0),o=t.root.document.graveyard,r=new P(o,[0]),s=t.root.document.version,a=new $t(n,t.nodeAfter.maxOffset,e,r,s);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof wt))throw new v("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,o=new Ee(P._createBefore(t),t.name,e,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let n=t.parent;if(!n.parent)throw new v("writer-split-element-no-parent",this);if(e||(e=n.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new v("writer-split-invalid-limit-element",this);let o,r;do{const s=n.root.document?n.root.document.version:null,a=n.maxOffset-t.offset,c=Tt.getInsertionPosition(t),l=new Tt(t,a,c,null,s);this.batch.addOperation(l),this.model.applyOperation(l),!o&&!r&&(o=n,r=t.parent.nextSibling),t=this.createPositionAfter(t.parent),n=t.parent}while(n!==e);return{position:t,range:new z(P._createAt(o,"end"),P._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new v("writer-wrap-range-not-flat",this);const n=e instanceof wt?e:new wt(e);if(n.childCount>0)throw new v("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new v("writer-wrap-element-attached",this);this.insert(n,t.start);const o=new z(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(o,P._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new v("writer-unwrap-element-no-parent",this);this.move(z._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new v("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,o=e.range,r=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new v("writer-addmarker-marker-exists",this);if(!o)throw new v("writer-addmarker-no-range",this);return n?(pr(this,t,null,o,r),this.model.markers.get(t)):this.model.markers._set(t,o,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n=typeof t=="string"?t:t.name,o=this.model.markers.get(n);if(!o)throw new v("writer-updatemarker-marker-not-exists",this);if(!e){_t("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(o);return}const r=typeof e.usingOperation=="boolean",s=typeof e.affectsData=="boolean",a=s?e.affectsData:o.affectsData;if(!r&&!e.range&&!s)throw new v("writer-updatemarker-wrong-options",this);const c=o.getRange(),l=e.range?e.range:c;if(r&&e.usingOperation!==o.managedUsingOperations){e.usingOperation?pr(this,n,null,l,a):(pr(this,n,c,null,a),this.model.markers._set(n,l,void 0,a));return}o.managedUsingOperations?pr(this,n,c,l,a):this.model.markers._set(n,l,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new v("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations){this.model.markers._remove(e);return}const o=n.getRange();pr(this,e,o,null,n.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(t);if(n&&n.isAttached())throw new v("writer-addroot-root-exists",this);const o=this.model.document,r=new gn(t,e,!0,o,o.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new v("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===e&&this.removeMarker(r);for(const r of e.getAttributeKeys())this.removeAttribute(r,e);this.remove(this.createRangeIn(e));const n=this.model.document,o=new gn(e.rootName,e.name,!1,n,n.version);this.batch.addOperation(o),this.model.applyOperation(o)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[n,o]of cn(t))this._setSelectionAttribute(n,o)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=nn._getStoreAttributeKey(t);this.setAttribute(o,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=nn._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new v("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const o=n.getRange();let r=!1;if(t==="move"){const s=e;r=s.containsPosition(o.start)||s.start.isEqual(o.start)||s.containsPosition(o.end)||s.end.isEqual(o.end)}else{const s=e,a=s.nodeBefore,c=s.nodeAfter,l=o.start.parent==a&&o.start.isAtEnd,d=o.end.parent==c&&o.end.offset==0,u=o.end.nodeAfter==c,m=o.start.nodeAfter==c;r=l||d||u||m}r&&this.updateMarker(n.name,{range:o})}}}function Tp(i,t,e,n){const o=i.model,r=o.document;let s=n.start,a,c,l;for(const u of n.getWalker({shallow:!0}))l=u.item.getAttribute(t),a&&c!=l&&(c!=e&&d(),s=a),a=u.nextPosition,c=l;a instanceof P&&a!=s&&c!=e&&d();function d(){const u=new z(s,a),m=u.root.document?r.version:null,b=new Zt(u,t,c,e,m);i.batch.addOperation(b),o.applyOperation(b)}}function Sp(i,t,e,n){const o=i.model,r=o.document,s=n.getAttribute(t);let a,c;if(s!=e){if(n.root===n){const d=n.document?r.version:null;c=new xn(n,t,s,e,d)}else{a=new z(P._createBefore(n),i.createPositionAfter(n));const d=a.root.document?r.version:null;c=new Zt(a,t,s,e,d)}i.batch.addOperation(c),o.applyOperation(c)}}function pr(i,t,e,n,o){const r=i.model,s=r.document,a=new xe(t,e,n,r.markers,!!o,s.version);i.batch.addOperation(a),r.applyOperation(a)}function t4(i,t,e,n){let o;if(i.root.document){const r=n.document,s=new P(r.graveyard,[0]);o=new bt(i,t,s,r.version)}else o=new QD(i,t);e.addOperation(o),n.applyOperation(o)}function Ip(i,t){return i===t||i instanceof ra&&t instanceof ra}function e4(i,t,e={}){if(t.isCollapsed)return;const n=t.getFirstRange();if(n.root.rootName=="$graveyard")return;const o=i.schema;i.change(r=>{if(!e.doNotResetEntireContent&&d4(o,t)){l4(r,t);return}const s={};if(!e.doNotAutoparagraph){const l=t.getSelectedElement();l&&Object.assign(s,o.getAttributesWithProperty(l,"copyOnReplace",!0))}const[a,c]=n4(n);a.isTouching(c)||r.remove(r.createRange(a,c)),e.leaveUnmerged||(o4(r,a,c),o.removeDisallowedAttributes(a.parent.getChildren(),r)),Np(r,t,a),!e.doNotAutoparagraph&&a4(o,a)&&zp(r,a,t,s),a.detach(),c.detach()})}function n4(i){const t=i.root.document.model,e=i.start;let n=i.end;if(t.hasContent(i,{ignoreMarkers:!0})){const o=i4(n);if(o&&n.isTouching(t.createPositionAt(o,0))){const r=t.createSelection(i);t.modifySelection(r,{direction:"backward"});const s=r.getLastPosition(),a=t.createRange(s,n);t.hasContent(a,{ignoreMarkers:!0})||(n=s)}}return[he.fromPosition(e,"toPrevious"),he.fromPosition(n,"toNext")]}function i4(i){const t=i.parent,e=t.root.document.model.schema,n=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const o of n){if(e.isLimit(o))return null;if(e.isBlock(o))return o}}function o4(i,t,e){const n=i.model;if(!wd(i.model.schema,t,e))return;const[o,r]=s4(t,e);!o||!r||(!n.hasContent(o,{ignoreMarkers:!0})&&n.hasContent(r,{ignoreMarkers:!0})?Bp(i,t,e,o.parent):Mp(i,t,e,o.parent))}function Mp(i,t,e,n){const o=t.parent,r=e.parent;if(!(o==n||r==n)){for(t=i.createPositionAfter(o),e=i.createPositionBefore(r),e.isEqual(t)||i.insert(r,t),i.merge(t);e.parent.isEmpty;){const s=e.parent;e=i.createPositionBefore(s),i.remove(s)}wd(i.model.schema,t,e)&&Mp(i,t,e,n)}}function Bp(i,t,e,n){const o=t.parent,r=e.parent;if(!(o==n||r==n)){for(t=i.createPositionAfter(o),e=i.createPositionBefore(r),e.isEqual(t)||i.insert(o,e);t.parent.isEmpty;){const s=t.parent;t=i.createPositionBefore(s),i.remove(s)}e=i.createPositionBefore(r),r4(i,e),wd(i.model.schema,t,e)&&Bp(i,t,e,n)}}function r4(i,t){const e=t.nodeBefore,n=t.nodeAfter;e.name!=n.name&&i.rename(e,n.name),i.clearAttributes(e),i.setAttributes(Object.fromEntries(n.getAttributes()),e),i.merge(t)}function wd(i,t,e){const n=t.parent,o=e.parent;return n==o||i.isLimit(n)||i.isLimit(o)?!1:c4(t,e,i)}function s4(i,t){const e=i.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]&&e[o]==n[o];)o++;return[e[o],n[o]]}function a4(i,t){const e=i.checkChild(t,"$text"),n=i.checkChild(t,"paragraph");return!e&&n}function c4(i,t,e){const n=new z(i,t);for(const o of n.getWalker())if(e.isLimit(o.item))return!1;return!0}function zp(i,t,e,n={}){const o=i.createElement("paragraph");i.model.schema.setAllowedAttributes(o,n,i),i.insert(o,t),Np(i,e,i.createPositionAt(o,0))}function l4(i,t){const e=i.model.schema.getLimitElement(t);i.remove(i.createRangeIn(e)),zp(i,i.createPositionAt(e,0),t)}function d4(i,t){const e=i.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const n=t.getFirstRange();return n.start.parent==n.end.parent?!1:i.checkChild(e,"paragraph")}function Np(i,t,e){t instanceof nn?i.setSelection(e):t.setTo(e)}function u4(i,t){return i.change(e=>{const n=e.createDocumentFragment(),o=t.getFirstRange();if(!o||o.isCollapsed)return n;const r=o.start.root,s=o.start.getCommonPath(o.end),a=r.getNodeByPath(s);let c;o.start.parent==o.end.parent?c=o:c=e.createRange(e.createPositionAt(a,o.start.path[s.length]),e.createPositionAt(a,o.end.path[s.length]+1));const l=c.end.offset-c.start.offset;for(const d of c.getItems({shallow:!0}))d.is("$textProxy")?e.appendText(d.data,d.getAttributes(),n):e.append(e.cloneElement(d,!0),n);if(c!=o){const d=o._getTransformedByMove(c.start,e.createPositionAt(n,0),l)[0],u=e.createRange(e.createPositionAt(n,0),d.start),m=e.createRange(d.end,e.createPositionAt(n,"end"));Lp(m,e),Lp(u,e)}return n})}function Lp(i,t){const e=[];Array.from(i.getItems({direction:"backward"})).map(n=>t.createRangeOn(n)).filter(n=>(n.start.isAfter(i.start)||n.start.isEqual(i.start))&&(n.end.isBefore(i.end)||n.end.isEqual(i.end))).forEach(n=>{e.push(n.start.parent),t.remove(n)}),e.forEach(n=>{let o=n;for(;o.parent&&o.isEmpty;){const r=t.createRangeOn(o);o=o.parent,t.remove(r)}})}function h4(i,t,e){return i.change(n=>{const o=e||i.document.selection;o.isCollapsed||i.deleteContent(o,{doNotAutoparagraph:!0});const r=new m4(i,n,o.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const d=[];for(const[u,m]of t.markers){const{start:b,end:A}=m,T=b.isEqual(A);d.push({position:b,name:u,isCollapsed:T},{position:A,name:u,isCollapsed:T})}d.sort(({position:u},{position:m})=>u.isBefore(m)?1:-1);for(const{position:u,name:m,isCollapsed:b}of d){let A=null,T=null;const B=u.parent===t&&u.isAtStart,L=u.parent===t&&u.isAtEnd;!B&&!L?(A=n.createElement("$marker"),n.insert(A,u)):b&&(T=B?"start":"end"),s.push({name:m,element:A,collapsed:T})}}a=t.getChildren()}else a=[t];r.handleNodes(a);let c=r.getSelectionRange();if(t.is("documentFragment")&&s.length){const d=c?en.fromRange(c):null,u={};for(let m=s.length-1;m>=0;m--){const{name:b,element:A,collapsed:T}=s[m],B=!u[b];if(B&&(u[b]=[]),A){const L=n.createPositionAt(A,"before");u[b].push(L),n.remove(A)}else{const L=r.getAffectedRange();if(!L){T&&u[b].push(r.position);continue}T?u[b].push(L[T]):u[b].push(B?L.start:L.end)}}for(const[m,[b,A]]of Object.entries(u))b&&A&&b.root===A.root&&n.addMarker(m,{usingOperation:!0,affectsData:!0,range:new z(b,A)});d&&(c=d.toRange(),d.detach())}c&&(o instanceof nn?n.setSelection(c):o.setTo(c));const l=r.getAffectedRange()||i.createRange(o.anchor);return r.destroy(),l})}class m4{constructor(t,e,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new v("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?z._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new z(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t)){this._handleObject(t);return}let e=this._checkAndAutoParagraphToAllowedPosition(t);if(!e&&(e=this._checkAndSplitToAllowedPosition(t),!e)){this._handleDisallowedNode(t);return}this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=he.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new v("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=he.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=he.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof wt)||!this._canMergeLeft(t))return;const e=he._createBefore(t);e.stickiness="toNext";const n=he.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=he._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=he._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof wt)||!this._canMergeRight(t))return;const e=he._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new v("insertcontent-invalid-insertion-position",this);this.position=P._createAt(e.nodeBefore,"end");const n=he.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=he._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=he._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof wt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof wt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function Pp(i,t,e="auto"){const n=i.getSelectedElement();if(n&&t.schema.isObject(n)&&!t.schema.isInline(n))return e=="before"||e=="after"?t.createRange(t.createPositionAt(n,e)):t.createRangeOn(n);const o=Pt(i.getSelectedBlocks());if(!o)return t.createRange(i.focus);if(o.isEmpty)return t.createRange(t.createPositionAt(o,0));const r=t.createPositionAfter(o);return i.focus.isTouching(r)?t.createRange(r):t.createRange(t.createPositionBefore(o))}function g4(i,t,e,n={}){if(!i.schema.isObject(t))throw new v("insertobject-element-not-an-object",i,{object:t});const o=e||i.document.selection;let r=o;n.findOptimalPosition&&i.schema.isBlock(t)&&(r=i.createSelection(Pp(o,i,n.findOptimalPosition)));const s=Pt(o.getSelectedBlocks()),a={};return s&&Object.assign(a,i.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),i.change(c=>{r.isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});let l=t;const d=r.anchor.parent;!i.schema.checkChild(d,t)&&i.schema.checkChild(d,"paragraph")&&i.schema.checkChild("paragraph",t)&&(l=c.createElement("paragraph"),c.insert(t,l)),i.schema.setAllowedAttributes(l,a,c);const u=i.insertContent(l,r);return u.isCollapsed||n.setSelection&&f4(c,t,n.setSelection,a),u})}function f4(i,t,e,n){const o=i.model;if(e=="on"){i.setSelection(t,"on");return}if(e!="after")throw new v("insertobject-invalid-place-parameter-value",o);let r=t.nextSibling;if(o.schema.isInline(t)){i.setSelection(t,"after");return}!(r&&o.schema.checkChild(r,"$text"))&&o.schema.checkChild(t.parent,"paragraph")&&(r=i.createElement("paragraph"),o.schema.setAllowedAttributes(r,n,i),o.insertContent(r,i.createPositionAfter(t))),r&&i.setSelection(r,0)}const p4=' ,.?!:;"-()';function b4(i,t,e={}){const n=i.schema,o=e.direction!="backward",r=e.unit?e.unit:"character",s=!!e.treatEmojiAsSingleUnit,a=t.focus,c=new mn({boundaries:C4(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),l={walker:c,schema:n,isForward:o,unit:r,treatEmojiAsSingleUnit:s};let d;for(;d=c.next();){if(d.done)return;const u=k4(l,d.value);if(u){t instanceof nn?i.change(m=>{m.setSelectionFocus(u)}):t.setFocus(u);return}}}function k4(i,t){const{isForward:e,walker:n,unit:o,schema:r,treatEmojiAsSingleUnit:s}=i,{type:a,item:c,nextPosition:l}=t;if(a=="text")return i.unit==="word"?A4(n,e):w4(n,o,s);if(a==(e?"elementStart":"elementEnd")){if(r.isSelectable(c))return P._createAt(c,e?"after":"before");if(r.checkChild(l,"$text"))return l}else{if(r.isLimit(c)){n.skip(()=>!0);return}if(r.checkChild(l,"$text"))return l}}function w4(i,t,e){const n=i.position.textNode;if(n){const o=n.data;let r=i.position.offset-n.startOffset;for(;Cl(o,r)||t=="character"&&_l(o,r)||e&&fg(o,r);)i.next(),r=i.position.offset-n.startOffset}return i.position}function A4(i,t){let e=i.position.textNode;for(e||(e=t?i.position.nodeAfter:i.position.nodeBefore);e&&e.is("$text");){const n=i.position.offset-e.startOffset;if(v4(e,n,t))e=t?i.position.nodeAfter:i.position.nodeBefore;else{if(_4(e.data,n,t))break;i.next()}}return i.position}function C4(i,t){const e=i.root,n=P._createAt(e,t?"end":0);return t?new z(i,n):new z(n,i)}function _4(i,t,e){const n=t+(e?0:-1);return p4.includes(i.charAt(n))}function v4(i,t,e){return t===(e?i.offsetSize:0)}class y4 extends ut(){constructor(){super(),this.markers=new ZD,this.document=new YD(this),this.schema=new dD,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if(e.name==="$marker")return!0}),eD(this),this.document.registerPostFixer(rp),this.on("insertContent",(t,[e,n])=>{t.return=h4(this,e,n)}),this.on("insertObject",(t,[e,n,o])=>{t.return=g4(this,e,n,o)})}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new co,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(e){v.rethrowUnexpectedError(e,this)}}enqueueChange(t,e){try{t?typeof t=="function"?(e=t,t=new co):t instanceof co||(t=new co(t)):t=new co,this._pendingChanges.push({batch:t,callback:e}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){v.rethrowUnexpectedError(n,this)}}applyOperation(t){t._execute()}insertContent(t,e,n,...o){const r=Rp(e,n);return this.fire("insertContent",[t,r,n,...o])}insertObject(t,e,n,o,...r){const s=Rp(e,n);return this.fire("insertObject",[t,s,o,o,...r])}deleteContent(t,e){e4(this,t,e)}modifySelection(t,e){b4(this,t,e)}getSelectedContent(t){return u4(this,t)}hasContent(t,e={}){const n=t instanceof z?t:z._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:r=!1}=e;if(!r){for(const s of this.markers.getMarkersIntersectingRange(n))if(s.affectsData)return!0}for(const s of n.getItems())if(this.schema.isContent(s))if(s.is("$textProxy"))if(o){if(s.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(t,e,n){return new P(t,e,n)}createPositionAt(t,e){return P._createAt(t,e)}createPositionAfter(t){return P._createAfter(t)}createPositionBefore(t){return P._createBefore(t)}createRange(t,e){return new z(t,e)}createRangeIn(t){return z._createIn(t)}createRangeOn(t){return z._createOn(t)}createSelection(...t){return new tn(...t)}createBatch(t){return new co(t)}createOperationFromJSON(t){return RD.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new XD(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function Rp(i,t){if(i)return i instanceof tn||i instanceof nn?i:i instanceof wi?new tn(i,t):new tn(i)}class x4 extends Kn{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class sa extends Kn{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class vi{constructor(t){this.document=t}createDocumentFragment(t){return new ki(this.document,t)}createElement(t,e,n){return new Ie(this.document,t,e,n)}createText(t){return new Et(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const o=n.getChildIndex(t);return this.removeChildren(o,1,n),this.insertChild(o,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Ie(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){ue(t)&&n===void 0?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return O._createAt(t,e)}createPositionAfter(t){return O._createAfter(t)}createPositionBefore(t){return O._createBefore(t)}createRange(t,e){return new et(t,e)}createRangeOn(t){return et._createOn(t)}createRangeIn(t){return et._createIn(t)}createSelection(...t){return new dn(...t)}}const E4=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,D4=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,T4=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,S4=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,I4=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,M4=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Op(i){return i.startsWith("#")?E4.test(i):i.startsWith("rgb")?D4.test(i)||T4.test(i):i.startsWith("hsl")?S4.test(i)||I4.test(i):M4.has(i.toLowerCase())}const B4=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function z4(i){return B4.includes(i)}const N4=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function aa(i){return N4.test(i)}const L4=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Vp(i){return L4.test(i)}const P4=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function R4(i){return P4.includes(i)}const O4=["center","top","bottom","left","right"];function V4(i){return O4.includes(i)}const F4=["fixed","scroll","local"];function j4(i){return F4.includes(i)}const H4=/^url\(/;function U4(i){return H4.test(i)}function br(i=""){if(i==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=Ad(i),e=t[0],n=t[2]||e,o=t[1]||e,r=t[3]||o;return{top:e,bottom:n,right:o,left:r}}function kr(i){return t=>{const{top:e,right:n,bottom:o,left:r}=t,s=[];return[e,n,r,o].every(a=>!!a)?s.push([i,W4(t)]):(e&&s.push([i+"-top",e]),n&&s.push([i+"-right",n]),o&&s.push([i+"-bottom",o]),r&&s.push([i+"-left",r])),s}}function W4({top:i,right:t,bottom:e,left:n}){const o=[];return n!==t?o.push(i,t,e,n):e!==i?o.push(i,t,e):t!==i?o.push(i,t):o.push(i),o.join(" ")}function Fp(i){return t=>({path:i,value:br(t)})}function Ad(i){return i.replace(/, /g,",").split(" ").map(t=>t.replace(/,/g,", "))}function Cd(i){i.setNormalizer("background",G4()),i.setNormalizer("background-color",q4()),i.setReducer("background",$4()),i.setStyleRelation("background",["background-color"])}function G4(){return i=>{const t={},e=Ad(i);for(const n of e)R4(n)?(t.repeat=t.repeat||[],t.repeat.push(n)):V4(n)?(t.position=t.position||[],t.position.push(n)):j4(n)?t.attachment=n:Op(n)?t.color=n:U4(n)&&(t.image=n);return{path:"background",value:t}}}function q4(){return i=>({path:"background.color",value:i})}function $4(){return i=>{const t=[];return t.push(["background-color",i.color]),t}}function jp(i){i.setNormalizer("border",K4()),i.setNormalizer("border-top",ca("top")),i.setNormalizer("border-right",ca("right")),i.setNormalizer("border-bottom",ca("bottom")),i.setNormalizer("border-left",ca("left")),i.setNormalizer("border-color",_d("color")),i.setNormalizer("border-width",_d("width")),i.setNormalizer("border-style",_d("style")),i.setNormalizer("border-top-color",He("color","top")),i.setNormalizer("border-top-style",He("style","top")),i.setNormalizer("border-top-width",He("width","top")),i.setNormalizer("border-right-color",He("color","right")),i.setNormalizer("border-right-style",He("style","right")),i.setNormalizer("border-right-width",He("width","right")),i.setNormalizer("border-bottom-color",He("color","bottom")),i.setNormalizer("border-bottom-style",He("style","bottom")),i.setNormalizer("border-bottom-width",He("width","bottom")),i.setNormalizer("border-left-color",He("color","left")),i.setNormalizer("border-left-style",He("style","left")),i.setNormalizer("border-left-width",He("width","left")),i.setExtractor("border-top",la("top")),i.setExtractor("border-right",la("right")),i.setExtractor("border-bottom",la("bottom")),i.setExtractor("border-left",la("left")),i.setExtractor("border-top-color","border.color.top"),i.setExtractor("border-right-color","border.color.right"),i.setExtractor("border-bottom-color","border.color.bottom"),i.setExtractor("border-left-color","border.color.left"),i.setExtractor("border-top-width","border.width.top"),i.setExtractor("border-right-width","border.width.right"),i.setExtractor("border-bottom-width","border.width.bottom"),i.setExtractor("border-left-width","border.width.left"),i.setExtractor("border-top-style","border.style.top"),i.setExtractor("border-right-style","border.style.right"),i.setExtractor("border-bottom-style","border.style.bottom"),i.setExtractor("border-left-style","border.style.left"),i.setReducer("border-color",kr("border-color")),i.setReducer("border-style",kr("border-style")),i.setReducer("border-width",kr("border-width")),i.setReducer("border-top",da("top")),i.setReducer("border-right",da("right")),i.setReducer("border-bottom",da("bottom")),i.setReducer("border-left",da("left")),i.setReducer("border",Z4()),i.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),i.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),i.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),i.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),i.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),i.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),i.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),i.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function K4(){return i=>{const{color:t,style:e,width:n}=Hp(i);return{path:"border",value:{color:br(t),style:br(e),width:br(n)}}}}function ca(i){return t=>{const{color:e,style:n,width:o}=Hp(t),r={};return e!==void 0&&(r.color={[i]:e}),n!==void 0&&(r.style={[i]:n}),o!==void 0&&(r.width={[i]:o}),{path:"border",value:r}}}function _d(i){return t=>({path:"border",value:Y4(t,i)})}function Y4(i,t){return{[t]:br(i)}}function He(i,t){return e=>({path:"border",value:{[i]:{[t]:e}}})}function la(i){return(t,e)=>{if(e.border)return wr(e.border,i)}}function wr(i,t){const e={};return i.width&&i.width[t]&&(e.width=i.width[t]),i.style&&i.style[t]&&(e.style=i.style[t]),i.color&&i.color[t]&&(e.color=i.color[t]),e}function Hp(i){const t={},e=Ad(i);for(const n of e)aa(n)||/thin|medium|thick/.test(n)?t.width=n:z4(n)?t.style=n:t.color=n;return t}function Z4(){return t=>{const e=wr(t,"top"),n=wr(t,"right"),o=wr(t,"bottom"),r=wr(t,"left"),s=[e,n,o,r],a={width:i(s,"width"),style:i(s,"style"),color:i(s,"color")},c=uo(a,"all");return c.length?c:[...Object.entries(a).reduce((d,[u,m])=>(m&&(d.push([`border-${u}`,m]),s.forEach(b=>delete b[u])),d),[]),...uo(e,"top"),...uo(n,"right"),...uo(o,"bottom"),...uo(r,"left")]};function i(t,e){return t.map(n=>n[e]).reduce((n,o)=>n==o?n:null)}}function da(i){return t=>uo(t,i)}function uo(i,t){const e=[];if(i&&i.width&&e.push("width"),i&&i.style&&e.push("style"),i&&i.color&&e.push("color"),e.length==3){const n=e.map(o=>i[o]).join(" ");return[t=="all"?["border",n]:[`border-${t}`,n]]}return t=="all"?[]:e.map(n=>[`border-${t}-${n}`,i[n]])}function Q4(i){i.setNormalizer("margin",Fp("margin")),i.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),i.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),i.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),i.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),i.setReducer("margin",kr("margin")),i.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function J4(i){i.setNormalizer("padding",Fp("padding")),i.setNormalizer("padding-top",t=>({path:"padding.top",value:t})),i.setNormalizer("padding-right",t=>({path:"padding.right",value:t})),i.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t})),i.setNormalizer("padding-left",t=>({path:"padding.left",value:t})),i.setReducer("padding",kr("padding")),i.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}class X4{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new v("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*Gt(this._commands.keys())}*commands(){yield*Gt(this._commands.values())}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class tT extends jt{constructor(t){super(),this.editor=t}set(t,e,n={}){if(typeof e=="string"){const o=e;e=(r,s)=>{this.editor.execute(o),s()}}super.set(t,e,n)}}class eT extends ut(){constructor(t={}){super();const e=this.constructor,n=t.language||e.defaultConfig&&e.defaultConfig.language;this._context=t.context||new jg({language:n}),this._context._addEditor(this,!t.context);const o=Array.from(e.builtinPlugins||[]);this.config=new qm(t,e.defaultConfig),this.config.define("plugins",o),this.config.define(this._context._getEditorConfig()),this.plugins=new Fg(this,o,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new X4,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new y4;const r=new n2;this.data=new BD(this.model,r),this.editing=new aD(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ND([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new tT(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new v("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new v("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new v("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(o),n,r)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(e=>this.once("ready",e))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(n){v.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function nT(i){if(!Ye(i.updateSourceElement))throw new v("attachtoform-missing-elementapi-interface",i);const t=i.sourceElement;if(iT(t)&&t.form){let e;const n=t.form,o=()=>i.updateSourceElement();Ye(n.submit)&&(e=n.submit,n.submit=()=>{o(),e.apply(n)}),n.addEventListener("submit",o),i.on("destroy",()=>{n.removeEventListener("submit",o),e&&(n.submit=e)})}}function iT(i){return!!i&&i.tagName.toLowerCase()==="textarea"}function ua(i){class t extends i{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return t}{const i=ua(Object);ua.setData=i.prototype.setData,ua.getData=i.prototype.getData}function vd(i){class t extends i{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new v("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!r){eg(this.sourceElement,"");return}eg(this.sourceElement,n)}}return t}vd.updateSourceElement=vd(Object).prototype.updateSourceElement;function gO(i,t){if(t.ckeditorInstance)throw new CKEditorError("editor-source-element-already-used",i);t.ckeditorInstance=i,i.once("destroy",()=>{delete t.ckeditorInstance})}class ha extends Ws{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ft({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new v("pendingactions-add-invalid-message",this);const e=new(ut());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const J={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var Up=I(5571),yd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yd.insert="head",yd.singleton=!0;var YO=V()(Up.Z,yd);const ZO=Up.Z.locals||{},{threeVerticalDots:Wp}=J,oT={alignLeft:J.alignLeft,bold:J.bold,importExport:J.importExport,paragraph:J.paragraph,plus:J.plus,text:J.text,threeVerticalDots:J.threeVerticalDots};class ho extends q{constructor(t,e){super(t);const n=this.bindTemplate,o=this.t;this.options=e||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new zt,this.keystrokes=new jt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new rT(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=t.uiLanguageDirection==="rtl";this._focusCycler=new _e({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const s=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&s.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:s,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:Ty(this)}}),this._behavior=this.options.shouldGroupWhenFull?new aT(this):new sT(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){this.items.addMany(this._buildItemsFromConfig(t,e,n))}_buildItemsFromConfig(t,e,n){const o=Pg(t),r=n||o.removeItems;return this._cleanItemsConfiguration(o.items,e,r).map(a=>vt(a)?this._createNestedToolbarDropdown(a,e,r):a==="|"?new Pl:a==="-"?new Dy:e.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(t,e,n){const o=t.filter((r,s,a)=>r==="|"?!0:n.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(_t("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!vt(r)&&!e.has(r)?(_t("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(t){const e=s=>s!=="-"&&s!=="|",n=t.length,o=t.findIndex(e);if(o===-1)return[];const r=n-t.slice().reverse().findIndex(e);return t.slice(o,r).filter((s,a,c)=>e(s)?!0:!(a>0&&c[a-1]===s))}_createNestedToolbarDropdown(t,e,n){let{label:o,icon:r,items:s,tooltip:a=!0,withText:c=!1}=t;if(s=this._cleanItemsConfiguration(s,e,n),!s.length)return null;const l=this.locale,d=Ht(l);return o||_t("toolbarview-nested-toolbar-dropdown-missing-label",t),d.class="ck-toolbar__nested-toolbar-dropdown",d.buttonView.set({label:o,tooltip:a,withText:!!c}),r!==!1?d.buttonView.icon=oT[r]||r||Wp:d.buttonView.withText=!0,Ar(d,()=>d.toolbarView._buildItemsFromConfig(s,e,n)),d}}class rT extends q{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class sT{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(n=>n),t.focusables.bindTo(t.items).using(n=>n),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class aT{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(e,n)=>{const o=n.index,r=Array.from(n.added);for(const s of n.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=o;s<o+r.length;s++){const a=r[s-o];s>this.ungroupedItems.length?this.groupedItems.add(a,s-this.ungroupedItems.length):this.ungroupedItems.add(a,s)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!$n(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new ft(t.lastChild),o=new ft(t);if(!this.cachedPadding){const r=rt.window.getComputedStyle(t),s=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[s])}return e==="ltr"?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Bt(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Pl),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Ht(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",Ar(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:Wp}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Gp=I(1162),xd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xd.insert="head",xd.singleton=!0;var QO=V()(Gp.Z,xd);const JO=Gp.Z.locals||{};class qp extends q{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new zt,this.keystrokes=new jt,this._focusCycler=new _e({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":e.to("ariaLabel")},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ed extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",n=>!n)]},children:this.children})}focus(){this.children.first.focus()}}class cT extends q{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var $p=I(5075),Dd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Dd.insert="head",Dd.singleton=!0;var XO=V()($p.Z,Dd);const tV=$p.Z.locals||{};var Kp=I(6875),Td={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Td.insert="head",Td.singleton=!0;var eV=V()(Kp.Z,Td);const nV=Kp.Z.locals||{};function Ht(i,t=Ng){const e=new t(i),n=new Ey(i),o=new to(i,e,n);return e.bind("isEnabled").to(o),e instanceof eo?e.arrowView.bind("isOn").to(o,"isOpen"):e.bind("isOn").to(o,"isOpen"),lT(o),o}function Ar(i,t,e={}){i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.isOpen?Yp(i,t,e):i.once("change:isOpen",()=>Yp(i,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&ma(i,()=>i.toolbarView.items.find(n=>n.isOn))}function Yp(i,t,e){const n=i.locale,o=n.t,r=i.toolbarView=new ho(n),s=typeof t=="function"?t():t;r.ariaLabel=e.ariaLabel||o("Dropdown toolbar"),e.maxWidth&&(r.maxWidth=e.maxWidth),e.class&&(r.class=e.class),e.isCompact&&(r.isCompact=e.isCompact),e.isVertical&&(r.isVertical=!0),s instanceof be?r.items.bindTo(s).using(a=>a):r.items.addMany(s),i.panelView.children.add(r),r.items.delegate("execute").to(i)}function Dn(i,t,e={}){i.isOpen?Zp(i,t,e):i.once("change:isOpen",()=>Zp(i,t,e),{priority:"highest"}),ma(i,()=>i.listView.items.find(n=>n instanceof Ed?n.children.first.isOn:!1))}function Zp(i,t,e){const n=i.locale,o=i.listView=new qp(n),r=typeof t=="function"?t():t;o.ariaLabel=e.ariaLabel,o.items.bindTo(r).using(s=>{if(s.type==="separator")return new cT(n);if(s.type==="button"||s.type==="switchbutton"){const a=new Ed(n);let c;return s.type==="button"?c=new Q(n):c=new er(n),c.bind(...Object.keys(s.model)).to(s.model),c.delegate("execute").to(a),a.children.add(c),a}return null}),i.panelView.children.add(o),o.items.delegate("execute").to(i)}function ma(i,t){i.on("change:isOpen",()=>{if(!i.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():_t("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:we.low-10})}function lT(i){dT(i),uT(i),hT(i),mT(i),gT(i),fT(i)}function dT(i){i.on("render",()=>{w({emitter:i,activator:()=>i.isOpen,callback:()=>{i.isOpen=!1},contextElements:[i.element]})})}function uT(i){i.on("execute",t=>{t.source instanceof er||(i.isOpen=!1)})}function hT(i){i.focusTracker.on("change:isFocused",(t,e,n)=>{i.isOpen&&!n&&(i.isOpen=!1)})}function mT(i){i.keystrokes.set("arrowdown",(t,e)=>{i.isOpen&&(i.panelView.focus(),e())}),i.keystrokes.set("arrowup",(t,e)=>{i.isOpen&&(i.panelView.focusLast(),e())})}function gT(i){i.on("change:isOpen",(t,e,n)=>{if(n)return;const o=i.panelView.element;o&&o.contains(rt.document.activeElement)&&i.buttonView.focus()})}function fT(i){i.on("change:isOpen",(t,e,n)=>{n&&i.panelView.focus()},{priority:"low"})}var Qp=I(8245),Sd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sd.insert="head",Sd.singleton=!0;var iV=V()(Qp.Z,Sd);const oV=Qp.Z.locals||{},Jp=Qi("px"),Xp=rt.document.body;class ke extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",n=>`ck-balloon-panel_${n}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Jp),left:e.to("left",Jp)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=ke.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:Xp,fitInViewport:!0},t),o=ke._getOptimalPosition(n),r=parseInt(o.left),s=parseInt(o.top),a=o.name,c=o.config||{},{withArrow:l=!0}=c;this.top=s,this.left=r,this.position=a,this.withArrow=l}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Id(t.target),n=t.limiter?Id(t.limiter):Xp;this.listenTo(rt.document,"scroll",(o,r)=>{const s=r.target,a=e&&s.contains(e),c=n&&s.contains(n);(a||c||!e||!n)&&this.attachTo(t)},{useCapture:!0}),this.listenTo(rt.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(rt.document,"scroll"),this.stopListening(rt.window,"resize")}}ke.arrowSideOffset=25,ke.arrowHeightOffset=10,ke.stickyVerticalOffset=20,ke._getOptimalPosition=ig,ke.defaultPositions=tb();function Id(i){return Zi(i)?i:Rs(i)?i.commonAncestorContainer:typeof i=="function"?Id(i()):null}function tb(i={}){const{sideOffset:t=ke.arrowSideOffset,heightOffset:e=ke.arrowHeightOffset,stickyVerticalOffset:n=ke.stickyVerticalOffset,config:o}=i;return{northWestArrowSouthWest:(a,c)=>U({top:r(a,c),left:a.left-t,name:"arrow_sw"},o&&{config:o}),northWestArrowSouthMiddleWest:(a,c)=>U({top:r(a,c),left:a.left-c.width*.25-t,name:"arrow_smw"},o&&{config:o}),northWestArrowSouth:(a,c)=>U({top:r(a,c),left:a.left-c.width/2,name:"arrow_s"},o&&{config:o}),northWestArrowSouthMiddleEast:(a,c)=>U({top:r(a,c),left:a.left-c.width*.75+t,name:"arrow_sme"},o&&{config:o}),northWestArrowSouthEast:(a,c)=>U({top:r(a,c),left:a.left-c.width+t,name:"arrow_se"},o&&{config:o}),northArrowSouthWest:(a,c)=>U({top:r(a,c),left:a.left+a.width/2-t,name:"arrow_sw"},o&&{config:o}),northArrowSouthMiddleWest:(a,c)=>U({top:r(a,c),left:a.left+a.width/2-c.width*.25-t,name:"arrow_smw"},o&&{config:o}),northArrowSouth:(a,c)=>U({top:r(a,c),left:a.left+a.width/2-c.width/2,name:"arrow_s"},o&&{config:o}),northArrowSouthMiddleEast:(a,c)=>U({top:r(a,c),left:a.left+a.width/2-c.width*.75+t,name:"arrow_sme"},o&&{config:o}),northArrowSouthEast:(a,c)=>U({top:r(a,c),left:a.left+a.width/2-c.width+t,name:"arrow_se"},o&&{config:o}),northEastArrowSouthWest:(a,c)=>U({top:r(a,c),left:a.right-t,name:"arrow_sw"},o&&{config:o}),northEastArrowSouthMiddleWest:(a,c)=>U({top:r(a,c),left:a.right-c.width*.25-t,name:"arrow_smw"},o&&{config:o}),northEastArrowSouth:(a,c)=>U({top:r(a,c),left:a.right-c.width/2,name:"arrow_s"},o&&{config:o}),northEastArrowSouthMiddleEast:(a,c)=>U({top:r(a,c),left:a.right-c.width*.75+t,name:"arrow_sme"},o&&{config:o}),northEastArrowSouthEast:(a,c)=>U({top:r(a,c),left:a.right-c.width+t,name:"arrow_se"},o&&{config:o}),southWestArrowNorthWest:a=>U({top:s(a),left:a.left-t,name:"arrow_nw"},o&&{config:o}),southWestArrowNorthMiddleWest:(a,c)=>U({top:s(a),left:a.left-c.width*.25-t,name:"arrow_nmw"},o&&{config:o}),southWestArrowNorth:(a,c)=>U({top:s(a),left:a.left-c.width/2,name:"arrow_n"},o&&{config:o}),southWestArrowNorthMiddleEast:(a,c)=>U({top:s(a),left:a.left-c.width*.75+t,name:"arrow_nme"},o&&{config:o}),southWestArrowNorthEast:(a,c)=>U({top:s(a),left:a.left-c.width+t,name:"arrow_ne"},o&&{config:o}),southArrowNorthWest:a=>U({top:s(a),left:a.left+a.width/2-t,name:"arrow_nw"},o&&{config:o}),southArrowNorthMiddleWest:(a,c)=>U({top:s(a),left:a.left+a.width/2-c.width*.25-t,name:"arrow_nmw"},o&&{config:o}),southArrowNorth:(a,c)=>U({top:s(a),left:a.left+a.width/2-c.width/2,name:"arrow_n"},o&&{config:o}),southArrowNorthMiddleEast:(a,c)=>U({top:s(a),left:a.left+a.width/2-c.width*.75+t,name:"arrow_nme"},o&&{config:o}),southArrowNorthEast:(a,c)=>U({top:s(a),left:a.left+a.width/2-c.width+t,name:"arrow_ne"},o&&{config:o}),southEastArrowNorthWest:a=>U({top:s(a),left:a.right-t,name:"arrow_nw"},o&&{config:o}),southEastArrowNorthMiddleWest:(a,c)=>U({top:s(a),left:a.right-c.width*.25-t,name:"arrow_nmw"},o&&{config:o}),southEastArrowNorth:(a,c)=>U({top:s(a),left:a.right-c.width/2,name:"arrow_n"},o&&{config:o}),southEastArrowNorthMiddleEast:(a,c)=>U({top:s(a),left:a.right-c.width*.75+t,name:"arrow_nme"},o&&{config:o}),southEastArrowNorthEast:(a,c)=>U({top:s(a),left:a.right-c.width+t,name:"arrow_ne"},o&&{config:o}),westArrowEast:(a,c)=>U({top:a.top+a.height/2-c.height/2,left:a.left-c.width-e,name:"arrow_e"},o&&{config:o}),eastArrowWest:(a,c)=>U({top:a.top+a.height/2-c.height/2,left:a.right+e,name:"arrow_w"},o&&{config:o}),viewportStickyNorth:(a,c,l)=>a.getIntersection(l)?{top:l.top+n,left:a.left+a.width/2-c.width/2,name:"arrowless",config:U({withArrow:!1},o)}:null};function r(a,c){return a.top-c.height-e}function s(a){return a.bottom+e}}var eb=I(9948),Md={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Md.insert="head",Md.singleton=!0;var rV=V()(eb.Z,Md);const sV=eb.Z.locals||{},nb="ck-tooltip";class le extends vn(){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,le._editors.add(t),le._instance)return le._instance;le._instance=this,this.tooltipTextView=new q(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ke(t.locale),this.balloonPanelView.class=nb,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=yn(this._pinTooltip,600),this.listenTo(rt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(rt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(rt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(rt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(rt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;le._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),le._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),le._instance=null)}static getPositioningFunctions(t){const e=le.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:e}){const n=Bd(e);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,pT(n)))}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if(t.name==="mouseleave"){if(!Zi(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=Bd(e),r=Bd(n);o&&o!==r&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:o}){const r=Pt(le._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:t,positions:le.getPositioningFunctions(n)}),this._resizeObserver=new Bt(t,()=>{$n(t)||this._unpinTooltip()}),this.balloonPanelView.class=[nb,o].filter(s=>s).join(" ");for(const s of le._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of le._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!$n(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:le.getPositioningFunctions(this._currentTooltipPosition)})}}le.defaultBalloonPositions=tb({heightOffset:5,sideOffset:13}),le._editors=new Set,le._instance=null;function Bd(i){return Zi(i)?i.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function pT(i){return{text:i.dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}}class bT extends ut(){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=t,this.componentFactory=new xy(t),this.focusTracker=new zt,this.tooltipManager=new le(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let n,o;t.keystrokes.set("Alt+F10",(r,s)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(e.domRoots.values()).includes(a)&&(n=a);const c=this._getCurrentFocusedToolbarDefinition();(!c||!o)&&(o=this._getFocusableCandidateToolbarDefinitions());for(let l=0;l<o.length;l++){const d=o.shift();if(o.push(d),d!==c&&this._focusFocusableCandidateToolbar(d)){c&&c.options.afterBlur&&c.options.afterBlur();break}}s()}),t.keystrokes.set("Esc",(r,s)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(n?(n.focus(),n=null):t.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),s())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:o}=e;($n(n.element)||o.beforeFocus)&&t.push(e)}return t.sort((e,n)=>ib(e)-ib(n)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),$n(e.element)?(e.focus(),!0):!1}}function ib(i){const{toolbarView:t,options:e}=i;let n=10;return $n(t.element)&&n--,e.isContextual&&n--,n}var ob=I(4547),zd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zd.insert="head",zd.singleton=!0;var aV=V()(ob.Z,zd);const cV=ob.Z.locals||{};class kT extends q{constructor(t){super(t),this.body=new _y(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var rb=I(2751),Nd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nd.insert="head",Nd.singleton=!0;var lV=V()(rb.Z,Nd);const dV=rb.Z.locals||{};class Ue extends q{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${oe()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class wT extends kT{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new Ue;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class AT extends q{constructor(t,e,n){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;t.isRenderingInProgress?n(this):e(this);function e(o){t.change(r=>{const s=t.document.getRoot(o.name);r.addClass(o.isFocused?"ck-focused":"ck-blurred",s),r.removeClass(o.isFocused?"ck-blurred":"ck-focused",s)})}function n(o){t.once("change:isRenderingInProgress",(r,s,a)=>{a?n(o):e(o)})}}}class CT extends AT{constructor(t,e,n,o={}){super(t,e,n);const r=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=o.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),n)})}}var sb=I(5523),Ld={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ld.insert="head",Ld.singleton=!0;var uV=V()(sb.Z,Ld);const hV=sb.Z.locals||{};class ga extends q{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children});const o=new q(t);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:n.to("label")}]}),this.children.add(o)}}var ab=I(6985),Pd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Pd.insert="head",Pd.singleton=!0;var mV=V()(ab.Z,Pd);const gV=ab.Z.locals||{};class cb extends q{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new zt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),inputmode:e.to("inputMode"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=_T(this.element)}_setDomElementValue(t){this.element.value=!t&&t!==0?"":t}}function _T(i){return!i.value}class lb extends cb{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class vT extends cb{constructor(t,{min:e,max:n,step:o}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",n),this.set("step",o),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}class fV extends null{constructor(t){super(t);const e=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:e.to("loaded")}})}render(){return new Promise(t=>(this.on("loaded",t),super.render()))}}var db=I(8111),Rd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rd.insert="head",Rd.singleton=!0;var pV=V()(db.Z,Rd);const bV=db.Z.locals||{};class ne extends q{constructor(t,e){super(t);const n=`ck-labeled-field-view-${oe()}`,o=`ck-labeled-field-view-status-${oe()}`;this.fieldView=e(this,n,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(s,a)=>s||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new Ue(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new q(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",o=>!o)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}function We(i,t,e){const n=new lb(i.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isReadOnly").to(i,"isEnabled",o=>!o),n.bind("hasError").to(i,"errorText",o=>!!o),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n}function yT(i,t,e){const n=new vT(i.locale);return n.set({id:t,ariaDescribedById:e,inputMode:"numeric"}),n.bind("isReadOnly").to(i,"isEnabled",o=>!o),n.bind("hasError").to(i,"errorText",o=>!!o),n.on("input",()=>{i.errorText=null}),i.bind("isEmpty","isFocused","placeholder").to(n),n}function ub(i,t,e){const n=Ht(i.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isEnabled").to(i),n}class hb extends Ws{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`;this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Tn extends ut(){constructor(t,e){super(),e&&Df(this,e),t&&this.set(t)}}const Od='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',xT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var mb=I(1757),Vd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vd.insert="head",Vd.singleton=!0;var kV=V()(mb.Z,Vd);const wV=mb.Z.locals||{};var gb=I(3553),Fd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Fd.insert="head",Fd.singleton=!0;var AV=V()(gb.Z,Fd);const CV=gb.Z.locals||{},fa=Qi("px");class fn extends S{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const e=this.editor.editing.view,o=e.document.selection.editableElement;return o?e.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new v("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e)){this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||t.singleViewMode)&&this.showStack(e);return}const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new v("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(e.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),e.size===1?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new v("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new ke(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(n=>n[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new ET(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,o)=>!o&&n>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,o)=>{if(o<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[r,o])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new DT(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,n)=>!n&&e>=2?Math.min(e-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:o=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class ET extends q{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new zt,this.buttonPrevView=this._createButtonView(e("Previous"),Od),this.buttonNextView=this._createButtonView(e("Next"),xT),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Q(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class DT extends q{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:n.to("top",fa),left:n.to("left",fa),width:n.to("width",fa),height:n.to("height",fa)}},children:this.content}),this.on("change:numberOfPanels",(o,r,s,a)=>{s>a?this._addPanels(s-a):this._removePanels(a-s),this.updatePosition()})}_addPanels(t){for(;t--;){const e=new q;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(t){for(;t--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:o}=new ft(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:o})}}}var fb=I(3609),jd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jd.insert="head",jd.singleton=!0;var _V=V()(fb.Z,jd);const vV=fb.Z.locals||{},Cr=Qi("px");class TT extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new ye({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",n=>n?"block":"none"),height:e.to("isSticky",n=>n?Cr(this._panelRect.height):null)}}}).render(),this._contentPanel=new ye({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",n=>n?Cr(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",n=>n?Cr(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",n=>n?Cr(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(rt.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Cr(-rt.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}const ST=Qi("px");class yV extends null{static get pluginName(){return"BalloonToolbar"}static get requires(){return[ContextualBalloon]}constructor(t){super(t),this._resizeObserver=null,this._balloonConfig=normalizeToolbarConfig(t.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new FocusTracker,t.ui.once("ready",()=>{this.focusTracker.add(t.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),t.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=t.plugins.get(ContextualBalloon),this._fireSelectionChangeDebounced=debounce(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const t=this.editor,e=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(n,o,r)=>{const s=this._balloon.visibleView===this.toolbarView;!r&&s?this.hide():r&&this.show()}),this.listenTo(e,"change:range",(n,o)=>{(o.directChange||e.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(t,"ready",()=>{const n=t.ui.view.editable.element;this._resizeObserver=new ResizeObserver(n,o=>{this.toolbarView.maxWidth=ST(o.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const t=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,t)}_createToolbarView(){const t=this.editor.locale.t,e=!this._balloonConfig.shouldNotGroupWhenFull,n=new ToolbarView(this.editor.locale,{shouldGroupWhenFull:e,isFloating:!0});return n.ariaLabel=t("Editor contextual toolbar"),n.render(),n}show(t=!1){const e=this.editor,n=e.model.document.selection,o=e.model.schema;this._balloon.hasView(this.toolbarView)||n.isCollapsed&&!t||IT(n,o)||Array.from(this.toolbarView.items).every(r=>r.isEnabled!==void 0&&!r.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const e=this.editor.editing.view,n=e.document,o=n.selection,r=n.selection.isBackward;return{target:()=>{const s=r?o.getFirstRange():o.getLastRange(),a=Rect.getDomRangeRects(e.domConverter.viewRangeToDom(s));return r?a[0]:(a.length>1&&a[a.length-1].width===0&&a.pop(),a[a.length-1])},positions:this._getBalloonPositions(r)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(t){const n=env.isSafari&&env.isiOS?generatePositions({heightOffset:Math.max(BalloonPanelView.arrowHeightOffset,Math.round(20/N.g.window.visualViewport.scale))}):BalloonPanelView.defaultPositions;return t?[n.northWestArrowSouth,n.northWestArrowSouthWest,n.northWestArrowSouthEast,n.northWestArrowSouthMiddleEast,n.northWestArrowSouthMiddleWest,n.southWestArrowNorth,n.southWestArrowNorthWest,n.southWestArrowNorthEast,n.southWestArrowNorthMiddleWest,n.southWestArrowNorthMiddleEast]:[n.southEastArrowNorth,n.southEastArrowNorthEast,n.southEastArrowNorthWest,n.southEastArrowNorthMiddleEast,n.southEastArrowNorthMiddleWest,n.northEastArrowSouth,n.northEastArrowSouthEast,n.northEastArrowSouthWest,n.northEastArrowSouthMiddleEast,n.northEastArrowSouthMiddleWest]}}function IT(i,t){return i.rangeCount===1?!1:[...i.getRanges()].every(e=>{const n=e.getContainedElement();return n&&t.isSelectable(n)})}var pb=I(6706),Hd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Hd.insert="head",Hd.singleton=!0;var xV=V()(pb.Z,Hd);const EV=pb.Z.locals||{},bb=Qi("px");class DV extends null{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",n=>bb(n)),left:e.to("left",n=>bb(n))}}})}}const MT=Qi("px"),{pilcrow:BT}=J;class TV extends null{static get pluginName(){return"BlockToolbar"}constructor(t){super(t),this._resizeObserver=null,this._blockToolbarConfig=normalizeToolbarConfig(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),clickOutsideHandler({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const t=this.editor;this.listenTo(t.model.document.selection,"change:range",(e,n)=>{n.directChange&&this._hidePanel()}),this.listenTo(t.ui,"update",()=>this._updateButton()),this.listenTo(t,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(e,n,o)=>{o?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),t.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){const t=this.editor.ui.componentFactory,e=this._blockToolbarConfig;this.toolbarView.fillFromConfig(e,t);for(const n of this.toolbarView.items)n.on("execute",()=>this._hidePanel(!0),{priority:"high"});e.shouldNotGroupWhenFull||this.listenTo(this.editor,"ready",()=>{const n=this.editor.ui.view.editable.element;this._resizeObserver=new ResizeObserver(n,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth()})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const t=this.editor.locale.t,e=!this._blockToolbarConfig.shouldNotGroupWhenFull,n=new ToolbarView(this.editor.locale,{shouldGroupWhenFull:e,isFloating:!0});return n.ariaLabel=t("Editor block content toolbar"),n.focusTracker.on("change:isFocused",(o,r,s)=>{s||this._hidePanel()}),n}_createPanelView(){const t=this.editor,e=new BalloonPanelView(t.locale);return e.content.add(this.toolbarView),e.class="ck-toolbar-container",t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this.toolbarView.keystrokes.set("Esc",(n,o)=>{this._hidePanel(!0),o()}),e}_createButtonView(){const t=this.editor,e=t.t,n=new BlockButtonView(t.locale),o=n.bindTemplate;return n.set({label:e("Edit block"),icon:BT,withText:!1}),n.extendTemplate({on:{mousedown:o.to(r=>{env.isSafari&&this.panelView.isVisible&&this.toolbarView.focus(),r.preventDefault()})}}),n.bind("isOn").to(this.panelView,"isVisible"),n.bind("tooltip").to(this.panelView,"isVisible",r=>!r),this.listenTo(n,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),t.ui.view.body.add(n),t.ui.focusTracker.add(n.element),n}_updateButton(){const t=this.editor,e=t.model,n=t.editing.view;if(!t.ui.focusTracker.isFocused){this._hideButton();return}if(t.isReadOnly){this._hideButton();return}const o=Array.from(e.document.selection.getSelectedBlocks())[0];if(!o||Array.from(this.toolbarView.items).every(s=>!s.isEnabled)){this._hideButton();return}const r=n.domConverter.mapViewToDom(t.editing.mapper.toViewElement(o));this.buttonView.isVisible=!0,this._attachButtonToElement(r),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const t=this.panelView.isVisible;this.panelView.show(),this.toolbarView.maxWidth=this._getToolbarMaxWidth(),this.panelView.pin({target:this.buttonView.element,limiter:this.editor.ui.getEditableElement()}),t||this.toolbarView.items.get(0).focus()}_hidePanel(t){this.panelView.isVisible=!1,t&&this.editor.editing.view.focus()}_attachButtonToElement(t){const e=window.getComputedStyle(t),n=new Rect(this.editor.ui.getEditableElement()),o=parseInt(e.paddingTop,10),r=parseInt(e.lineHeight,10)||parseInt(e.fontSize,10)*1.2,s=getOptimalPosition({element:this.buttonView.element,target:t,positions:[(a,c)=>{let l;return this.editor.locale.uiLanguageDirection==="ltr"?l=n.left-c.width:l=n.right,{top:a.top+o+(r-c.height)/2,left:l}}]});this.buttonView.top=s.top,this.buttonView.left=s.left}_getToolbarMaxWidth(){const t=this.editor.ui.view.editable.element,e=new Rect(t),n=new Rect(this.buttonView.element),r=this.editor.locale.uiLanguageDirection==="rtl"?n.left-e.right+n.width:e.left-n.left;return MT(e.width+r)}}class zT extends bT{constructor(t,e){super(t),this.view=e,this._toolbarConfig=Pg(t.config.get("toolbar")),this._elementReplacer=new qr}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,o=e.editing.view,r=n.editable,s=o.document.getRoot();r.name=s.rootName,n.render();const a=r.element;this.setEditableElement(r.name,a),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(a),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:e})=>e||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),o=t.sourceElement;let r;const s=t.config.get("placeholder");s&&(r=typeof s=="string"?s:s[this.view.editable.name]),!r&&o&&o.tagName.toLowerCase()==="textarea"&&(r=o.getAttribute("placeholder")),r&&Ol({view:e,element:n,text:r,isDirectHost:!1,keepOnFocus:!0})}}var kb=I(3638),Ud={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ud.insert="head",Ud.singleton=!0;var SV=V()(kb.Z,Ud);const IV=kb.Z.locals||{};class NT extends wT{constructor(t,e,n={}){super(t),this.stickyPanel=new TT(t),this.toolbar=new ho(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new CT(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class wb{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const n="error"in e?e.error:e.reason;n instanceof Error&&this._handleError(n,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(n=>n!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const o of n)o.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Wd(i,t=new Set){const e=[i],n=new Set;let o=0;for(;e.length>o;){const r=e[o++];if(!(n.has(r)||!LT(r)||t.has(r)))if(n.add(r),Symbol.iterator in r)try{for(const s of r)e.push(s)}catch(s){}else for(const s in r)s!=="defaultValue"&&e.push(r[s])}return n}function LT(i){const t=Object.prototype.toString.call(i),e=typeof i;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||i===void 0||i===null||i._watchdogExcluded||i instanceof EventTarget||i instanceof Event)}function Ab(i,t,e=new Set){if(i===t&&PT(i))return!0;const n=Wd(i,e),o=Wd(t,e);for(const r of n)if(o.has(r))return!0;return!1}function MV(i,t,e){const{subNodes:n,prevNodeMap:o}=getSubNodes(i,e.subNodes),{subNodes:r,prevNodeMap:s}=getSubNodes(t,e.subNodes);for(const a of n)if(r.has(a)){const c=[];c.push(a);let l=o.get(a);for(;l&&l!==i;)c.push(l),l=o.get(l);for(l=s.get(a);l&&l!==t;)c.unshift(l),l=s.get(l);return console.log("--------"),console.log({target1:i}),console.log({sharedNode:a}),console.log({target2:t}),console.log({connection:c}),!0}return!1}function PT(i){return typeof i=="object"&&i!==null}var RT="Expected a function";function OT(i,t,e){var n=!0,o=!0;if(typeof i!="function")throw new TypeError(RT);return vt(e)&&(n="leading"in e?!!e.leading:n,o="trailing"in e?!!e.trailing:o),yn(i,t,{leading:n,maxWait:t,trailing:o})}const pa=OT;class Cb extends wb{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=pa(this._save.bind(this),typeof e.saveInterval=="number"?e.saveInterval:5e3),t&&(this._creator=(n,o)=>t.create(n,o)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return Ab(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return pl(t,(e,n)=>{if(Zi(e)||n==="context")return e})}}const _r=Symbol("MainQueueId");class VT extends wb{constructor(t,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new FT,this._watchdogConfig=e,this._creator=n=>t.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(_r,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=_b(t);return Promise.all(e.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return o=new Cb(null,this._watchdogConfig),o.setCreator(n.creator),o._setExcludedProperties(this._contextProps),n.destructor&&o.setDestructor(n.destructor),this._watchdogs.set(n.id,o),o.on("error",(r,{error:s,causesRestart:a})=>{this._fire("itemError",{itemId:n.id,error:s}),a&&this._actionQueues.enqueue(n.id,()=>new Promise(c=>{const l=()=>{o.off("restart",l),this._fire("itemRestart",{itemId:n.id}),c()};o.on("restart",l)}))}),o.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(t){const e=_b(t);return Promise.all(e.map(n=>this._actionQueues.enqueue(n,()=>{const o=this._getWatchdog(n);return this._watchdogs.delete(n),o.destroy()})))}destroy(){return this._actionQueues.enqueue(_r,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(_r,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=Wd(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return Ab(this._context,t.context)}}class FT{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const n=t===_r;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(_r),this._queues.get(t)])).then(e),s=r.catch(()=>{});return this._queues.set(t,s),r.finally(()=>{this._activeActions--,this._queues.get(t)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function _b(i){return Array.isArray(i)?i:[i]}class ba extends ua(vd(eT)){constructor(t,e={}){if(!ka(t)&&e.initialData!==void 0)throw new v("editor-create-initial-data",null);super(e),this.config.get("initialData")===void 0&&this.config.set("initialData",jT(t)),ka(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=new NT(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new zT(this,o),nT(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const o=new this(t,e);n(o.initPlugins().then(()=>o.ui.init(ka(t)?t:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}ba.Context=jg,ba.EditorWatchdog=Cb,ba.ContextWatchdog=VT;function jT(i){return ka(i)?P1(i):i}function ka(i){return Zi(i)}const Gd=["left","right","center","justify"];function vb(i){return Gd.includes(i)}function yb(i,t){return t.contentLanguageDirection=="rtl"?i==="right":i==="left"}function xb(i){const t=i.map(n=>{let o;return typeof n=="string"?o={name:n}:o=n,o}).filter(n=>{const o=Gd.includes(n.name);return o||_t("alignment-config-name-not-recognized",{option:n}),o}),e=t.filter(n=>!!n.className).length;if(e&&e<t.length)throw new v("alignment-config-classnames-are-missing",{configuredOptions:i});return t.forEach((n,o,r)=>{const s=r.slice(o+1);if(s.some(c=>c.name==n.name))throw new v("alignment-config-name-already-defined",{option:n,configuredOptions:i});if(n.className&&s.some(l=>l.className==n.className))throw new v("alignment-config-classname-already-defined",{option:n,configuredOptions:i})}),t}const qd="alignment";class HT extends Y{refresh(){const e=this.editor.locale,n=Pt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n),this.isEnabled&&n.hasAttribute("alignment")?this.value=n.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,n=e.locale,o=e.model,r=o.document,s=t.value;o.change(a=>{const c=Array.from(r.selection.getSelectedBlocks()).filter(u=>this._canBeAligned(u)),l=c[0].getAttribute("alignment");yb(s,n)||l===s||!s?UT(c,a):WT(c,a,s)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,qd)}}function UT(i,t){for(const e of i)t.removeAttribute(qd,e)}function WT(i,t,e){for(const n of i)t.setAttribute(qd,e,n)}class GT extends S{static get pluginName(){return"AlignmentEditing"}constructor(t){super(t),t.config.define("alignment",{options:Gd.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,n=t.model.schema,r=xb(t.config.get("alignment.options")).filter(l=>vb(l.name)&&!yb(l.name,e)),s=r.some(l=>!!l.className);n.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),s?t.conversion.attributeToAttribute(YT(r)):t.conversion.for("downcast").attributeToAttribute(qT(r));const a=$T(r);for(const l of a)t.conversion.for("upcast").attributeToAttribute(l);const c=KT(r);for(const l of c)t.conversion.for("upcast").attributeToAttribute(l);t.commands.add("alignment",new HT(t))}}function qT(i){const t={};for(const{name:n}of i)t[n]={key:"style",value:{"text-align":n}};return{model:{key:"alignment",values:i.map(n=>n.name)},view:t}}function $T(i){const t=[];for(const{name:e}of i)t.push({view:{key:"style",value:{"text-align":e}},model:{key:"alignment",value:e}});return t}function KT(i){const t=[];for(const{name:e}of i)t.push({view:{key:"align",value:e},model:{key:"alignment",value:e}});return t}function YT(i){const t={};for(const n of i)t[n.name]={key:"class",value:n.className};return{model:{key:"alignment",values:i.map(n=>n.name)},view:t}}const wa=new Map([["left",J.alignLeft],["right",J.alignRight],["center",J.alignCenter],["justify",J.alignJustify]]);class ZT extends S{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t,o=xb(t.config.get("alignment.options"));o.map(r=>r.name).filter(vb).forEach(r=>this._addButton(r)),e.add("alignment",r=>{const s=Ht(r);Ar(s,()=>o.map(l=>e.create(`alignment:${l.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),s.buttonView.set({label:n("Text alignment"),tooltip:!0}),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const a=r.contentLanguageDirection==="rtl"?wa.get("right"):wa.get("left"),c=t.commands.get("alignment");return s.buttonView.bind("icon").to(c,"value",l=>wa.get(l)||a),s.bind("isEnabled").to(c,"isEnabled"),this.listenTo(s,"execute",()=>{t.editing.view.focus()}),s})}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,n=>{const o=e.commands.get("alignment"),r=new Q(n);return r.set({label:this.localizedOptionTitles[t],icon:wa.get(t),tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o),r.bind("isOn").to(o,"value",s=>s===t),this.listenTo(r,"execute",()=>{e.execute("alignment",{value:t}),e.editing.view.focus()}),r})}}class QT extends S{static get requires(){return[GT,ZT]}static get pluginName(){return"Alignment"}}class Eb{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(n,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class JT extends Y{constructor(t,e){super(t),this._buffer=new Eb(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,o=t.text||"",r=o.length;let s=n.selection;t.selection?s=t.selection:t.range&&(s=e.createSelection(t.range));const a=t.resultRange;e.enqueueChange(this._buffer.batch,c=>{this._buffer.lock(),e.deleteContent(s),o&&e.insertContent(c.createText(o,n.selection.getAttributes()),s),a?c.setSelection(a):s.is("documentSelection")||c.setSelection(s),this._buffer.unlock(),this._buffer.input(r)})}}const Db=["insertText","insertReplacementText"];class XT extends hn{constructor(t){super(t),p.isAndroid&&Db.push("insertCompositionText");const e=t.document;e.on("beforeinput",(n,o)=>{if(!this.isEnabled)return;const{data:r,targetRanges:s,inputType:a,domEvent:c}=o;if(!Db.includes(a))return;const l=new Xt(e,"insertText");e.fire(l,new ro(t,c,{text:r,selection:t.createSelection(s)})),l.stop.called&&n.stop()}),e.on("compositionend",(n,{data:o,domEvent:r})=>{!this.isEnabled||p.isAndroid||o&&e.fire("insertText",new ro(t,r,{text:o,selection:e.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Tb extends S{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,n=t.editing.view,o=e.document.selection;n.addObserver(XT);const r=new JT(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",r),t.commands.add("input",r),this.listenTo(n.document,"insertText",(s,a)=>{n.document.isComposing||a.preventDefault();const{text:c,selection:l,resultRange:d}=a,u=Array.from(l.getRanges()).map(A=>t.editing.mapper.toModelRange(A));let m=c;if(p.isAndroid){const A=Array.from(u[0].getItems()).reduce((T,B)=>T+(B.is("$textProxy")?B.data:""),"");A&&(A.length<=m.length?m.startsWith(A)&&(m=m.substring(A.length),u[0].start=u[0].start.getShiftedBy(A.length)):A.startsWith(m)&&(u[0].start=u[0].start.getShiftedBy(m.length),m=""))}const b={text:m,selection:e.createSelection(u)};d&&(b.resultRange=t.editing.mapper.toModelRange(d)),t.execute("insertText",b)}),p.isAndroid?this.listenTo(n.document,"keydown",(s,a)=>{o.isCollapsed||a.keyCode!=229||!n.document.isComposing||Sb(e,r)}):this.listenTo(n.document,"compositionstart",()=>{o.isCollapsed||Sb(e,r)})}}function Sb(i,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),i.enqueueChange(e.batch,()=>{i.deleteContent(i.document.selection)}),e.unlock()}class Ib extends Y{constructor(t,e){super(t),this.direction=e,this._buffer=new Eb(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const r=o.createSelection(t.selection||n.selection),s=t.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(s)){this._replaceEntireContentWithParagraph(o);return}if(this._shouldReplaceFirstBlockWithParagraph(r,s)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let c=0;r.getFirstRange().getMinimalFlatRanges().forEach(l=>{c+=On(l.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(c),o.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,o=e.document.selection,r=e.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(r))||!e.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(t){const e=this.editor.model,o=e.document.selection,r=e.schema.getLimitElement(o),s=t.createElement("paragraph");t.remove(t.createRangeIn(r)),t.insert(s,r),t.setSelection(s,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||this.direction!="backward"||!t.isCollapsed)return!1;const o=t.getFirstPosition(),r=n.schema.getLimitElement(o),s=r.getChild(0);return!(o.parent!=s||!t.containsEntireContent(s)||!n.schema.checkChild(r,"paragraph")||s.name=="paragraph")}}const tS="character",Mb="word",eS="codePoint",Qn="selection",mo="backward",vr="forward",Bb={deleteContent:{unit:Qn,direction:mo},deleteContentBackward:{unit:eS,direction:mo},deleteWordBackward:{unit:Mb,direction:mo},deleteHardLineBackward:{unit:Qn,direction:mo},deleteSoftLineBackward:{unit:Qn,direction:mo},deleteContentForward:{unit:tS,direction:vr},deleteWordForward:{unit:Mb,direction:vr},deleteHardLineForward:{unit:Qn,direction:vr},deleteSoftLineForward:{unit:Qn,direction:vr}};class nS extends hn{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",()=>{n++}),e.on("keyup",()=>{n=0}),e.on("beforeinput",(o,r)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:a,inputType:c}=r,l=Bb[c];if(!l)return;const d={direction:l.direction,unit:l.unit,sequence:n};d.unit==Qn&&(d.selectionToRemove=t.createSelection(s[0])),c==="deleteContentBackward"&&(p.isAndroid&&(d.sequence=1),oS(s)&&(d.unit=Qn,d.selectionToRemove=t.createSelection(s)));const u=new io(e,"delete",s[0]);e.fire(u,new ro(t,a,d)),u.stop.called&&o.stop()}),p.isBlink&&iS(this)}observe(){}stopObserving(){}}function iS(i){const t=i.view,e=t.document;let n=null,o=!1;e.on("keydown",(a,{keyCode:c})=>{n=c,o=!1}),e.on("keyup",(a,{keyCode:c,domEvent:l})=>{const d=e.selection,u=i.isEnabled&&c==n&&r(c)&&!d.isCollapsed&&!o;if(n=null,u){const m=d.getFirstRange(),b=new io(e,"delete",m),A={unit:Qn,direction:s(c),selectionToRemove:d};e.fire(b,new ro(t,l,A))}}),e.on("beforeinput",(a,{inputType:c})=>{const l=Bb[c];r(n)&&l&&l.direction==s(n)&&(o=!0)},{priority:"high"}),e.on("beforeinput",(a,{inputType:c,data:l})=>{n==lt.delete&&c=="insertText"&&l=="\x7F"&&a.stop()},{priority:"high"});function r(a){return a==lt.backspace||a==lt.delete}function s(a){return a==lt.backspace?mo:vr}}function oS(i){if(i.length!=1||i[0].isCollapsed)return!1;const t=i[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:n}of t){if(!n.parent.is("$text"))e++;else{const o=n.parent.data,r=n.offset;if(Cl(o,r)||_l(o,r)||fg(o,r))continue;e++}if(e>1)return!0}return!1}class Sn extends S{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,o=t.model.document;e.addObserver(nS),this._undoOnBackspace=!1;const r=new Ib(t,"forward");t.commands.add("deleteForward",r),t.commands.add("forwardDelete",r),t.commands.add("delete",new Ib(t,"backward")),this.listenTo(n,"delete",(s,a)=>{n.isComposing||a.preventDefault();const{direction:c,sequence:l,selectionToRemove:d,unit:u}=a,m=c==="forward"?"deleteForward":"delete",b={sequence:l};if(u=="selection"){const A=Array.from(d.getRanges()).map(T=>t.editing.mapper.toModelRange(T));b.selection=t.model.createSelection(A)}else b.unit=u;t.execute(m,b),e.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(s,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,t.execute("undo"),a.preventDefault(),s.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class zb extends S{static get requires(){return[Tb,Sn]}static get pluginName(){return"Typing"}}function Nb(i,t){let e=i.start;return{text:Array.from(i.getItems()).reduce((o,r)=>r.is("$text")||r.is("$textProxy")?o+r.data:(e=t.createPositionAfter(r),""),""),range:t.createRange(e,i.end)}}class $d extends ut(){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(n,{directChange:o})=>{if(o){if(!e.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(e,"change:data",(n,o)=>{o.isUndo||!o.isLocal||this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,r=n.document.selection,s=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:a,range:c}=Nb(s,n),l=this.testCallback(a);if(!l&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!l,l){const d=Object.assign(e,{text:a,range:c});typeof l=="object"&&Object.assign(d,l),this.fire(`matched:${t}`,d)}}}class Lb extends S{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,o=t.locale,r=e.document.selection;this.listenTo(n.document,"arrowKey",(s,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const c=a.keyCode==lt.arrowright,l=a.keyCode==lt.arrowleft;if(!c&&!l)return;const d=o.contentLanguageDirection;let u=!1;d==="ltr"&&c||d==="rtl"&&l?u=this._handleForwardMovement(a):u=this._handleBackwardMovement(a),u===!0&&s.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",(s,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Ca(r.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,o=this.editor.model.document.selection,r=o.getFirstPosition();return this._isGravityOverridden||r.isAtStart&&Kd(o,e)?!1:Ca(r,e)?(Aa(t),this._overrideGravity(),!0):!1}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,o=n.document.selection,r=o.getFirstPosition();return this._isGravityOverridden?(Aa(t),this._restoreGravity(),Yd(n,e,r),!0):r.isAtStart?Kd(o,e)?(Aa(t),Yd(n,e,r),!0):!1:rS(r,e)?r.isAtEnd&&!Kd(o,e)&&Ca(r,e)?(Aa(t),Yd(n,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Kd(i,t){for(const e of t)if(i.hasAttribute(e))return!0;return!1}function Yd(i,t,e){const n=e.nodeBefore;i.change(o=>{n?o.setSelectionAttribute(n.getAttributes()):o.removeSelectionAttribute(t)})}function Aa(i){i.preventDefault()}function rS(i,t){const e=i.getShiftedBy(-1);return Ca(e,t)}function Ca(i,t){const{nodeBefore:e,nodeAfter:n}=i;for(const o of t){const r=e?e.getAttribute(o):void 0;if((n?n.getAttribute(o):void 0)!==r)return!0}return!1}var Pb=/[\\^$.*+?()[\]{}|]/g,sS=RegExp(Pb.source);function aS(i){return i=Hl(i),i&&sS.test(i)?i.replace(Pb,"\\$&"):i}const Rb=aS,Ob={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:go('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:go("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:go("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:go('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:go('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:go("'"),to:[null,"\u201A",null,"\u2019"]}},Vb={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},cS=["symbols","mathematical","typography","quotes"];class lS extends S{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:cS}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Delete"),o=mS(t.config.get("typing.transformations")),r=a=>{for(const c of o)if(c.from.test(a))return{normalizedTransformation:c}},s=new $d(t.model,r);s.on("matched:data",(a,c)=>{if(!c.batch.isTyping)return;const{from:l,to:d}=c.normalizedTransformation,u=l.exec(c.text),m=d(u.slice(1)),b=c.range;let A=u.index;e.enqueueChange(T=>{for(let B=1;B<u.length;B++){const L=u[B],j=m[B-1];if(j==null){A+=L.length;continue}const dt=b.start.getShiftedBy(A),ht=e.createRange(dt,dt.getShiftedBy(L.length)),Nt=hS(dt);e.insertContent(T.createText(j,Nt),ht),A+=j.length}e.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}}function dS(i){return typeof i=="string"?new RegExp(`(${Rb(i)})$`):i}function uS(i){return typeof i=="string"?()=>[i]:i instanceof Array?()=>i:i}function hS(i){return(i.textNode?i.textNode:i.nodeAfter).getAttributes()}function go(i){return new RegExp(`(^|\\s)(${i})([^${i}]*)(${i})$`)}function mS(i){const t=i.extra||[],e=i.remove||[],n=r=>!e.includes(r),o=i.include.concat(t).filter(n);return gS(o).filter(n).map(r=>typeof r=="string"&&Ob[r]?Ob[r]:r).filter(r=>typeof r=="object").map(r=>({from:dS(r.from),to:uS(r.to)}))}function gS(i){const t=new Set;for(const e of i)if(typeof e=="string"&&Vb[e])for(const n of Vb[e])t.add(n);else t.add(e);return Array.from(t)}function fo(i,t,e,n){return n.createRange(Fb(i,t,e,!0,n),Fb(i,t,e,!1,n))}function Fb(i,t,e,n,o){let r=i.textNode||(n?i.nodeBefore:i.nodeAfter),s=null;for(;r&&r.getAttribute(t)==e;)s=r,r=n?r.previousSibling:r.nextSibling;return s?o.createPositionAt(s,n?"before":"after"):i}function fS(i,t,e,n){const o=i.editing.view,r=new Set;o.document.registerPostFixer(s=>{const a=i.model.document.selection;let c=!1;if(a.hasAttribute(t)){const l=fo(a.getFirstPosition(),t,a.getAttribute(t),i.model),d=i.editing.mapper.toViewRange(l);for(const u of d.getItems())u.is("element",e)&&!u.hasClass(n)&&(s.addClass(n,u),r.add(u),c=!0)}return c}),i.conversion.for("editingDowncast").add(s=>{s.on("insert",a,{priority:"highest"}),s.on("remove",a,{priority:"highest"}),s.on("attribute",a,{priority:"highest"}),s.on("selection",a,{priority:"highest"});function a(){o.change(c=>{for(const l of r.values())c.removeClass(n,l),r.delete(l)})}})}function Jn(i,t,e,n){let o,r=null;typeof n=="function"?o=n:(r=i.commands.get(n),o=()=>{i.execute(n)}),i.model.document.on("change:data",(s,a)=>{if(r&&!r.isEnabled||!t.isEnabled)return;const c=Pt(i.model.document.selection.getRanges());if(!c.isCollapsed||a.isUndo||!a.isLocal)return;const l=Array.from(i.model.document.differ.getChanges()),d=l[0];if(l.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const u=d.position.parent;if(u.is("element","codeBlock")||u.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||r&&r.value===!0)return;const m=u.getChild(0),b=i.model.createRangeOn(m);if(!b.containsRange(c)&&!c.end.isEqual(b.end))return;const A=e.exec(m.data.substr(0,c.end.offset));A&&i.model.enqueueChange(T=>{const B=T.createPositionAt(u,0),L=T.createPositionAt(u,A[0].length),j=new en(B,L);if(o({match:A})!==!1){T.remove(j);const ht=i.model.document.selection.getFirstRange(),Nt=T.createRangeIn(u);u.isEmpty&&!Nt.isEqual(ht)&&!Nt.containsRange(ht,!0)&&T.remove(u)}j.detach(),i.model.enqueueChange(()=>{i.plugins.get("Delete").requestUndoOnBackspace()})})})}function po(i,t,e,n){let o,r;e instanceof RegExp?o=e:r=e,r=r||(s=>{let a;const c=[],l=[];for(;(a=o.exec(s))!==null&&!(a&&a.length<4);){let{index:d,1:u,2:m,3:b}=a;const A=u+m+b;d+=a[0].length-A.length;const T=[d,d+u.length],B=[d+u.length+m.length,d+u.length+m.length+b.length];c.push(T),c.push(B),l.push([d+u.length,d+u.length+m.length])}return{remove:c,format:l}}),i.model.document.on("change:data",(s,a)=>{if(a.isUndo||!a.isLocal||!t.isEnabled)return;const c=i.model,l=c.document.selection;if(!l.isCollapsed)return;const d=Array.from(c.document.differ.getChanges()),u=d[0];if(d.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const m=l.focus,b=m.parent,{text:A,range:T}=pS(c.createRange(c.createPositionAt(b,0),m),c),B=r(A),L=jb(T.start,B.format,c),j=jb(T.start,B.remove,c);L.length&&j.length&&c.enqueueChange(dt=>{if(n(dt,L)!==!1){for(const Nt of j.reverse())dt.remove(Nt);c.enqueueChange(()=>{i.plugins.get("Delete").requestUndoOnBackspace()})}})})}function jb(i,t,e){return t.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>e.createRange(i.getShiftedBy(n[0]),i.getShiftedBy(n[1])))}function pS(i,t){let e=i.start;return{text:Array.from(i.getItems()).reduce((o,r)=>!(r.is("$text")||r.is("$textProxy"))||r.getAttribute("code")?(e=t.createPositionAfter(r),""):o+r.data,""),range:t.createRange(e,i.end)}}class bS extends S{static get requires(){return[Sn]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Jn(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Jn(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&Jn(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&Jn(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=_a(this.editor,"bold");po(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),po(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=_a(this.editor,"italic");po(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),po(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=_a(this.editor,"code");po(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=_a(this.editor,"strikethrough");po(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const n=e[7],o=new RegExp(`^(#{${n}})\\s$`);Jn(this.editor,this,o,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Jn(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&Jn(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Jn(this.editor,this,/^---$/,"horizontalLine")}}function _a(i,t){return(e,n)=>{if(!i.commands.get(t).isEnabled)return!1;const r=i.model.schema.getValidRanges(n,t);for(const s of r)e.setAttribute(t,!0,s);e.removeSelectionAttribute(t)}}function*Hb(i,t){for(const e of t)e&&i.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class kS extends Y{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,n=e.document.selection,o=e.schema,r=n.isCollapsed,s=n.getFirstRange(),a=s.start.parent,c=s.end.parent;if(o.isLimit(a)||o.isLimit(c))return!r&&a==c&&e.deleteContent(n),!1;if(r){const l=Hb(t.model.schema,n.getAttributes());return Ub(t,s.start),t.setSelectionAttribute(l),!0}else{const l=!(s.start.isAtStart&&s.end.isAtEnd),d=a==c;if(e.deleteContent(n,{leaveUnmerged:l}),l){if(d)return Ub(t,n.focus),!0;t.setSelection(c,0)}}return!1}}function Ub(i,t){i.split(t),i.setSelection(t.parent.nextSibling,0)}const wS={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Wb extends hn{constructor(t){super(t);const e=this.document;let n=!1;e.on("keydown",(o,r)=>{n=r.shiftKey}),e.on("beforeinput",(o,r)=>{if(!this.isEnabled)return;let s=r.inputType;p.isSafari&&n&&s=="insertParagraph"&&(s="insertLineBreak");const a=r.domEvent,c=wS[s];if(!c)return;const l=new io(e,"enter",r.targetRanges[0]);e.fire(l,new ro(t,a,{isSoft:c.isSoft})),l.stop.called&&o.stop()})}observe(){}stopObserving(){}}class va extends S{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(Wb),t.commands.add("enter",new kS(t)),this.listenTo(n,"enter",(o,r)=>{n.isComposing||r.preventDefault(),!r.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class AS extends Y{execute(){const t=this.editor.model,e=t.document;t.change(n=>{_S(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=CS(t.schema,e.selection)}}function CS(i,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!i.checkChild(e,"softBreak"))return!1;const n=t.getFirstRange(),o=n.start.parent,r=n.end.parent;return!((Zd(o,i)||Zd(r,i))&&o!==r)}function _S(i,t,e){const n=e.isCollapsed,o=e.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(n){const c=Hb(i.schema,e.getAttributes());Gb(i,t,o.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(c)}else{const c=!(o.start.isAtStart&&o.end.isAtEnd);i.deleteContent(e,{leaveUnmerged:c}),a?Gb(i,t,e.focus):c&&t.setSelection(s,0)}}function Gb(i,t,e){const n=t.createElement("softBreak");i.insertContent(n,e),t.setSelection(n,"after")}function Zd(i,t){return i.is("rootElement")?!1:t.isLimit(i)||Zd(i.parent,t)}class vS extends S{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,o=t.editing.view,r=o.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(s,{writer:a})=>a.createEmptyElement("br")}),o.addObserver(Wb),t.commands.add("shiftEnter",new AS(t)),this.listenTo(r,"enter",(s,a)=>{r.isComposing||a.preventDefault(),a.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"})}}class yS extends Y{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,o=e.document.selection,r=Array.from(o.getSelectedBlocks()),s=t.forceValue===void 0?!this.value:t.forceValue;e.change(a=>{if(!s)this._removeQuote(a,r.filter(ya));else{const c=r.filter(l=>ya(l)||$b(n,l));this._applyQuote(a,c)}})}_getValue(){const t=this.editor.model.document.selection,e=Pt(t.getSelectedBlocks());return!!(e&&ya(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Pt(t.getSelectedBlocks());return n?$b(e,n):!1}_removeQuote(t,e){qb(t,e).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){t.unwrap(n.start.parent);return}if(n.start.isAtStart){const r=t.createPositionBefore(n.start.parent);t.move(n,r);return}n.end.isAtEnd||t.split(n.end);const o=t.createPositionAfter(n.end.parent);t.move(n,o)})}_applyQuote(t,e){const n=[];qb(t,e).reverse().forEach(o=>{let r=ya(o.start);r||(r=t.createElement("blockQuote"),t.wrap(o,r)),n.push(r)}),n.reverse().reduce((o,r)=>o.nextSibling==r?(t.merge(t.createPositionAfter(o)),o):r)}}function ya(i){return i.parent.name=="blockQuote"?i.parent:null}function qb(i,t){let e,n=0;const o=[];for(;n<t.length;){const r=t[n],s=t[n+1];e||(e=i.createPositionBefore(r)),(!s||r.nextSibling!=s)&&(o.push(i.createRange(e,i.createPositionAfter(r))),e=null),n++}return o}function $b(i,t){const e=i.checkChild(t.parent,"blockQuote"),n=i.checkChild(["$root","blockQuote"],t);return e&&n}class xS extends S{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[va,Sn]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new yS(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(s=>{const a=t.model.document.differ.getChanges();for(const c of a)if(c.type=="insert"){const l=c.position.nodeAfter;if(!l)continue;if(l.is("element","blockQuote")&&l.isEmpty)return s.remove(l),!0;if(l.is("element","blockQuote")&&!e.checkChild(c.position,l))return s.unwrap(l),!0;if(l.is("element")){const d=s.createRangeIn(l);for(const u of d.getItems())if(u.is("element","blockQuote")&&!e.checkChild(s.createPositionBefore(u),u))return s.unwrap(u),!0}}else if(c.type=="remove"){const l=c.position.parent;if(l.is("element","blockQuote")&&l.isEmpty)return s.remove(l),!0}return!1});const n=this.editor.editing.view.document,o=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(n,"enter",(s,a)=>{if(!o.isCollapsed||!r.value)return;o.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(s,a)=>{if(a.direction!="backward"||!o.isCollapsed||!r.value)return;const c=o.getLastPosition().parent;c.isEmpty&&!c.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"})}}var Kb=I(636),Qd={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Qd.insert="head",Qd.singleton=!0;var BV=V()(Kb.Z,Qd);const zV=Kb.Z.locals||{};class ES extends S{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const o=t.commands.get("blockQuote"),r=new Q(n);return r.set({label:e("Block quote"),icon:J.quote,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),r})}}class DS extends S{static get requires(){return[xS,ES]}static get pluginName(){return"BlockQuote"}}class bo extends Y{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,o=e.document.selection,r=t.forceValue===void 0?!this.value:t.forceValue;e.change(s=>{if(o.isCollapsed)r?s.setSelectionAttribute(this.attributeKey,!0):s.removeSelectionAttribute(this.attributeKey);else{const a=e.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const c of a)r?s.setAttribute(this.attributeKey,r,c):s.removeAttribute(this.attributeKey,c)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const o of n.getRanges())for(const r of o.getItems())if(e.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}const ko="bold";class TS extends S{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ko}),t.model.schema.setAttributeProperties(ko,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ko,view:"strong",upcastAlso:["b",e=>{const n=e.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(ko,new bo(t,ko)),t.keystrokes.set("CTRL+B",ko)}}const Jd="bold";class SS extends S{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Jd,n=>{const o=t.commands.get(Jd),r=new Q(n);return r.set({label:e("Bold"),icon:J.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(Jd),t.editing.view.focus()}),r})}}class IS extends S{static get requires(){return[TS,SS]}static get pluginName(){return"Bold"}}class MS extends ut(){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,o)=>{e.onload=()=>{const r=e.result;this._data=r,n(r)},e.onerror=()=>{o("error")},e.onabort=()=>{o("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class yi extends S{constructor(){super(...arguments),this.loaders=new Ft,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[ha]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return _t("filerepository-no-upload-adapter"),null;const e=new Yb(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(n=>{this._loadersMap.set(n,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let n=0;for(const o of this.loaders)n+=o.uploaded;this.uploaded=n}),e.on("change:uploadTotal",()=>{let n=0;for(const o of this.loaders)o.uploadTotal&&(n+=o.uploadTotal);this.uploadTotal=n}),e}destroyLoader(t){const e=t instanceof Yb?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((n,o)=>{n===e&&this._loadersMap.delete(o)})}_updatePendingAction(){const t=this.editor.plugins.get(ha);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=o=>`${e("Upload in progress")} ${parseInt(o)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class Yb extends ut(){constructor(t,e){super(),this.id=oe(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new MS,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,o)=>o?n/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new v("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new v("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,o)=>{e.rejecter=o,e.isFulfilled=!1,t.then(r=>{e.isFulfilled=!0,n(r)}).catch(r=>{e.isFulfilled=!0,o(r)})}),e}}class BS extends q{constructor(t){super(t),this.buttonView=new Q(t),this._fileInputView=new zS(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class zS extends q{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class NV extends null{static get requires(){return[FileRepository]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(FileRepository).createUploadAdapter=t=>new NS(t)}}class NS{constructor(t){this.loader=t}upload(){return new Promise((t,e)=>{const n=this.reader=new window.FileReader;n.addEventListener("load",()=>{t({default:n.result})}),n.addEventListener("error",o=>{e(o)}),n.addEventListener("abort",()=>{e()}),this.loader.file.then(o=>{n.readAsDataURL(o)})})}abort(){this.reader.abort()}}class LV extends null{static get requires(){return[FileRepository]}static get pluginName(){return"SimpleUploadAdapter"}init(){const t=this.editor.config.get("simpleUpload");if(t){if(!t.uploadUrl){logWarning("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(FileRepository).createUploadAdapter=e=>new LS(e,t)}}}class LS{constructor(t,e){this.loader=t,this.options=e}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.options.uploadUrl,!0),t.responseType="json"}_initListeners(t,e,n){const o=this.xhr,r=this.loader,s=`Couldn't upload file: ${n.name}.`;o.addEventListener("error",()=>e(s)),o.addEventListener("abort",()=>e()),o.addEventListener("load",()=>{const a=o.response;if(!a||a.error)return e(a&&a.error&&a.error.message?a.error.message:s);const c=a.url?{default:a.url}:a.urls;t(ie(U({},a),{urls:c}))}),o.upload&&o.upload.addEventListener("progress",a=>{a.lengthComputable&&(r.uploadTotal=a.total,r.uploaded=a.loaded)})}_sendRequest(t){const e=this.options.headers||{},n=this.options.withCredentials||!1;for(const r of Object.keys(e))this.xhr.setRequestHeader(r,e[r]);this.xhr.withCredentials=n;const o=new FormData;o.append("upload",t),this.xhr.send(o)}}const Zb="ckCsrfToken",Qb=40,Jb="abcdefghijklmnopqrstuvwxyz0123456789";function PS(){let i=RS(Zb);return(!i||i.length!=Qb)&&(i=VS(Qb),OS(Zb,i)),i}function RS(i){i=i.toLowerCase();const t=document.cookie.split(";");for(const e of t){const n=e.split("=");if(decodeURIComponent(n[0].trim().toLowerCase())===i)return decodeURIComponent(n[1])}return null}function OS(i,t){document.cookie=encodeURIComponent(i)+"="+encodeURIComponent(t)+";path=/"}function VS(i){let t="";const e=new Uint8Array(i);window.crypto.getRandomValues(e);for(let n=0;n<e.length;n++){const o=Jb.charAt(e[n]%Jb.length);t+=Math.random()>.5?o.toUpperCase():o}return t}class FS extends S{static get requires(){return[yi]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(yi).createUploadAdapter=e=>new jS(e,t,this.editor.t))}}class jS{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const o=this.xhr,r=this.loader,s=this.t,a=s("Cannot upload file:")+` ${n.name}.`;o.addEventListener("error",()=>e(a)),o.addEventListener("abort",()=>e()),o.addEventListener("load",()=>{const c=o.response;if(!c||!c.uploaded)return e(c&&c.error&&c.error.message?c.error.message:a);t({default:c.url})}),o.upload&&o.upload.addEventListener("progress",c=>{c.lengthComputable&&(r.uploadTotal=c.total,r.uploaded=c.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",PS()),this.xhr.send(e)}}const HS={autoRefresh:!0},Xb=36e5;class Xd extends ut(){constructor(t,e={}){if(super(),!t)throw new v("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),typeof t=="function"?this._refresh=t:this._refresh=()=>US(t),this._options=U(U({},HS),e)}init(){return new Promise((t,e)=>{if(!this.value){this.refreshToken().then(t).catch(e);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)})}refreshToken(){return this._refresh().then(t=>(this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e=typeof t=="string",n=!/^".*"$/.test(t),o=e&&t.split(".").length===3;if(!(n&&o))throw new v("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((e*1e3-Date.now())/2):Xb}catch(t){return Xb}}static create(t,e={}){return new Xd(t,e).init()}}function US(i){return new Promise((t,e)=>{const n=new XMLHttpRequest;n.open("GET",i),n.addEventListener("load",()=>{const o=n.status,r=n.response;return o<200||o>299?e(new v("token-cannot-download-new-token",null)):t(r)}),n.addEventListener("error",()=>e(new Error("Network Error"))),n.addEventListener("abort",()=>e(new Error("Abort"))),n.send()})}const tu=/^data:(\S*?);base64,/;class WS extends kt(){constructor(t,e,n){if(super(),!t)throw new v("fileuploader-missing-file",null);if(!e)throw new v("fileuploader-missing-token",null);if(!n)throw new v("fileuploader-missing-api-address",null);this.file=qS(t)?GS(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=n=>()=>this.fire("error",n);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),t.addEventListener("load",()=>{const n=t.status,o=t.response;if(n<200||n>299)return this.fire("error",o.message||o.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,o)=>{e.addEventListener("load",()=>{const r=e.status,s=e.response;return r<200||r>299?s.message?o(new v("fileuploader-uploading-data-failed",this,{message:s.message})):o(s.error):n(s)}),e.addEventListener("error",()=>o(new Error("Network Error"))),e.addEventListener("abort",()=>o(new Error("Abort"))),e.send(t)})}}function GS(i,t=512){try{const e=i.match(tu)[1],n=atob(i.replace(tu,"")),o=[];for(let r=0;r<n.length;r+=t){const s=n.slice(r,r+t),a=new Array(s.length);for(let c=0;c<s.length;c++)a[c]=s.charCodeAt(c);o.push(new Uint8Array(a))}return new Blob(o,{type:e})}catch(e){throw new v("fileuploader-decoding-image-data-error",null)}}function qS(i){if(typeof i!="string")return!1;const t=i.match(tu);return!!(t&&t.length)}class $S{constructor(t,e){if(!t)throw new v("uploadgateway-missing-token",null);if(!e)throw new v("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new WS(t,this._token,this._apiAddress)}}class KS extends Ws{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new Xd(t,e)}createUploadGateway(t,e){return new $S(t,e)}}class YS extends Ws{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[KS]}init(){return qe(this,null,function*(){const e=this.context.config.get("cloudServices")||{};for(const[o,r]of Object.entries(e))this[o]=r;if(!this.tokenUrl){this.token=null;return}const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(t){return qe(this,null,function*(){if(this._tokens.has(t))return this.getTokenFor(t);const n=yield this.context.plugins.get("CloudServicesCore").createToken(t).init();return this._tokens.set(t,n),n})}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new v("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}}class eu extends Kn{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const e=this.document;this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"});function n(o){return(r,s)=>{s.preventDefault();const a=s.dropRange?[s.dropRange]:null,c=new Xt(e,o);e.fire(c,{dataTransfer:s.dataTransfer,method:r.name,targetRanges:a,target:s.target}),c.stop.called&&s.stopPropagation()}}}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,n=t.type=="drop"||t.type=="paste",o={dataTransfer:new Of(e,{cacheFiles:n})};(t.type=="drop"||t.type=="dragover")&&(o.dropRange=ZS(this.view,t)),this.fire(t.type,t,o)}}function ZS(i,t){const e=t.target.ownerDocument,n=t.clientX,o=t.clientY;let r;return e.caretRangeFromPoint&&e.caretRangeFromPoint(n,o)?r=e.caretRangeFromPoint(n,o):t.rangeParent&&(r=e.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?i.domConverter.domRangeToView(r):null}function QS(i){return i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(i.includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),i}function JS(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}const tk=["figcaption","li"];function ek(i){let t="";if(i.is("$text")||i.is("$textProxy"))t=i.data;else if(i.is("element","img")&&i.hasAttribute("alt"))t=i.getAttribute("alt");else if(i.is("element","br"))t=`
`;else{let e=null;for(const n of i.getChildren()){const o=ek(n);e&&(e.is("containerElement")||n.is("containerElement"))&&(tk.includes(e.name)||tk.includes(n.name)?t+=`
`:t+=`

`),t+=o,e=n}}return t}class pn extends S{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(eu),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document;this.listenTo(o,"clipboardInput",r=>{t.isReadOnly&&r.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(r,s)=>{const a=s.dataTransfer;let c;if(s.content)c=s.content;else{let d="";a.getData("text/html")?d=JS(a.getData("text/html")):a.getData("text/plain")&&(d=QS(a.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(d)}const l=new Xt(this,"inputTransformation");this.fire(l,{content:c,dataTransfer:a,targetRanges:s.targetRanges,method:s.method}),l.stop.called&&r.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(r,s)=>{if(s.content.isEmpty)return;const c=this.editor.data.toModel(s.content,"$clipboardHolder");c.childCount!=0&&(r.stop(),e.change(()=>{this.fire("contentInsertion",{content:c,method:s.method,dataTransfer:s.dataTransfer,targetRanges:s.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(r,s)=>{s.resultRange=e.insertContent(s.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,o=t.editing.view.document,r=(s,a)=>{const c=a.dataTransfer;a.preventDefault();const l=t.data.toView(t.model.getSelectedContent(e.selection));o.fire("clipboardOutput",{dataTransfer:c,content:l,method:s.name})};this.listenTo(o,"copy",r,{priority:"low"}),this.listenTo(o,"cut",(s,a)=>{t.isReadOnly?a.preventDefault():r(s,a)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(s,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",ek(a.content))),a.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}class XS extends kt(){constructor(){super(...arguments),this._stack=[]}add(t,e){const n=this._stack,o=n[0];this._insertDescriptor(t);const r=n[0];o!==r&&!nu(o,r)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:r,writer:e})}remove(t,e){const n=this._stack,o=n[0];this._removeDescriptor(t);const r=n[0];o!==r&&!nu(o,r)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:r,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(r=>r.id===t.id);if(nu(t,e[n]))return;n>-1&&e.splice(n,1);let o=0;for(;e[o]&&t3(e[o],t);)o++;e.splice(o,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(o=>o.id===t);n>-1&&e.splice(n,1)}}function nu(i,t){return i&&t&&i.priority==t.priority&&xa(i.classes)==xa(t.classes)}function t3(i,t){return i.priority>t.priority?!0:i.priority<t.priority?!1:xa(i.classes)>xa(t.classes)}function xa(i){return Array.isArray(i)?i.sort().join(","):i}const e3='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',n3="ck-widget",nk="ck-widget_selected";function Ut(i){return i.is("element")?!!i.getCustomProperty("widget"):!1}function yr(i,t,e={}){if(!i.is("containerElement"))throw new v("widget-to-widget-wrong-element-type",null,{element:i});return t.setAttribute("contenteditable","false",i),t.addClass(n3,i),t.setCustomProperty("widget",!0,i),i.getFillerOffset=a3,t.setCustomProperty("widgetLabel",[],i),e.label&&r3(i,e.label),e.hasSelectionHandle&&c3(i,t),ik(i,t),i}function i3(i,t,e){if(t.classes&&e.addClass(Vt(t.classes),i),t.attributes)for(const n in t.attributes)e.setAttribute(n,t.attributes[n],i)}function o3(i,t,e){if(t.classes&&e.removeClass(Vt(t.classes),i),t.attributes)for(const n in t.attributes)e.removeAttribute(n,i)}function ik(i,t,e=i3,n=o3){const o=new XS;o.on("change:top",(a,c)=>{c.oldDescriptor&&n(i,c.oldDescriptor,c.writer),c.newDescriptor&&e(i,c.newDescriptor,c.writer)});const r=(a,c,l)=>o.add(c,l),s=(a,c,l)=>o.remove(c,l);t.setCustomProperty("addHighlight",r,i),t.setCustomProperty("removeHighlight",s,i)}function r3(i,t){i.getCustomProperty("widgetLabel").push(t)}function s3(i){return i.getCustomProperty("widgetLabel").reduce((e,n)=>typeof n=="function"?e?e+". "+n():n():e?e+". "+n:n,"")}function iu(i,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],i),t.setAttribute("role","textbox",i),e.label&&t.setAttribute("aria-label",e.label,i),t.setAttribute("contenteditable",i.isReadOnly?"false":"true",i),i.on("change:isReadOnly",(n,o,r)=>{t.setAttribute("contenteditable",r?"false":"true",i)}),i.on("change:isFocused",(n,o,r)=>{r?t.addClass("ck-editor__nested-editable_focused",i):t.removeClass("ck-editor__nested-editable_focused",i)}),ik(i,t),i}function ou(i,t){const e=i.getSelectedElement();if(e){const n=Xn(i);if(n)return t.createRange(t.createPositionAt(e,n))}return Pp(i,t)}function PV(i,t){return(e,n)=>{const{mapper:o,viewPosition:r}=n,s=o.findMappedViewAncestor(r);if(!t(s))return;const a=o.toModelElement(s);n.modelPosition=i.createPositionAt(a,r.isAtStart?"before":"after")}}function a3(){return null}function c3(i,t){const e=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const o=this.toDomElement(n),r=new hi;return r.set("content",e3),r.render(),o.appendChild(r.element),o});t.insert(t.createPositionAt(i,0),e),t.addClass(["ck-widget_with-selection-handle"],i)}const In="widget-type-around";function xi(i,t,e){return!!i&&Ut(i)&&!e.isInline(t)}function l3(i){return i.closest(".ck-widget__type-around__button")}function d3(i){return i.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function u3(i,t){const e=i.closest(".ck-widget");return t.mapDomToView(e)}function Xn(i){return i.getAttribute(In)}const h3='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var ok=I(5137),ru={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ru.insert="head",ru.singleton=!0;var RV=V()(ok.Z,ru);const OV=ok.Z.locals||{},rk=["before","after"],m3=new DOMParser().parseFromString(h3,"image/svg+xml").firstChild,sk="ck-widget__type-around_disabled";class g3 extends S{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[va,Sn]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(n,o,r)=>{e.change(s=>{for(const a of e.document.roots)r?s.removeClass(sk,a):s.addClass(sk,a)}),r||t.model.change(s=>{s.removeSelectionAttribute(In)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,o=n.editing.view,r=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:r}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(t,e,n,o){this.listenTo(t,e,(...r)=>{this.isEnabled&&n(...r)},o)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,o=Xn(n);if(!o)return!1;const r=n.getSelectedElement();return this._insertParagraph(r,o),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,o={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(r,s,a)=>{const c=a.mapper.toViewElement(s.item);c&&xi(c,s.item,e)&&(f3(a.writer,o,c),c.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,o=e.schema,r=t.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,c)=>{this._handleArrowKeyPress(a,c)},{context:[Ut,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(a,c)=>{c.directChange&&t.model.change(l=>{l.removeSelectionAttribute(In)})}),this._listenToIfEnabled(e.document,"change:data",()=>{const a=n.getSelectedElement();if(a){const c=t.editing.mapper.toViewElement(a);if(xi(c,a,o))return}t.model.change(c=>{c.removeSelectionAttribute(In)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(a,c,l)=>{const d=l.writer;if(this._currentFakeCaretModelElement){const A=l.mapper.toViewElement(this._currentFakeCaretModelElement);A&&(d.removeClass(rk.map(s),A),this._currentFakeCaretModelElement=null)}const u=c.selection.getSelectedElement();if(!u)return;const m=l.mapper.toViewElement(u);if(!xi(m,u,o))return;const b=Xn(c.selection);b&&(d.addClass(s(b),m),this._currentFakeCaretModelElement=u)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(a,c,l)=>{l||t.model.change(d=>{d.removeSelectionAttribute(In)})});function s(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(t,e){const n=this.editor,o=n.model,r=o.document.selection,s=o.schema,a=n.editing.view,c=e.keyCode,l=$1(c,n.locale.contentLanguageDirection),d=a.document.selection.getSelectedElement(),u=n.editing.mapper.toModelElement(d);let m;xi(d,u,s)?m=this._handleArrowKeyPressOnSelectedWidget(l):r.isCollapsed?m=this._handleArrowKeyPressWhenSelectionNextToAWidget(l):e.shiftKey||(m=this._handleArrowKeyPressWhenNonCollapsedSelection(l)),m&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const n=this.editor.model,o=n.document.selection,r=Xn(o);return n.change(s=>{if(r){if(!(r===(t?"after":"before")))return s.removeSelectionAttribute(In),!0}else return s.setSelectionAttribute(In,t?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,o=n.schema,r=e.plugins.get("Widget"),s=r._getObjectElementNextToSelection(t),a=e.editing.mapper.toViewElement(s);return xi(a,s,o)?(n.change(c=>{r._setSelectionOverElement(s),c.setSelectionAttribute(In,t?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,o=n.schema,r=e.editing.mapper,s=n.document.selection,a=t?s.getLastPosition().nodeBefore:s.getFirstPosition().nodeAfter,c=r.toViewElement(a);return xi(c,a,o)?(n.change(l=>{l.setSelection(a,"on"),l.setSelectionAttribute(In,t?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(n,o)=>{const r=l3(o.domTarget);if(!r)return;const s=d3(r),a=u3(r,e.domConverter),c=t.editing.mapper.toModelElement(a);this._insertParagraph(c,s),o.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(o,r)=>{if(o.eventPhase!="atTarget")return;const s=e.getSelectedElement(),a=t.editing.mapper.toViewElement(s),c=t.model.schema;let l;this._insertParagraphAccordingToFakeCaretPosition()?l=!0:xi(a,s,c)&&(this._insertParagraph(s,r.isSoft?"before":"after"),l=!0),l&&(r.preventDefault(),o.stop())},{context:Ut})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(n,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),p.isAndroid?this._listenToIfEnabled(e,"keydown",(n,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,n=t.model,o=n.schema;this._listenToIfEnabled(e.document,"delete",(r,s)=>{if(r.eventPhase!="atTarget")return;const a=Xn(n.document.selection);if(!a)return;const c=s.direction,l=n.document.selection.getSelectedElement(),d=a==="before",u=c=="forward";if(d===u)t.execute("delete",{selection:n.createSelection(l,"on")});else{const b=o.getNearestSelectionRange(n.createPositionAt(l,a),c);if(b)if(!b.isCollapsed)n.change(A=>{A.setSelection(b),t.execute(u?"deleteForward":"delete")});else{const A=n.createSelection(b.start);if(n.modifySelection(A,{direction:c}),!A.focus.isEqual(b.start))n.change(T=>{T.setSelection(b),t.execute(u?"deleteForward":"delete")});else{const T=k3(o,b.start.parent);n.deleteContent(n.createSelection(T,"on"),{doNotAutoparagraph:!0})}}}s.preventDefault(),r.stop()},{context:Ut})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",(o,[r,s])=>{if(s&&!s.is("documentSelection"))return;const a=Xn(n);if(a)return o.stop(),e.change(c=>{const l=n.getSelectedElement(),d=e.createPositionAt(l,a),u=c.createSelection(d),m=e.insertContent(r,u);return c.setSelection(u),m})},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",(o,r)=>{const[,s,a={}]=r;if(s&&!s.is("documentSelection"))return;const c=Xn(n);c&&(a.findOptimalPosition=c,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(o,[r])=>{if(r&&!r.is("documentSelection"))return;Xn(n)&&o.stop()},{priority:"high"})}}function f3(i,t,e){const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(o){const r=this.toDomElement(o);return p3(r,t),b3(r),r});i.insert(i.createPositionAt(e,"end"),n)}function p3(i,t){for(const e of rk){const n=new ye({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[i.ownerDocument.importNode(m3,!0)]});i.appendChild(n.render())}}function b3(i){const t=new ye({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});i.appendChild(t.render())}function k3(i,t){let e=t;for(const n of t.getAncestors({parentFirst:!0})){if(n.childCount>1||i.isLimit(n))break;e=n}return e}function w3(i){const t=i.model;return(e,n)=>{const o=n.keyCode==lt.arrowup,r=n.keyCode==lt.arrowdown,s=n.shiftKey,a=t.document.selection;if(!o&&!r)return;const c=r;if(s&&_3(a,c))return;const l=A3(i,a,c);if(l){if(l.isCollapsed){if(a.isCollapsed)return;if(s)return}(l.isCollapsed||C3(i,l,c))&&(t.change(d=>{const u=c?l.end:l.start;if(s){const m=t.createSelection(a.anchor);m.setFocus(u),d.setSelection(m)}else d.setSelection(u)}),e.stop(),n.preventDefault(),n.stopPropagation())}}}function A3(i,t,e){const n=i.model;if(e){const o=t.isCollapsed?t.focus:t.getLastPosition(),r=ak(n,o,"forward");if(!r)return null;const s=n.createRange(o,r),a=ck(n.schema,s,"backward");return a?n.createRange(o,a):null}else{const o=t.isCollapsed?t.focus:t.getFirstPosition(),r=ak(n,o,"backward");if(!r)return null;const s=n.createRange(r,o),a=ck(n.schema,s,"forward");return a?n.createRange(a,o):null}}function ak(i,t,e){const n=i.schema,o=i.createRangeIn(t.root),r=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:c}of o.getWalker({startPosition:t,direction:e})){if(n.isLimit(a)&&!n.isInline(a))return s;if(c==r&&n.isBlock(a))return null}return null}function ck(i,t,e){const n=e=="backward"?t.end:t.start;if(i.checkChild(n,"$text"))return n;for(const{nextPosition:o}of t.getWalker({direction:e}))if(i.checkChild(o,"$text"))return o;return null}function C3(i,t,e){const n=i.model,o=i.view.domConverter;if(e){const l=n.createSelection(t.start);n.modifySelection(l),!l.focus.isAtEnd&&!t.start.isEqual(l.focus)&&(t=n.createRange(l.focus,t.end))}const r=i.mapper.toViewRange(t),s=o.viewRangeToDom(r),a=ft.getDomRangeRects(s);let c;for(const l of a){if(c===void 0){c=Math.round(l.bottom);continue}if(Math.round(l.top)>=c)return!1;c=Math.max(c,Math.round(l.bottom))}return!0}function _3(i,t){return!i.isCollapsed&&i.isBackward==t}var lk=I(6507),su={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};su.insert="head",su.singleton=!0;var VV=V()(lk.Z,su);const FV=lk.Z.locals||{};class Ei extends S{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[g3,Sn]}init(){const t=this.editor,e=t.editing.view,n=e.document;this.editor.editing.downcastDispatcher.on("selection",(o,r,s)=>{const a=s.writer,c=r.selection;if(c.isCollapsed)return;const l=c.getSelectedElement();if(!l)return;const d=t.editing.mapper.toViewElement(l);Ut(d)&&s.consumable.consume(c,"selection")&&a.setSelection(a.createRangeOn(d),{fake:!0,label:s3(d)})}),this.editor.editing.downcastDispatcher.on("selection",(o,r,s)=>{this._clearPreviouslySelectedWidgets(s.writer);const a=s.writer,c=a.document.selection;let l=null;for(const d of c.getRanges())for(const u of d){const m=u.item;Ut(m)&&!y3(m,l)&&(a.addClass(nk,m),this._previouslySelected.add(m),l=m)}},{priority:"low"}),e.addObserver(sa),this.listenTo(n,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(n,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[Ut,"$text"]}),this.listenTo(n,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(n,"arrowKey",w3(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(o,r)=>{this._handleDelete(r.direction=="forward")&&(r.preventDefault(),o.stop())},{context:"$root"})}_onMousedown(t,e){const n=this.editor,o=n.editing.view,r=o.document;let s=e.target;if(v3(s)){if((p.isSafari||p.isGecko)&&e.domEvent.detail>=3){const c=n.editing.mapper,l=s.is("attributeElement")?s.findAncestor(u=>!u.is("attributeElement")):s,d=c.toModelElement(l);e.preventDefault(),this.editor.model.change(u=>{u.setSelection(d,"in")})}return}if(!Ut(s)&&(s=s.findAncestor(Ut),!s))return;p.isAndroid&&e.preventDefault(),r.isFocused||o.focus();const a=n.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,o=this.editor.model,r=o.schema,s=o.document.selection,a=s.getSelectedElement(),c=js(n,this.editor.locale.contentLanguageDirection),l=c=="down"||c=="right",d=c=="up"||c=="down";if(a&&r.isObject(a)){const m=l?s.getLastPosition():s.getFirstPosition(),b=r.getNearestSelectionRange(m,l?"forward":"backward");b&&(o.change(A=>{A.setSelection(b)}),e.preventDefault(),t.stop());return}if(!s.isCollapsed&&!e.shiftKey){const m=s.getFirstPosition(),b=s.getLastPosition(),A=m.nodeAfter,T=b.nodeBefore;(A&&r.isObject(A)||T&&r.isObject(T))&&(o.change(B=>{B.setSelection(l?b:m)}),e.preventDefault(),t.stop());return}if(!s.isCollapsed)return;const u=this._getObjectElementNextToSelection(l);if(u&&r.isObject(u)){if(r.isInline(u)&&d)return;this._setSelectionOverElement(u),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,o=n.schema,r=n.document.selection.getSelectedElement();r&&o.isObject(r)&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const o=this._getObjectElementNextToSelection(t);if(o)return this.editor.model.change(r=>{let s=n.anchor.parent;for(;s.isEmpty;){const a=s;s=a.parent,r.remove(a)}this._setSelectionOverElement(o)}),!0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,o=e.document.selection,r=e.createSelection(o);if(e.modifySelection(r,{direction:t?"forward":"backward"}),r.isEqual(o))return null;const s=t?r.focus.nodeBefore:r.focus.nodeAfter;return s&&n.isObject(s)?s:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(nk,e);this._previouslySelected.clear()}}function v3(i){let t=i;for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Ut(t))return!1;t=t.parent}return!1}function y3(i,t){return t?Array.from(i.getAncestors()).includes(t):!1}class Ea extends S{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[fn]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",n=>{x3(t.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:o,balloonClassName:r="ck-toolbar-container"}){if(!n.length){_t("widget-toolbar-no-items",{toolbarId:t});return}const s=this.editor,a=s.t,c=new ho(s.locale);if(c.ariaLabel=e||a("Widget toolbar"),this._toolbarDefinitions.has(t))throw new v("widget-toolbar-duplicated",this,{toolbarId:t});const l={view:c,getRelatedElement:o,balloonClassName:r,itemsConfig:n,initialized:!1};s.ui.addToolbar(c,{isContextual:!0,beforeFocus:()=>{const d=o(s.editing.view.document.selection);d&&this._showToolbar(l,d)},afterBlur:()=>{this._hideToolbar(l)}}),this._toolbarDefinitions.set(t,l)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const o of this._toolbarDefinitions.values()){const r=o.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!r)this._isToolbarInBalloon(o)&&this._hideToolbar(o);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(o)&&this._hideToolbar(o);else{const s=r.getAncestors().length;s>t&&(t=s,e=r,n=o)}}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?dk(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:uk(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const o=n.getRelatedElement(this.editor.editing.view.document.selection);dk(this.editor,o)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function dk(i,t){const e=i.plugins.get("ContextualBalloon"),n=uk(i,t);e.updatePosition(n)}function uk(i,t){const e=i.editing.view,n=ke.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function x3(i){const t=i.getSelectedElement();return!!(t&&Ut(t))}class E3 extends ut(){constructor(t){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(t,e,n){const o=new ft(e);this.activeHandlePosition=I3(t),this._referenceCoordinates=T3(e,M3(this.activeHandlePosition)),this._originalWidth=o.width,this._originalHeight=o.height,this._aspectRatio=o.width/o.height;const r=n.style.width;r&&r.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(r):this._originalWidthPercents=D3(n,o)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}function D3(i,t){const e=i.parentElement;let n=parseFloat(e.ownerDocument.defaultView.getComputedStyle(e).width);const o=5;let r=0,s=e;for(;isNaN(n);){if(s=s.parentElement,++r>o)return 0;n=parseFloat(e.ownerDocument.defaultView.getComputedStyle(s).width)}return t.width/n*100}function T3(i,t){const e=new ft(i),n=t.split("-"),o={x:n[1]=="right"?e.right:e.left,y:n[0]=="bottom"?e.bottom:e.top};return o.x+=i.ownerDocument.defaultView.scrollX,o.y+=i.ownerDocument.defaultView.scrollY,o}function S3(i){return`ck-widget__resizer__handle-${i}`}function I3(i){const t=["top-left","top-right","bottom-right","bottom-left"];for(const e of t)if(i.classList.contains(S3(e)))return e}function M3(i){const t=i.split("-"),e={top:"bottom",bottom:"top",left:"right",right:"left"};return`${e[t[0]]}-${e[t[1]]}`}class B3 extends q{constructor(){super();const t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",e=>e?`ck-orientation-${e}`:"")],style:{display:t.if("_isVisible","none",e=>!e)}},children:[{text:t.to("_label")}]})}_bindToState(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(n,o)=>n!==null&&o!==null),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(n,o,r)=>t.unit==="px"?`${n}\xD7${o}`:`${r}%`),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(n,o,r)=>o<50||r<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}class hk extends ut(){constructor(t){super(),this._viewResizerWrapper=null,this._options=t,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(e,n)=>e&&n),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",e=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),e.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(e=>{e.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const t=this,e=this._options.viewElement;this._options.editor.editing.view.change(o=>{const r=o.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(s){const a=this.toDomElement(s);return t._appendHandles(a),t._appendSizeUI(a),a});o.insert(o.createPositionAt(e,"end"),r),o.addClass("ck-widget_with-resizer",e),this._viewResizerWrapper=r,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(t){this._state=new E3(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){const e=this._proposeNewSize(t);this._options.editor.editing.view.change(l=>{const d=this._options.unit||"%",u=(d==="%"?e.widthPercents:e.width)+d;l.setStyle("width",u,this._options.viewElement)});const o=this._getHandleHost(),r=new ft(o),s=Math.round(r.width),a=Math.round(r.height),c=new ft(o);e.width=Math.round(c.width),e.height=Math.round(c.height),this.redraw(r),this.state.update(ie(U({},e),{handleHostWidth:s,handleHostHeight:a}))}commit(){const t=this._options.unit||"%",e=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(e)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){const e=this._domResizerWrapper;if(!L3(e))return;const n=e.parentElement,o=this._getHandleHost(),r=this._viewResizerWrapper,s=[r.getStyle("width"),r.getStyle("height"),r.getStyle("left"),r.getStyle("top")];let a;if(n.isSameNode(o)){const c=t||new ft(o);a=[c.width+"px",c.height+"px",void 0,void 0]}else a=[o.offsetWidth+"px",o.offsetHeight+"px",o.offsetLeft+"px",o.offsetTop+"px"];re(s,a)!=="same"&&this._options.editor.editing.view.change(c=>{c.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},r)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){const e=this.state,n=N3(t),o=this._options.isCentered?this._options.isCentered(this):!0,r={x:e._referenceCoordinates.x-(n.x+e.originalWidth),y:n.y-e.originalHeight-e._referenceCoordinates.y};o&&e.activeHandlePosition.endsWith("-right")&&(r.x=n.x-(e._referenceCoordinates.x+e.originalWidth)),o&&(r.x*=2);let s=Math.abs(e.originalWidth+r.x),a=Math.abs(e.originalHeight+r.y);return(s/e.aspectRatio>a?"width":"height")=="width"?a=s/e.aspectRatio:s=a*e.aspectRatio,{width:Math.round(s),height:Math.round(a),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*s*100)/100,100)}}_getResizeHost(){const t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){const t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(t){const e=["top-left","top-right","bottom-right","bottom-left"];for(const n of e)t.appendChild(new ye({tag:"div",attributes:{class:`ck-widget__resizer__handle ${z3(n)}`}}).render())}_appendSizeUI(t){this._sizeView=new B3,this._sizeView.render(),t.appendChild(this._sizeView.element)}}function z3(i){return`ck-widget__resizer__handle-${i}`}function N3(i){return{x:i.pageX,y:i.pageY}}function L3(i){return i&&i.ownerDocument&&i.ownerDocument.contains(i)}var mk=I(2263),au={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};au.insert="head",au.singleton=!0;var jV=V()(mk.Z,au);const HV=mk.Z.locals||{};class cu extends S{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const t=this.editor.editing,e=rt.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),t.view.addObserver(sa),this._observer=new(vn()),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=pa(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[o,r]of this._resizers)o.isAttached()||(this._resizers.delete(o),r.destroy())},{priority:"lowest"}),this._observer.listenTo(rt.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const o=n.getSelectedElement(),r=this.getResizerByViewElement(o)||null;r?this.select(r):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const t of this._resizers.values())t.destroy();this._redrawSelectedResizerThrottled.cancel()}select(t){this.deselect(),this.selectedResizer=t,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(t){const e=new hk(t),n=this.editor.plugins;if(e.attach(),n.has("WidgetToolbarRepository")){const s=n.get("WidgetToolbarRepository");e.on("begin",()=>{s.forceDisabled("resize")},{priority:"lowest"}),e.on("cancel",()=>{s.clearForceDisabled("resize")},{priority:"highest"}),e.on("commit",()=>{s.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,e);const r=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(r)==e&&this.select(e),e}getResizerByViewElement(t){return this._resizers.get(t)}_getResizerByHandle(t){for(const e of this._resizers.values())if(e.containsHandle(t))return e}_mouseDownListener(t,e){const n=e.domTarget;hk.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),t.stop(),e.preventDefault()))}_mouseMoveListener(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}var gk=I(390),lu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lu.insert="head",lu.singleton=!0;var UV=V()(gk.Z,lu);const WV=gk.Z.locals||{};class P3 extends S{static get pluginName(){return"DragDrop"}static get requires(){return[pn,Ei]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=pa(n=>this._updateDropMarker(n),40),this._removeDropMarkerDelayed=bk(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=bk(()=>this._clearDraggableAttributes(),40),e.addObserver(eu),e.addObserver(sa),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(n,o,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,o,r)=>{r||this._finalizeDragging(!1)}),p.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=e.document,o=t.editing.view,r=o.document;this.listenTo(r,"dragstart",(s,a)=>{const c=n.selection;if(a.target&&a.target.is("editableElement")){a.preventDefault();return}const l=a.target?kk(a.target):null;if(l){const m=t.editing.mapper.toModelElement(l);this._draggedRange=en.fromRange(e.createRangeOn(m)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!r.selection.isCollapsed){const m=r.selection.getSelectedElement();(!m||!Ut(m))&&(this._draggedRange=en.fromRange(c.getFirstRange()))}if(!this._draggedRange){a.preventDefault();return}this._draggingUid=oe(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const d=e.createSelection(this._draggedRange.toRange()),u=t.data.toView(e.getSelectedContent(d));r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:u,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(s,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&o.focus()}),this.listenTo(r,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(s,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const c=fk(t,a.targetRanges,a.target);this._draggedRange||(a.dataTransfer.dropEffect="copy"),p.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),c&&this._updateDropMarkerThrottled(c)},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,n=t.editing.view.document;this.listenTo(n,"clipboardInput",(o,r)=>{if(r.method!="drop")return;const s=fk(t,r.targetRanges,r.target);if(this._removeDropMarker(),!s){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),pk(r.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(s,!0)){this._finalizeDragging(!1),o.stop();return}r.targetRanges=[t.editing.mapper.toViewRange(s)]},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(pn);t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=n.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(o))},{priority:"high"}),t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||n.method!=="drop")return;const o=pk(n.dataTransfer)=="move",r=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(r&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",(o,r)=>{if(p.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let s=kk(r.target);if(p.isBlink&&!t.isReadOnly&&!s&&!n.selection.isCollapsed){const a=n.selection.getSelectedElement();(!a||!Ut(a))&&(s=n.selection.editableElement)}s&&(e.change(a=>{a.setAttribute("draggable","true",s)}),this._draggableElement=t.editing.mapper.toModelElement(s))}),this.listenTo(n,"mouseup",()=>{p.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(e=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const s=this.toDomElement(r);return s.append("\u2060",r.createElement("span"),"\u2060"),s})}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change(o=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||o.updateMarker("drop-target",{range:t}):o.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(e=>{e.removeMarker("drop-target")})}_finalizeDragging(t){const e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function fk(i,t,e){const n=i.model,o=i.editing.mapper;let r=null;const s=t?t[0].start:null;if(e.is("uiElement")&&(e=e.parent),r=R3(i,e),r)return r;const a=j3(i,e),c=s?o.toModelPosition(s):null;return c?(r=V3(i,c,a),r||(r=n.schema.getNearestSelectionRange(c,p.isGecko?"forward":"backward"),r)?r:F3(i,c.parent)):O3(i,a)}function R3(i,t){const e=i.model,n=i.editing.mapper;if(Ut(t))return e.createRangeOn(n.toModelElement(t));if(!t.is("editableElement")){const o=t.findAncestor(r=>Ut(r)||r.is("editableElement"));if(Ut(o))return e.createRangeOn(n.toModelElement(o))}return null}function O3(i,t){const e=i.model,n=e.schema,o=e.createPositionAt(t,0);return n.getNearestSelectionRange(o,"forward")}function V3(i,t,e){const n=i.model;if(!n.schema.checkChild(e,"$block"))return null;const o=n.createPositionAt(e,0),r=t.path.slice(0,o.path.length),a=n.createPositionFromPath(t.root,r).nodeAfter;return a&&n.schema.isObject(a)?n.createRangeOn(a):null}function F3(i,t){const e=i.model;let n=t;for(;n;){if(e.schema.isObject(n))return e.createRangeOn(n);n=n.parent}return null}function j3(i,t){const e=i.editing.mapper,n=i.editing.view,o=e.toModelElement(t);if(o)return o;const r=n.createPositionBefore(t),s=e.findMappedViewAncestor(r);return e.toModelElement(s)}function pk(i){return p.isGecko?i.dropEffect:["all","copyMove"].includes(i.effectAllowed)?"move":"copy"}function bk(i,t){let e;function n(...o){n.cancel(),e=setTimeout(()=>i(...o),t)}return n.cancel=()=>{clearTimeout(e)},n}function kk(i){if(i.is("editableElement"))return null;if(i.hasClass("ck-widget__selection-handle"))return i.findAncestor(Ut);if(Ut(i))return i;const t=i.findAncestor(e=>Ut(e)||e.is("editableElement"));return Ut(t)?t:null}class H3 extends S{static get pluginName(){return"PastePlainText"}static get requires(){return[pn]}init(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document,r=e.document.selection;let s=!1;n.addObserver(eu),this.listenTo(o,"keydown",(a,c)=>{s=c.shiftKey}),t.plugins.get(pn).on("contentInsertion",(a,c)=>{!s&&!U3(c.content,e.schema)||e.change(l=>{const d=Array.from(r.getAttributes()).filter(([m])=>e.schema.getAttributeProperties(m).isFormatting);r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0}),d.push(...r.getAttributes());const u=l.createRangeIn(c.content);for(const m of u.getItems())m.is("$textProxy")&&l.setAttributes(d,m)})})}}function U3(i,t){if(i.childCount>1)return!1;const e=i.getChild(0);return t.isObject(e)?!1:Array.from(e.getAttributeKeys()).length==0}class wk extends S{static get pluginName(){return"Clipboard"}static get requires(){return[pn,P3,H3]}}class W3 extends Y{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!Ak(t.schema,n))do if(n=n.parent,!n)return;while(!Ak(t.schema,n));t.change(o=>{o.setSelection(n,"in")})}}function Ak(i,t){return i.isLimit(t)&&(i.checkChild(t,"$text")||i.checkChild(t,"paragraph"))}const G3=Fs("Ctrl+A");class q3 extends S{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,n=t.editing.view.document;t.commands.add("selectAll",new W3(t)),this.listenTo(n,"keydown",(o,r)=>{ui(r)===G3&&(t.execute("selectAll"),r.preventDefault())})}}const $3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class K3 extends S{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",e=>{const n=t.commands.get("selectAll"),o=new Q(e),r=e.t;return o.set({label:r("Select all"),icon:$3,keystroke:"Ctrl+A",tooltip:!0}),o.bind("isEnabled").to(n,"isEnabled"),this.listenTo(o,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),o})}}class Ck extends S{static get requires(){return[q3,K3]}static get pluginName(){return"SelectAll"}}class _k extends Y{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",(e,n)=>{n[1]=U({},n[1]);const o=n[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(e,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const o=this.editor.model,r=o.document,s=[],a=t.map(l=>l.getTransformedByOperations(n)),c=a.flat();for(const l of a){const d=l.filter(u=>u.root!=r.graveyard).filter(u=>!Z3(u,c));d.length&&(Y3(d),s.push(d[0]))}s.length&&o.change(l=>{l.setSelection(s,{backward:e})})}_undo(t,e){const n=this.editor.model,o=n.document;this._createdBatches.add(e);const r=t.operations.slice().filter(s=>s.isDocumentOperation);r.reverse();for(const s of r){const a=s.baseVersion+1,c=Array.from(o.history.getOperations(a)),d=FD([s.getReversed()],c,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const u of d)e.addOperation(u),n.applyOperation(u),o.history.setOperationAsUndone(s,u)}}}function Y3(i){i.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<i.length;t++){const n=i[t-1].getJoined(i[t],!0);n&&(t--,i.splice(t,2,n))}}function Z3(i,t){return t.some(e=>e!==i&&e.containsRange(i,!0))}class Q3 extends _k{execute(t=null){const e=t?this._stack.findIndex(r=>r.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const r=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,r),this.fire("revert",n.batch,o)}),this.refresh()}}class J3 extends _k{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const o=t.batch.operations[t.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(o);this._restoreSelection(t.selection.ranges,t.selection.isBackward,r),this._undo(t.batch,e)}),this.refresh()}}class X3 extends S{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new Q3(t),this._redoCommand=new J3(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(e,n)=>{const o=n[0];if(!o.isDocumentOperation)return;const r=o.batch,s=this._redoCommand.createdBatches.has(r),a=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(s?this._undoCommand.addBatch(r):a||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,n,o)=>{this._redoCommand.addBatch(o)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const vk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',yk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class tI extends S{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,o=e.uiLanguageDirection=="ltr"?vk:yk,r=e.uiLanguageDirection=="ltr"?yk:vk;this._addButton("undo",n("Undo"),"CTRL+Z",o),this._addButton("redo",n("Redo"),"CTRL+Y",r)}_addButton(t,e,n,o){const r=this.editor;r.ui.componentFactory.add(t,s=>{const a=r.commands.get(t),c=new Q(s);return c.set({label:e,icon:o,keystroke:n,tooltip:!0}),c.bind("isEnabled").to(a,"isEnabled"),this.listenTo(c,"execute",()=>{r.execute(t),r.editing.view.focus()}),c})}}class xk extends S{static get requires(){return[X3,tI]}static get pluginName(){return"Undo"}}class eI extends S{static get requires(){return[wk,va,Ck,vS,zb,xk]}static get pluginName(){return"Essentials"}}var Ek=I(1590),du={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};du.insert="head",du.singleton=!0;var GV=V()(Ek.Z,du);const qV=Ek.Z.locals||{};var Dk=I(9289),uu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uu.insert="head",uu.singleton=!0;var $V=V()(Dk.Z,uu);const KV=Dk.Z.locals||{};class nI extends q{constructor(t){super(t);const e=t.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(n,o)=>n>0&&!o),this._findInputView=this._createInputField(e("Find in text\u2026")),this._replaceInputView=this._createInputField(e("Replace with\u2026")),this._findButtonView=this._createButton({label:e("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:e("Previous result"),class:"ck-button-prev",icon:Od,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:e("Next result"),class:"ck-button-next",icon:Od,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:e("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:e("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new zt,this._keystrokes=new jt,this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new ga(t,{label:e("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]})}render(){super.render(),h({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const t=this.locale,e=new q(t);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:n})=>n),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:n})=>n),this._injectFindResultsCounter(),e.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),e}_onFindButtonExecute(){if(!this._textToFind){const t=this.t;this._findInputView.errorText=t("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const t=this.locale,e=t.t,n=this.bindTemplate,o=new q(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(s,a)=>e("%0 of %1",[s,a])),o.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",n.if("isDirty","ck-hidden")]},children:[{text:n.to("_resultsCounterText")}]});const r=()=>{const s=this._findInputView.fieldView.element;if(!s||!$n(s))return;const a=new ft(o.element).width,c=t.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";a?s.style[c]=`calc( 2 * var(--ck-spacing-standard) + ${a}px )`:s.style[c]=""};this.on("change:_resultsCounterText",r,{priority:"low"}),this.on("change:isDirty",r,{priority:"low"}),this._findInputView.template.children[0].children.push(o)}_createReplaceFieldset(){const e=this.locale.t,n=new q(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:o},r)=>o&&r),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:o},r)=>o&&r),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:o},r)=>o&&r),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(o,r)=>o||!r?"":e("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),n.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),n}_createOptionsDropdown(){const e=this.locale.t,n=Ht(this.locale);n.class="ck-options-dropdown",n.buttonView.set({withText:!1,label:e("Show options"),icon:J.cog,tooltip:!0});const o=new Tn({withText:!0,label:e("Match case"),_isMatchCaseSwitch:!0}),r=new Tn({withText:!0,label:e("Whole words only")});return o.bind("isOn").to(this,"_matchCase"),r.bind("isOn").to(this,"_wholeWordsOnly"),n.on("execute",s=>{s.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),Dn(n,new Ft([{type:"switchbutton",model:o},{type:"switchbutton",model:r}])),n}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}_initKeystrokeHandling(){const t=n=>n.stopPropagation(),e=n=>{n.stopPropagation(),n.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",n=>{e(n),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",n=>{e(n),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",n=>{const o=n.target;o===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),e(n)):o===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),e(n))}),this._keystrokes.set("shift+enter",n=>{n.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),e(n))}),this._keystrokes.set("arrowright",t),this._keystrokes.set("arrowleft",t),this._keystrokes.set("arrowup",t),this._keystrokes.set("arrowdown",t),this.listenTo(this._findInputView.element,"selectstart",(n,o)=>{o.stopPropagation()},{priority:"high"}),this.listenTo(this._replaceInputView.element,"selectstart",(n,o)=>{o.stopPropagation()},{priority:"high"})}_createButton(t){const e=new Q(this.locale);return e.set(t),e}_createInputField(t){const e=new ne(this.locale,We);return e.label=t,e}}const iI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class oI extends S{static get pluginName(){return"FindAndReplaceUI"}constructor(t){super(t),this.formView=null}init(){const t=this.editor;t.ui.componentFactory.add("findAndReplace",e=>{const n=Ht(e),o=t.commands.get("find");return n.bind("isEnabled").to(o),n.once("change:isOpen",()=>{this.formView=new(k(nI))(t.locale),n.panelView.children.add(this.formView),this._setupFormView(this.formView)}),n.on("change:isOpen",(r,s,a)=>{a?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")},{priority:"low"}),this._setupDropdownButton(n),n})}_setupDropdownButton(t){const e=this.editor,n=e.locale.t;t.buttonView.set({icon:iI,label:n("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),e.keystrokes.set("Ctrl+F",(o,r)=>{t.isEnabled&&(t.isOpen=!0,r())})}_setupFormView(t){const n=this.editor.commands,r=this.editor.plugins.get("FindAndReplaceEditing").state,s={before:-1,same:0,after:1,different:1};t.bind("highlightOffset").to(r,"highlightedResult",u=>u?Array.from(r.results).sort((m,b)=>s[m.marker.getStart().compareWith(b.marker.getStart())]).indexOf(u)+1:0),t.listenTo(r.results,"change",()=>{t.matchCount=r.results.length});const a=n.get("findNext"),c=n.get("findPrevious"),l=n.get("replace"),d=n.get("replaceAll");t.bind("_areCommandsEnabled").to(a,"isEnabled",c,"isEnabled",l,"isEnabled",d,"isEnabled",(u,m,b,A)=>({findNext:u,findPrevious:m,replace:b,replaceAll:A})),t.delegate("findNext","findPrevious","replace","replaceAll").to(this),t.on("change:isDirty",(u,m,b)=>{b&&this.fire("searchReseted")})}}class rI extends Y{constructor(t,e){super(t),this.isEnabled=!0,this.affectsData=!1,this._state=e}execute(t,{matchCase:e,wholeWords:n}={}){const{editor:o}=this,{model:r}=o,s=o.plugins.get("FindAndReplaceUtils");let a;typeof t=="string"?(a=s.findByTextCallback(t,{matchCase:e,wholeWords:n}),this._state.searchText=t):a=t;const c=r.document.getRootNames().reduce((l,d)=>s.updateFindResultFromRange(r.createRangeIn(r.document.getRoot(d)),r,a,l),null);return this._state.clear(r),this._state.results.addMany(c),this._state.highlightedResult=c.get(0),typeof t=="string"&&(this._state.searchText=t),this._state.matchCase=!!e,this._state.matchWholeWords=!!n,{results:c,findCallback:a}}}class Tk extends Y{constructor(t,e){super(t),this.isEnabled=!0,this._state=e}_replace(t,e){const{model:n}=this.editor;n.change(o=>{const r=e.marker.getRange();if(r.root.rootName==="$graveyard"){this._state.results.remove(e);return}let s={};for(const a of r.getItems())if(a.is("$text")||a.is("$textProxy")){s=a.getAttributes();break}n.insertContent(o.createText(t,s),r),this._state.results.has(e)&&this._state.results.remove(e)})}}class sI extends Tk{execute(t,e){this._replace(t,e)}}class aI extends Tk{execute(t,e){const{editor:n}=this,{model:o}=n,r=n.plugins.get("FindAndReplaceUtils"),s=e instanceof Ft?e:o.document.getRootNames().reduce((a,c)=>r.updateFindResultFromRange(o.createRangeIn(o.document.getRoot(c)),o,r.findByTextCallback(e,this._state),a),null);s.length&&[...s].forEach(a=>{this._replace(t,a)})}}class Sk extends Y{constructor(t,e){super(t),this.affectsData=!1,this._state=e,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const t=this._state.results,e=t.getIndex(this._state.highlightedResult),n=e+1>=t.length?0:e+1;this._state.highlightedResult=this._state.results.get(n)}}class cI extends Sk{execute(){const e=this._state.results.getIndex(this._state.highlightedResult),n=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(n)}}class lI extends ut(){constructor(t){super(),this.set("results",new Ft),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(e,{removed:n,index:o})=>{if(Array.from(n).length){let r=!1;if(t.change(s=>{for(const a of n)this.highlightedResult===a&&(r=!0),t.markers.has(a.marker.name)&&s.removeMarker(a.marker)}),r){const s=o>=this.results.length?0:o;this.highlightedResult=this.results.get(s)}}})}clear(t){this.searchText="",t.change(e=>{if(this.highlightedResult){const n=this.highlightedResult.marker.name.split(":")[1],o=t.markers.get(`findResultHighlighted:${n}`);o&&e.removeMarker(o)}[...this.results].forEach(({marker:n})=>{e.removeMarker(n)})}),this.results.clear()}}class dI extends S{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(t,e,n,o){const r=o||new Ft;return e.change(s=>{[...t].forEach(({type:a,item:c})=>{if(a==="elementStart"&&e.schema.checkChild(c,"$text")){const l=n({item:c,text:this.rangeToText(e.createRangeIn(c))});if(!l)return;l.forEach(d=>{const u=`findResult:${oe()}`,m=s.addMarker(u,{usingOperation:!1,affectsData:!1,range:s.createRange(s.createPositionAt(c,d.start),s.createPositionAt(c,d.end))}),b=uI(r,m);r.add({id:u,label:d.label,marker:m},b)})}})}),r}rangeToText(t){return Array.from(t.getItems()).reduce((e,n)=>n.is("$text")||n.is("$textProxy")?e+n.data:`${e}
`,"")}findByTextCallback(t,e){let n="gu";e.matchCase||(n+="i");let o=`(${Rb(t)})`;if(e.wholeWords){const a="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+a).test(t)||(o=`(^|${a}|_)${o}`),new RegExp(a+"$").test(t)||(o=`${o}(?=_|${a}|$)`)}const r=new RegExp(o,n);function s({text:a}){return[...a.matchAll(r)].map(hI)}return s}}function uI(i,t){const e=i.find(({marker:n})=>t.getStart().isBefore(n.getStart()));return e?i.getIndex(e):i.length}function hI(i){const t=i.length-1;let e=i.index;return i.length===3&&(e+=i[1].length),{label:i[t],start:e,end:e+i[t].length}}var Ik=I(5436),hu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hu.insert="head",hu.singleton=!0;var YV=V()(Ik.Z,hu);const ZV=Ik.Z.locals||{},mI="ck-find-result_selected";function gI(i,t,e){const n=new Set,o=new Set,r=t.model;r.document.differ.getChanges().forEach(a=>{a.name==="$text"||r.schema.isInline(a.position.nodeAfter)?(n.add(a.position.parent),[...r.markers.getMarkersAtPosition(a.position)].forEach(c=>{o.add(c.name)})):a.type==="insert"&&n.add(a.position.nodeAfter)}),r.document.differ.getChangedMarkers().forEach(({name:a,data:{newRange:c}})=>{c&&c.start.root.rootName==="$graveyard"&&o.add(a)}),n.forEach(a=>{[...r.markers.getMarkersIntersectingRange(r.createRangeIn(a))].forEach(l=>o.add(l.name))}),r.change(a=>{o.forEach(c=>{i.has(c)&&i.remove(c),a.removeMarker(c)})}),n.forEach(a=>{t.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(r.createRangeOn(a),r,e,i)})}class fI extends S{static get requires(){return[dI]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new lI(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(n,o,r,s)=>{const{model:a}=this.editor;a.change(c=>{if(s){const l=s.marker.name.split(":")[1],d=a.markers.get(`findResultHighlighted:${l}`);d&&c.removeMarker(d)}if(r){const l=r.marker.name.split(":")[1];c.addMarker(`findResultHighlighted:${l}`,{usingOperation:!1,affectsData:!1,range:r.marker.getRange()})}})});const e=yn(((n,o,r)=>{if(r){const s=this.editor.editing.view.domConverter,a=this.editor.editing.mapper.toViewRange(r.marker.getRange());sg({target:s.viewRangeToDom(a),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",e,{priority:"low"}),this.listenTo(this.editor,"destroy",e.cancel)}find(t){const{editor:e}=this,{model:n}=e,{findCallback:o,results:r}=e.execute("find",t);return this._activeResults=r,this.listenTo(n.document,"change:data",()=>gI(this._activeResults,e,o)),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new rI(this.editor,this.state)),this.editor.commands.add("findNext",new Sk(this.editor,this.state)),this.editor.commands.add("findPrevious",new cI(this.editor,this.state)),this.editor.commands.add("replace",new sI(this.editor,this.state)),this.editor.commands.add("replaceAll",new aI(this.editor,this.state))}_defineConverters(){const{editor:t}=this;t.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:e})=>{const[,n]=e.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":n}}}}),t.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:e})=>{const[,n]=e.split(":");return{name:"span",classes:[mI],attributes:{"data-find-result":n}}}})}}class pI extends S{static get requires(){return[fI,oI]}static get pluginName(){return"FindAndReplace"}init(){const t=this.editor.plugins.get("FindAndReplaceUI"),e=this.editor.plugins.get("FindAndReplaceEditing"),n=e.state;t.on("findNext",(o,r)=>{r?(n.searchText=r.searchText,this.editor.execute("find",r.searchText,r)):this.editor.execute("findNext")}),t.on("findPrevious",(o,r)=>{r&&n.searchText!==r.searchText?this.editor.execute("find",r.searchText):this.editor.execute("findPrevious")}),t.on("replace",(o,r)=>{n.searchText!==r.searchText&&this.editor.execute("find",r.searchText);const s=n.highlightedResult;s&&this.editor.execute("replace",r.replaceText,s)}),t.on("replaceAll",(o,r)=>{n.searchText!==r.searchText&&this.editor.execute("find",r.searchText),this.editor.execute("replaceAll",r.replaceText,n.results)}),t.on("searchReseted",()=>{n.clear(this.editor.model),e.stop()})}}class Da extends Y{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,o=e.document.selection,r=t.value;e.change(s=>{if(o.isCollapsed)r?s.setSelectionAttribute(this.attributeKey,r):s.removeSelectionAttribute(this.attributeKey);else{const a=e.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const c of a)r?s.setAttribute(this.attributeKey,r,c):s.removeAttribute(this.attributeKey,c)}})}}class bI extends ut(Ft){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(n=>n.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}var Mk=I(2585),mu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};mu.insert="head",mu.singleton=!0;var QV=V()(Mk.Z,mu);const JV=Mk.Z.locals||{};class kI extends q{constructor(t,{colors:e,columns:n,removeButtonLabel:o,documentColorsLabel:r,documentColorsCount:s}){super(t),this.items=this.createCollection(),this.colorDefinitions=e,this.focusTracker=new zt,this.keystrokes=new jt,this.set("selectedColor",void 0),this.removeButtonLabel=o,this.columns=n,this.documentColors=new bI,this.documentColorsCount=s,this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._documentColorsLabel=r,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._createRemoveColorButton())}updateDocumentColors(t,e){const n=t.document,o=this.documentColorsCount;this.documentColors.clear();for(const r of n.getRootNames()){const s=n.getRoot(r),a=t.createRangeIn(s);for(const c of a.getItems())if(c.is("$textProxy")&&c.hasAttribute(e)&&(this._addColorToDocumentColors(c.getAttribute(e)),this.documentColors.length>=o))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.staticColorsGrid,n=this.selectedColor;e.selectedColor=n,t&&(t.selectedColor=n)}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid),this.documentColorsCount)){const t=ye.bind(this.documentColors,this.documentColors),e=new Ue(this.locale);e.text=this._documentColorsLabel,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid),this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_createRemoveColorButton(){const t=new Q;return t.set({withText:!0,icon:J.eraser,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",()=>{this.fire("execute",{value:null})}),t.render(),this.focusTracker.add(t.element),this._focusables.add(t),t}_createStaticColorsGrid(){const t=new Il(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.delegate("execute").to(this),t}_createDocumentColorsGrid(){const t=ye.bind(this.documentColors,this.documentColors),e=new Il(this.locale,{columns:this.columns});return e.delegate("execute").to(this),e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using(n=>{const o=new Mg;return o.set({color:n.color,hasBorder:n.options&&n.options.hasBorder}),n.label&&o.set({label:n.label,tooltip:!0}),o.on("execute",()=>{this.fire("execute",{value:n.color})}),o}),this.documentColors.on("change:isEmpty",(n,o,r)=>{r&&(e.selectedColor=null)}),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find(n=>n.color===t);e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}const ze="fontSize",Ne="fontFamily",bn="fontColor",Mn="fontBackgroundColor";function Bk(i,t){const e={model:{key:i,values:[]},view:{},upcastAlso:{}};for(const n of t)e.model.values.push(n.model),e.view[n.model]=n.view,n.upcastAlso&&(e.upcastAlso[n.model]=n.upcastAlso);return e}function zk(i){return t=>AI(t.getStyle(i))}function Nk(i){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${i}:${t}`},{priority:7})}function wI({dropdownView:i,colors:t,columns:e,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r}){const s=i.locale,a=new kI(s,{colors:t,columns:e,removeButtonLabel:n,documentColorsLabel:o,documentColorsCount:r});return i.colorTableView=a,i.panelView.children.add(a),a.delegate("execute").to(i,"execute"),a}function AI(i){return i.replace(/\s/g,"")}class CI extends Da{constructor(t){super(t,Mn)}}class _I extends S{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define(Mn,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(Cd),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Mn,value:zk("background-color")}}),t.conversion.for("downcast").attributeToElement({model:Mn,view:Nk("background-color")}),t.commands.add(Mn,new CI(t)),t.model.schema.extend("$text",{allowAttributes:Mn}),t.model.schema.setAttributeProperties(Mn,{isFormatting:!0,copyOnEnter:!0})}}class Lk extends S{constructor(t,{commandName:e,componentName:n,icon:o,dropdownLabel:r}){super(t),this.commandName=e,this.componentName=n,this.icon=o,this.dropdownLabel=r,this.columns=t.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const t=this.editor,e=t.locale,n=e.t,o=t.commands.get(this.commandName),r=ir(t.config.get(this.componentName).colors),s=nr(e,r),a=t.config.get(`${this.componentName}.documentColors`);t.ui.componentFactory.add(this.componentName,c=>{const l=Ht(c);return this.colorTableView=wI({dropdownView:l,colors:s.map(d=>({label:d.label,color:d.model,options:{hasBorder:d.hasBorder}})),columns:this.columns,removeButtonLabel:n("Remove color"),documentColorsLabel:a!==0?n("Document colors"):"",documentColorsCount:a===void 0?this.columns:a}),this.colorTableView.bind("selectedColor").to(o,"value"),l.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),l.bind("isEnabled").to(o),l.on("execute",(d,u)=>{t.execute(this.commandName,u),t.editing.view.focus()}),l.on("change:isOpen",(d,u,m)=>{l.colorTableView.appendGrids(),m&&(a!==0&&this.colorTableView.updateDocumentColors(t.model,this.componentName),this.colorTableView.updateSelectedColors())}),ma(l,()=>l.colorTableView.staticColorsGrid.items.find(d=>d.isOn)),l})}}const vI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';class yI extends Lk{constructor(t){const e=t.locale.t;super(t,{commandName:Mn,componentName:Mn,icon:vI,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class xI extends S{static get requires(){return[_I,yI]}static get pluginName(){return"FontBackgroundColor"}}class EI extends Da{constructor(t){super(t,bn)}}class DI extends S{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define(bn,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:bn,value:zk("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:bn,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:bn,view:Nk("color")}),t.commands.add(bn,new EI(t)),t.model.schema.extend("$text",{allowAttributes:bn}),t.model.schema.setAttributeProperties(bn,{isFormatting:!0,copyOnEnter:!0})}}const TI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class SI extends Lk{constructor(t){const e=t.locale.t;super(t,{commandName:bn,componentName:bn,icon:TI,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class II extends S{static get requires(){return[DI,SI]}static get pluginName(){return"FontColor"}}class MI extends Da{constructor(t){super(t,Ne)}}function Pk(i){return i.map(BI).filter(t=>t!==void 0)}function BI(i){if(typeof i=="object")return i;if(i==="default")return{title:"Default",model:void 0};if(typeof i=="string")return zI(i)}function zI(i){const t=i.replace(/"|'/g,"").split(","),e=t[0],n=t.map(NI).join(", ");return{title:e,model:n,view:{name:"span",styles:{"font-family":n},priority:7}}}function NI(i){return i=i.trim(),i.indexOf(" ")>0&&(i=`'${i}'`),i}class LI extends S{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define(Ne,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Ne}),t.model.schema.setAttributeProperties(Ne,{isFormatting:!0,copyOnEnter:!0});const e=Pk(t.config.get("fontFamily.options")).filter(o=>o.model),n=Bk(Ne,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(n),t.commands.add(Ne,new MI(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:Ne,view:(e,{writer:n})=>n.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:Ne,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Ne,value:e=>e.getAttribute("face")}})}}const PI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class RI extends S{static get pluginName(){return"FontFamilyUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),o=t.commands.get(Ne);t.ui.componentFactory.add(Ne,r=>{const s=Ht(r);return Dn(s,()=>OI(n,o)),s.buttonView.set({label:e("Font Family"),icon:PI,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),s.bind("isEnabled").to(o),this.listenTo(s,"execute",a=>{t.execute(a.source.commandName,{value:a.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t;return Pk(t.config.get(Ne).options).map(o=>(o.title==="Default"&&(o.title=e("Default")),o))}}function OI(i,t){const e=new Ft;for(const n of i){const o={type:"button",model:new Tn({commandName:Ne,commandParam:n.model,label:n.title,withText:!0})};o.model.bind("isOn").to(t,"value",r=>r===n.model?!0:!r||!n.model?!1:r.split(",")[0].replace(/'/g,"").toLowerCase()===n.model.toLowerCase()),n.view&&typeof n.view!="string"&&n.view.styles&&o.model.set("labelStyle",`font-family: ${n.view.styles["font-family"]}`),e.add(o)}return e}class VI extends S{static get requires(){return[LI,RI]}static get pluginName(){return"FontFamily"}}class FI extends Da{constructor(t){super(t,ze)}}function gu(i){return i.map(t=>jI(t)).filter(t=>t!==void 0)}const Rk={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function jI(i){if(typeof i=="number"&&(i=String(i)),typeof i=="object"&&WI(i))return fu(i);const t=UI(i);if(t)return fu(t);if(i==="default")return{model:void 0,title:"Default"};if(!GI(i))return HI(i)}function HI(i){return typeof i=="string"&&(i={title:i,model:`${parseFloat(i)}px`}),i.view={name:"span",styles:{"font-size":i.model}},fu(i)}function fu(i){return i.view&&typeof i.view!="string"&&!i.view.priority&&(i.view.priority=7),i}function UI(i){return typeof i=="string"?Rk[i]:Rk[i.model]}function WI(i){return i.title&&i.model&&i.view}function GI(i){let t;if(typeof i=="object")if(i.model)t=parseFloat(i.model);else throw new v("font-size-invalid-definition",null,i);else t=parseFloat(i);return isNaN(t)}const Ok=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class qI extends S{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define(ze,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ze}),t.model.schema.setAttributeProperties(ze,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),n=gu(this.editor.config.get("fontSize.options")).filter(r=>r.model),o=Bk(ze,n);e?(this._prepareAnyValueConverters(o),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(o),t.commands.add(ze,new FI(t))}_prepareAnyValueConverters(t){const e=this.editor,n=t.model.values.filter(o=>!aa(String(o))&&!Vp(String(o)));if(n.length)throw new v("font-size-invalid-use-of-named-presets",null,{presets:n});e.conversion.for("downcast").attributeToElement({model:ze,view:(o,{writer:r})=>{if(o)return r.createAttributeElement("span",{style:"font-size:"+o},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:ze,value:o=>o.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:ze,value:e=>{const n=e.getAttribute("size"),o=n[0]==="-"||n[0]==="+";let r=parseInt(n,10);o&&(r=3+r);const s=Ok.length-1,a=Math.min(Math.max(r,0),s);return Ok[a]}}})}}var Vk=I(6203),pu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};pu.insert="head",pu.singleton=!0;var XV=V()(Vk.Z,pu);const t9=Vk.Z.locals||{},$I='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class KI extends S{static get pluginName(){return"FontSizeUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),o=t.commands.get(ze);t.ui.componentFactory.add(ze,r=>{const s=Ht(r);return Dn(s,()=>YI(n,o)),s.buttonView.set({label:e("Font Size"),icon:$I,tooltip:!0}),s.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),s.bind("isEnabled").to(o),this.listenTo(s,"execute",a=>{t.execute(a.source.commandName,{value:a.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t,n={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return gu(t.config.get(ze).options).map(r=>{const s=n[r.title];return s&&s!=r.title&&(r=Object.assign({},r,{title:s})),r})}}function YI(i,t){const e=new Ft;for(const n of i){const o={type:"button",model:new Tn({commandName:ze,commandParam:n.model,label:n.title,class:"ck-fontsize-option",withText:!0})};n.view&&typeof n.view!="string"&&(n.view.styles&&o.model.set("labelStyle",`font-size:${n.view.styles["font-size"]}`),n.view.classes&&o.model.set("class",`${o.model.class} ${n.view.classes}`)),o.model.bind("isOn").to(t,"value",r=>r===n.model),e.add(o)}return e}class ZI extends S{static get requires(){return[qI,KI]}static get pluginName(){return"FontSize"}normalizeSizeOptions(t){return gu(t)}}function wo(i,t,e,n){t&&QI(i,t,n),e&&Bn(i,e,n)}function Bn(i,t,e){if(t.attributes)for(const[n,o]of Object.entries(t.attributes))i.setAttribute(n,o,e);t.styles&&i.setStyle(t.styles,e),t.classes&&i.addClass(t.classes,e)}function QI(i,t,e){if(t.attributes)for(const[n]of Object.entries(t.attributes))i.removeAttribute(n,e);if(t.styles)for(const n of Object.keys(t.styles))i.removeStyle(n,e);t.classes&&i.removeClass(t.classes,e)}function JI(i,t){const e=Zn(i);let n="attributes";for(n in t)n=="classes"?e[n]=Array.from(new Set([...i[n]||[],...t[n]])):e[n]=U(U({},i[n]),t[n]);return e}function bu({model:i}){return(t,e)=>e.writer.createElement(i,{htmlContent:t.getCustomProperty("$rawContent")})}function XI(i,{view:t,isInline:e}){const n=i.t;return(o,{writer:r})=>{const s=n("HTML object"),a=Ta(t,o,r),c=o.getAttribute("htmlAttributes");r.addClass("html-object-embed__content",a),c&&Bn(r,c,a);const l=r.createContainerElement(e?"span":"div",{class:"html-object-embed","data-html-object-embed-label":s},a);return yr(l,r,{label:s})}}function Ta(i,t,e){return e.createRawElement(i,null,(n,o)=>{o.setContentOf(n,t.getAttribute("htmlContent"))})}function tM({view:i,model:t},e){return n=>{n.on(`element:${i}`,(o,r,s)=>{let a=e.processViewAttributes(r.viewItem,s);if(!(!a&&!s.consumable.test(r.viewItem,{name:!0}))){a=a||{},s.consumable.consume(r.viewItem,{name:!0}),r.modelRange||(r=Object.assign(r,s.convertChildren(r.viewItem,r.modelCursor)));for(const c of r.modelRange.getItems())if(s.schema.checkAttribute(c,t)){const l=c.getAttribute(t),d=JI(a,l||{});s.writer.setAttribute(t,d,c)}}},{priority:"low"})}}function eM({priority:i,view:t}){return(e,n)=>{if(!e)return;const{writer:o}=n,r=o.createAttributeElement(t,null,{priority:i});return Bn(o,e,r),r}}function xr({view:i},t){return e=>{e.on(`element:${i}`,(n,o,r)=>{if(!o.modelRange||o.modelRange.isCollapsed)return;const s=t.processViewAttributes(o.viewItem,r);s&&r.writer.setAttribute("htmlAttributes",s,o.modelRange)},{priority:"low"})}}function Er({model:i}){return t=>{t.on(`attribute:htmlAttributes:${i}`,(e,n,o)=>{if(!o.consumable.consume(n.item,e.name))return;const{attributeOldValue:r,attributeNewValue:s}=n,a=o.writer,c=o.mapper.toViewElement(n.item);wo(a,r,s,c)})}}const Fk={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:"$text",allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],inline:[{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref",attributeProperties:{copyOnEnter:!0}},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],isInline:!0}}]};var nM=$l(function(i,t,e,n){tf(i,t,e,n)});const iM=nM;class Ao extends S{constructor(t){super(t),this._definitions=new Map}static get pluginName(){return"DataSchema"}init(){for(const t of Fk.block)this.registerBlockElement(t);for(const t of Fk.inline)this.registerInlineElement(t)}registerBlockElement(t){this._definitions.set(t.model,ie(U({},t),{isBlock:!0}))}registerInlineElement(t){this._definitions.set(t.model,ie(U({},t),{isInline:!0}))}extendBlockElement(t){this._extendDefinition(ie(U({},t),{isBlock:!0}))}extendInlineElement(t){this._extendDefinition(ie(U({},t),{isInline:!0}))}getDefinitionsForView(t,e=!1){const n=new Set;for(const o of this._getMatchingViewDefinitions(t)){if(e)for(const r of this._getReferences(o.model))n.add(r);n.add(o)}return n}_getMatchingViewDefinitions(t){return Array.from(this._definitions.values()).filter(e=>e.view&&oM(t,e.view))}*_getReferences(t){const{modelSchema:e}=this._definitions.get(t);if(!e)return;const n=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"];for(const o of n)for(const r of Vt(e[o]||[])){const s=this._definitions.get(r);r!==t&&s&&(yield*Gt(this._getReferences(s.model)),yield s)}}_extendDefinition(t){const e=this._definitions.get(t.model),n=iM({},e,t,(o,r)=>Array.isArray(o)?o.concat(r):void 0);this._definitions.set(t.model,n)}}function oM(i,t){return typeof i=="string"?i===t:i instanceof RegExp?i.test(t):!1}function rM(i,t,e,n){for(var o=i.length,r=e+(n?1:-1);n?r--:++r<o;)if(t(i[r],r,i))return r;return-1}const sM=rM;function aM(i){return i!==i}const cM=aM;function lM(i,t,e){for(var n=e-1,o=i.length;++n<o;)if(i[n]===t)return n;return-1}const dM=lM;function uM(i,t,e){return t===t?dM(i,t,e):sM(i,cM,e)}const hM=uM;function mM(i,t,e,n){for(var o=e-1,r=i.length;++o<r;)if(n(i[o],t))return o;return-1}const gM=mM;var fM=Array.prototype,jk=fM.splice;function pM(i,t,e,n){var o=n?gM:hM,r=-1,s=t.length,a=i;for(i===t&&(t=al(t)),e&&(a=$g(i,Bs(e)));++r<s;)for(var c=0,l=t[r],d=e?e(l):l;(c=o(a,d,c,n))>-1;)a!==i&&jk.call(a,c,1),jk.call(i,c,1);return i}const bM=pM;function kM(i,t){return i&&i.length&&t&&t.length?bM(i,t):i}var wM=nf(kM);const AM=wM;var Hk=I(8468),ku={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ku.insert="head",ku.singleton=!0;var n9=V()(Hk.Z,ku);const i9=Hk.Z.locals||{};class Qt extends S{constructor(t){super(t),this._dataSchema=t.plugins.get("DataSchema"),this._allowedAttributes=new Fe,this._disallowedAttributes=new Fe,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerModelPostFixer()}static get pluginName(){return"DataFilter"}static get requires(){return[Ao,Ei]}loadAllowedConfig(t){for(const e of t){const n=e.name||/[\s\S]+/,o=Gk(e);this.allowElement(n),o.forEach(r=>this.allowAttributes(r))}}loadDisallowedConfig(t){for(const e of t){const n=e.name||/[\s\S]+/,o=Gk(e);o.length==0?this.disallowElement(n):o.forEach(r=>this.disallowAttributes(r))}}allowElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!0))this._allowedElements.has(e)||(this._allowedElements.add(e),this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:we.get("highest")+1}),this._coupledAttributes=null)}disallowElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!1))this._disallowedElements.add(e.view)}allowAttributes(t){this._allowedAttributes.add(t)}disallowAttributes(t){this._disallowedAttributes.add(t)}processViewAttributes(t,e){return Uk(t,e,this._disallowedAttributes),Uk(t,e,this._allowedAttributes)}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const t of this._allowedElements)this._fireRegisterEvent(t)},{priority:we.get("highest")+1})}_registerElementHandlers(){this.on("register",(t,e)=>{const n=this.editor.model.schema;if(e.isObject&&!n.isRegistered(e.model))this._registerObjectElement(e);else if(e.isBlock)this._registerBlockElement(e);else if(e.isInline)this._registerInlineElement(e);else throw new v("data-filter-invalid-definition",null,e);t.stop()},{priority:"lowest"})}_registerModelPostFixer(){const t=this.editor.model;t.document.registerPostFixer(e=>{const n=t.document.differ.getChanges();let o=!1;const r=this._getCoupledAttributesMap();for(const s of n){if(s.type!="attribute"||s.attributeNewValue!==null)continue;const a=r.get(s.attributeKey);if(a)for(const{item:c}of s.range.getWalker({shallow:!0}))for(const l of a)c.hasAttribute(l)&&(e.removeAttribute(l,c),o=!0)}return o})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const t of this._allowedElements)if(t.coupledAttribute&&t.model){const e=this._coupledAttributes.get(t.coupledAttribute);e?e.push(t.model):this._coupledAttributes.set(t.coupledAttribute,[t.model])}return this._coupledAttributes}_fireRegisterEvent(t){t.view&&this._disallowedElements.has(t.view)||this.fire(t.view?`register:${t.view}`:"register",t)}_registerObjectElement(t){const e=this.editor,n=e.model.schema,o=e.conversion,{view:r,model:s}=t;n.register(s,t.modelSchema),r&&(n.extend(t.model,{allowAttributes:["htmlAttributes","htmlContent"]}),e.data.registerRawContentMatcher({name:r}),o.for("upcast").elementToElement({view:r,model:bu(t),converterPriority:we.get("low")+1}),o.for("upcast").add(xr(t,this)),o.for("editingDowncast").elementToStructure({model:{name:s,attributes:["htmlAttributes"]},view:XI(e,t)}),o.for("dataDowncast").elementToElement({model:s,view:(a,{writer:c})=>Ta(r,a,c)}),o.for("dataDowncast").add(Er(t)))}_registerBlockElement(t){const e=this.editor,n=e.model.schema,o=e.conversion,{view:r,model:s}=t;if(!n.isRegistered(t.model)){if(n.register(t.model,t.modelSchema),!r)return;o.for("upcast").elementToElement({model:s,view:r,converterPriority:we.get("low")+1}),o.for("downcast").elementToElement({model:s,view:r})}r&&(n.extend(t.model,{allowAttributes:"htmlAttributes"}),o.for("upcast").add(xr(t,this)),o.for("downcast").add(Er(t)))}_registerInlineElement(t){const e=this.editor,n=e.model.schema,o=e.conversion,r=t.model;n.extend("$text",{allowAttributes:r}),t.attributeProperties&&n.setAttributeProperties(r,t.attributeProperties),o.for("upcast").add(tM(t,this)),o.for("downcast").attributeToElement({model:r,view:eM(t)})}}function Uk(i,t,e){const n=CM(i,t,e),{attributes:o,styles:r,classes:s}=vM(n),a={};if(o.size)for(const c of o)yM(c)||o.delete(c);return o.size&&(a.attributes=Wk(o,c=>i.getAttribute(c))),r.size&&(a.styles=Wk(r,c=>i.getStyle(c))),s.size&&(a.classes=Array.from(s)),Object.keys(a).length?a:null}function CM(i,{consumable:t},e){const n=e.matchAll(i)||[],o=[];for(const r of n)_M(t,i,r),delete r.match.name,t.consume(i,r.match),o.push(r);return o}function _M(i,t,e){for(const n of["attributes","classes","styles"]){const o=e.match[n];if(o)for(const r of Array.from(o))i.test(t,{[n]:[r]})||AM(o,r)}}function vM(i){const t={attributes:new Set,classes:new Set,styles:new Set};for(const e of i)for(const n in t)(e.match[n]||[]).forEach(r=>t[n].add(r));return t}function Wk(i,t){const e={};for(const n of i)t(n)!==void 0&&(e[n]=t(n));return e}function wu(i,t){const{name:e}=i,n=i[t];return ue(n)?Object.entries(n).map(([o,r])=>({name:e,[t]:{[o]:r}})):Array.isArray(n)?n.map(o=>({name:e,[t]:[o]})):[i]}function Gk(i){const{name:t,attributes:e,classes:n,styles:o}=i,r=[];return e&&r.push(...wu({name:t,attributes:e},"attributes")),n&&r.push(...wu({name:t,classes:n},"classes")),o&&r.push(...wu({name:t,styles:o},"styles")),r}function yM(i){try{document.createAttribute(i)}catch(t){return!1}return!0}class xM extends S{static get requires(){return[Qt]}static get pluginName(){return"CodeBlockElementSupport"}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get(Qt);t.on("register:pre",(e,n)=>{if(n.model!=="codeBlock")return;const o=this.editor,r=o.model.schema,s=o.conversion;r.extend("codeBlock",{allowAttributes:["htmlAttributes","htmlContentAttributes"]}),s.for("upcast").add(EM(t)),s.for("downcast").add(DM()),e.stop()})}}function EM(i){return t=>{t.on("element:code",(e,n,o)=>{const r=n.viewItem,s=r.parent;if(!s||!s.is("element","pre"))return;a(s,"htmlAttributes"),a(r,"htmlContentAttributes");function a(c,l){const d=i.processViewAttributes(c,o);d&&o.writer.setAttribute(l,d,n.modelRange)}},{priority:"low"})}}function DM(){return i=>{i.on("attribute:htmlAttributes:codeBlock",(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const{attributeOldValue:o,attributeNewValue:r}=e,a=n.mapper.toViewElement(e.item).parent;wo(n.writer,o,r,a)}),i.on("attribute:htmlContentAttributes:codeBlock",(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const{attributeOldValue:o,attributeNewValue:r}=e,s=n.mapper.toViewElement(e.item);wo(n.writer,o,r,s)})}}class TM extends S{static get requires(){return[Qt]}static get pluginName(){return"DualContentModelElementSupport"}init(){this.editor.plugins.get(Qt).on("register",(e,n)=>{const o=n,r=this.editor,s=r.model.schema,a=r.conversion;if(!o.paragraphLikeModel||s.isRegistered(o.model)||s.isRegistered(o.paragraphLikeModel))return;const c={model:o.paragraphLikeModel,view:o.view};s.register(o.model,o.modelSchema),s.register(c.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:o.view,model:(l,{writer:d})=>this._hasBlockContent(l)?d.createElement(o.model):d.createElement(c.model),converterPriority:we.get("low")+.5}),a.for("downcast").elementToElement({view:o.view,model:o.model}),this._addAttributeConversion(o),a.for("downcast").elementToElement({view:c.view,model:c.model}),this._addAttributeConversion(c),e.stop()})}_hasBlockContent(t){const e=this.editor.editing.view,n=e.domConverter.blockElements;for(const o of e.createRangeIn(t).getItems())if(o.is("element")&&n.includes(o.name))return!0;return!1}_addAttributeConversion(t){const e=this.editor,n=e.conversion,o=e.plugins.get(Qt);e.model.schema.extend(t.model,{allowAttributes:"htmlAttributes"}),n.for("upcast").add(xr(t,o)),n.for("downcast").add(Er(t))}}class SM extends S{static get requires(){return[Ao]}static get pluginName(){return"HeadingElementSupport"}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.plugins.get(Ao),n=t.config.get("heading.options"),o=[];for(const r of n)"model"in r&&"view"in r&&(e.registerBlockElement({view:r.view,model:r.model}),o.push(r.model));e.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:o}})}}function Sa(i,t,e){const n=i.createRangeOn(t);for(const{item:o}of n.getWalker())if(o.is("element",e))return o}class IM extends S{static get requires(){return[Qt]}static get pluginName(){return"ImageElementSupport"}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,n=t.conversion,o=t.plugins.get(Qt);o.on("register:figure",()=>{n.for("upcast").add(BM(o))}),o.on("register:img",(r,s)=>{s.model!=="imageBlock"&&s.model!=="imageInline"||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlAttributes"]}),n.for("upcast").add(MM(o)),n.for("downcast").add(zM()),r.stop())})}}function MM(i){return t=>{t.on("element:img",(e,n,o)=>{if(!n.modelRange)return;const r=n.viewItem,s=r.parent;a(r,"htmlAttributes"),s.is("element","a")&&c(s);function a(l,d){const u=i.processViewAttributes(l,o);u&&o.writer.setAttribute(d,u,n.modelRange)}function c(l){n.modelRange&&n.modelRange.getContainedElement().is("element","imageBlock")&&a(l,"htmlLinkAttributes")}},{priority:"low"})}}function BM(i){return t=>{t.on("element:figure",(e,n,o)=>{const r=n.viewItem;if(!n.modelRange||!r.hasClass("image"))return;const s=i.processViewAttributes(r,o);s&&o.writer.setAttribute("htmlFigureAttributes",s,n.modelRange)},{priority:"low"})}}function zM(){return i=>{t("htmlAttributes"),e("img","htmlAttributes"),e("figure","htmlFigureAttributes"),e("a","htmlLinkAttributes");function t(n){i.on(`attribute:${n}:imageInline`,(o,r,s)=>{if(!s.consumable.consume(r.item,o.name))return;const{attributeOldValue:a,attributeNewValue:c}=r,l=s.mapper.toViewElement(r.item);wo(s.writer,a,c,l)},{priority:"low"})}function e(n,o){i.on(`attribute:${o}:imageBlock`,(r,s,a)=>{if(!a.consumable.test(s.item,r.name))return;const{attributeOldValue:c,attributeNewValue:l}=s,d=a.mapper.toViewElement(s.item),u=Sa(a.writer,d,n);u&&(wo(a.writer,c,l,u),a.consumable.consume(s.item,r.name))},{priority:"low"}),n==="a"&&i.on("attribute:linkHref:imageBlock",(r,s,a)=>{if(!a.consumable.consume(s.item,"attribute:htmlLinkAttributes:imageBlock"))return;const c=a.mapper.toViewElement(s.item),l=Sa(a.writer,c,"a");Bn(a.writer,s.item.getAttribute("htmlLinkAttributes"),l)},{priority:"low"})}}}class NM extends S{static get requires(){return[Qt]}static get pluginName(){return"MediaEmbedElementSupport"}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,n=t.conversion,o=this.editor.plugins.get(Qt),r=this.editor.plugins.get(Ao),s=t.config.get("mediaEmbed.elementName");r.registerBlockElement({model:"media",view:s}),o.on("register:figure",()=>{n.for("upcast").add(PM(o))}),o.on(`register:${s}`,(a,c)=>{c.model==="media"&&(e.extend("media",{allowAttributes:["htmlAttributes","htmlFigureAttributes"]}),n.for("upcast").add(LM(o,s)),n.for("dataDowncast").add(RM(s)),a.stop())})}}function LM(i,t){const e=(n,o,r)=>{const s=o.viewItem;a(s,"htmlAttributes");function a(c,l){const d=i.processViewAttributes(c,r);d&&r.writer.setAttribute(l,d,o.modelRange)}};return n=>{n.on(`element:${t}`,e,{priority:"low"})}}function PM(i){return t=>{t.on("element:figure",(e,n,o)=>{const r=n.viewItem;if(!n.modelRange||!r.hasClass("media"))return;const s=i.processViewAttributes(r,o);s&&o.writer.setAttribute("htmlFigureAttributes",s,n.modelRange)},{priority:"low"})}}function RM(i){return t=>{e(i,"htmlAttributes"),e("figure","htmlFigureAttributes");function e(n,o){t.on(`attribute:${o}:media`,(r,s,a)=>{if(!a.consumable.consume(s.item,r.name))return;const{attributeOldValue:c,attributeNewValue:l}=s,d=a.mapper.toViewElement(s.item),u=Sa(a.writer,d,n);wo(a.writer,c,l,u)})}}}class OM extends S{static get requires(){return[Qt]}static get pluginName(){return"ScriptElementSupport"}init(){const t=this.editor.plugins.get(Qt);t.on("register:script",(e,n)=>{const o=this.editor,r=o.model.schema,s=o.conversion;r.register("htmlScript",n.modelSchema),r.extend("htmlScript",{allowAttributes:["htmlAttributes","htmlContent"],isContent:!0}),o.data.registerRawContentMatcher({name:"script"}),s.for("upcast").elementToElement({view:"script",model:bu(n)}),s.for("upcast").add(xr(n,t)),s.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:c})=>Ta("script",a,c)}),s.for("downcast").add(Er(n)),e.stop()})}}class VM extends S{static get requires(){return[Qt]}static get pluginName(){return"TableElementSupport"}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,n=t.conversion,o=t.plugins.get(Qt);o.on("register:figure",()=>{n.for("upcast").add(jM(o))}),o.on("register:table",(r,s)=>{s.model==="table"&&(e.extend("table",{allowAttributes:["htmlAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),n.for("upcast").add(FM(o)),n.for("downcast").add(HM()),r.stop())})}}function FM(i){return t=>{t.on("element:table",(e,n,o)=>{const r=n.viewItem;s(r,"htmlAttributes");for(const a of r.getChildren())a.is("element","thead")&&s(a,"htmlTheadAttributes"),a.is("element","tbody")&&s(a,"htmlTbodyAttributes");function s(a,c){const l=i.processViewAttributes(a,o);l&&o.writer.setAttribute(c,l,n.modelRange)}},{priority:"low"})}}function jM(i){return t=>{t.on("element:figure",(e,n,o)=>{const r=n.viewItem;if(!n.modelRange||!r.hasClass("table"))return;const s=i.processViewAttributes(r,o);s&&o.writer.setAttribute("htmlFigureAttributes",s,n.modelRange)},{priority:"low"})}}function HM(){return i=>{t("table","htmlAttributes"),t("figure","htmlFigureAttributes"),t("thead","htmlTheadAttributes"),t("tbody","htmlTbodyAttributes");function t(e,n){i.on(`attribute:${n}:table`,(o,r,s)=>{if(!s.consumable.consume(r.item,o.name))return;const a=s.mapper.toViewElement(r.item),c=Sa(s.writer,a,e);Bn(s.writer,r.attributeNewValue,c)})}}}class UM extends S{static get requires(){return[Qt]}static get pluginName(){return"StyleElementSupport"}init(){const t=this.editor.plugins.get(Qt);t.on("register:style",(e,n)=>{const o=this.editor,r=o.model.schema,s=o.conversion;r.register("htmlStyle",n.modelSchema),r.extend("htmlStyle",{allowAttributes:["htmlAttributes","htmlContent"],isContent:!0}),o.data.registerRawContentMatcher({name:"style"}),s.for("upcast").elementToElement({view:"style",model:bu(n)}),s.for("upcast").add(xr(n,t)),s.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:c})=>Ta("style",a,c)}),s.for("downcast").add(Er(n)),e.stop()})}}class WM extends S{static get requires(){return[Qt]}static get pluginName(){return"DocumentListElementSupport"}init(){const t=this.editor;if(!t.plugins.has("DocumentListEditing"))return;const e=t.model.schema,n=t.conversion,o=t.plugins.get(Qt),r=t.plugins.get("DocumentListEditing");r.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast(s,a,c){Bn(s,a,c)}}),r.registerDowncastStrategy({scope:"list",attributeName:"htmlListAttributes",setAttributeOnDowncast(s,a,c){Bn(s,a,c)}}),o.on("register",(s,a)=>{["ul","ol","li"].includes(a.view)&&(s.stop(),!e.checkAttribute("$block","htmlListAttributes")&&(e.extend("$block",{allowAttributes:["htmlListAttributes","htmlLiAttributes"]}),e.extend("$blockObject",{allowAttributes:["htmlListAttributes","htmlLiAttributes"]}),e.extend("$container",{allowAttributes:["htmlListAttributes","htmlLiAttributes"]}),n.for("upcast").add(c=>{c.on("element:ul",Au("htmlListAttributes",o),{priority:"low"}),c.on("element:ol",Au("htmlListAttributes",o),{priority:"low"}),c.on("element:li",Au("htmlLiAttributes",o),{priority:"low"})})))}),r.on("postFixer",(s,{listNodes:a,writer:c})=>{const l=[];for(const{node:d,previous:u}of a){if(!u)continue;const m=d.getAttribute("listIndent"),b=u.getAttribute("listIndent");let A=null;if(m>b?l[b]=u:m<b?(A=l[m],l.length=m):A=u,!!A){if(A.getAttribute("listType")==d.getAttribute("listType")){const T=A.getAttribute("htmlListAttributes");so(d.getAttribute("htmlListAttributes"),T)||(c.setAttribute("htmlListAttributes",T,d),s.return=!0)}if(A.getAttribute("listItemId")==d.getAttribute("listItemId")){const T=A.getAttribute("htmlLiAttributes");so(d.getAttribute("htmlLiAttributes"),T)||(c.setAttribute("htmlLiAttributes",T,d),s.return=!0)}}}})}afterInit(){const t=this.editor;if(!t.commands.get("indentList"))return;const e=t.commands.get("indentList");this.listenTo(e,"afterExecute",(n,o)=>{t.model.change(r=>{for(const s of o)r.setAttribute("htmlListAttributes",{},s)})})}}function Au(i,t){return(n,o,r)=>{const s=o.viewItem;o.modelRange||Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor));const a=t.processViewAttributes(s,r);for(const c of o.modelRange.getItems({shallow:!0}))c.hasAttribute("listItemId")&&(c.hasAttribute(i)||r.writer.setAttribute(i,a||{},c))}}class GM extends S{static get requires(){return[Qt,Ao]}static get pluginName(){return"CustomElementSupport"}init(){const t=this.editor.plugins.get(Qt),e=this.editor.plugins.get(Ao);t.on("register:$customElement",(n,o)=>{n.stop();const r=this.editor,s=r.model.schema,a=r.conversion,c=r.editing.view.domConverter.unsafeElements,l=r.data.htmlProcessor.domConverter.preElements;s.register(o.model,o.modelSchema),s.extend(o.model,{allowAttributes:["htmlElementName","htmlAttributes","htmlContent"],isContent:!0}),a.for("upcast").elementToElement({view:/.*/,model:(d,u)=>{if(d.name=="$comment"||!qM(d.name)||e.getDefinitionsForView(d.name).size)return null;c.includes(d.name)||c.push(d.name),l.includes(d.name)||l.push(d.name);const m=u.writer.createElement(o.model,{htmlElementName:d.name}),b=t.processViewAttributes(d,u);b&&u.writer.setAttribute("htmlAttributes",b,m);const T=new vi(d.document).createDocumentFragment(d),B=r.data.processor.toData(T);u.writer.setAttribute("htmlContent",B,m);for(const{item:L}of r.editing.view.createRangeIn(d))u.consumable.consume(L,{name:!0});return m},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:o.model,attributes:["htmlElementName","htmlAttributes","htmlContent"]},view:(d,{writer:u})=>{const m=d.getAttribute("htmlElementName"),b=u.createRawElement(m);return d.hasAttribute("htmlAttributes")&&Bn(u,d.getAttribute("htmlAttributes"),b),b}}),a.for("dataDowncast").elementToElement({model:{name:o.model,attributes:["htmlElementName","htmlAttributes","htmlContent"]},view:(d,{writer:u})=>{const m=d.getAttribute("htmlElementName"),b=d.getAttribute("htmlContent"),A=u.createRawElement(m,null,(T,B)=>{B.setContentOf(T,b);const L=T.firstChild;for(L.remove();L.firstChild;)T.appendChild(L.firstChild)});return d.hasAttribute("htmlAttributes")&&Bn(u,d.getAttribute("htmlAttributes"),A),A}})})}}function qM(i){try{document.createElement(i)}catch(t){return!1}return!0}class $M extends S{static get pluginName(){return"GeneralHtmlSupport"}static get requires(){return[Qt,xM,TM,SM,IM,NM,OM,VM,UM,WM,GM]}init(){const t=this.editor,e=t.plugins.get(Qt);e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(t){const e=this.editor.plugins.get("DataSchema"),n=Array.from(e.getDefinitionsForView(t,!1));return n&&n.length&&n[0].isInline&&!n[0].isObject?n[0].model:"htmlAttributes"}addModelHtmlClass(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"classes",c=>{for(const l of Vt(e))c.add(l)})})}removeModelHtmlClass(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"classes",c=>{for(const l of Vt(e))c.delete(l)})})}setModelHtmlAttributes(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"attributes",c=>{for(const[l,d]of Object.entries(e))c.set(l,d)})})}removeModelHtmlAttributes(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"attributes",c=>{for(const l of Vt(e))c.delete(l)})})}setModelHtmlStyles(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"styles",c=>{for(const[l,d]of Object.entries(e))c.set(l,d)})})}removeModelHtmlStyles(t,e,n){const o=this.editor.model,r=this.getGhsAttributeNameForElement(t);o.change(s=>{for(const a of Co(o,n,r))_o(s,a,r,"styles",c=>{for(const l of Vt(e))c.delete(l)})})}}function*Co(i,t,e){if(t.is("documentSelection")&&t.isCollapsed)i.schema.checkAttributeInSelection(t,e)&&(yield t);else for(const n of KM(i,t,e))yield*Gt(n.getItems({shallow:!0}))}function KM(i,t,e){return t.is("node")||t.is("$text")||t.is("$textProxy")?i.schema.checkAttribute(t,e)?[i.createRangeOn(t)]:[]:i.schema.getValidRanges(i.createSelection(t).getRanges(),e)}function _o(i,t,e,n,o){const r=t.getAttribute(e),s={};for(const a of["attributes","styles","classes"]){if(a!=n){r&&r[a]&&(s[a]=r[a]);continue}if(n=="classes"){const l=new Set(r&&r.classes||[]);o(l),l.size&&(s[a]=Array.from(l));continue}const c=new Map(Object.entries(r&&r[a]||{}));o(c),c.size&&(s[a]=Object.fromEntries(c))}Object.keys(s).length?t.is("documentSelection")?i.setSelectionAttribute(e,s):i.setAttribute(e,s,t):r&&(t.is("documentSelection")?i.removeSelectionAttribute(e):i.removeAttribute(e,t))}class YM extends Y{refresh(){const t=this.editor.model,e=t.document,n=Pt(e.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&qk(n,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(o=>{const r=(t.selection||n.selection).getSelectedBlocks();for(const s of r)!s.is("element","paragraph")&&qk(s,e.schema)&&o.rename(s,"paragraph")})}}function qk(i,t){return t.checkChild(i.parent,"paragraph")&&!t.isObject(i)}class ZM extends Y{execute(t){const e=this.editor.model,n=t.attributes;let o=t.position;e.change(r=>{const s=r.createElement("paragraph");if(n&&e.schema.setAllowedAttributes(s,n,r),!e.schema.checkChild(o.parent,s)){const a=e.schema.findAllowedParent(o,s);if(!a)return;o=r.split(o,a).position}e.insertContent(s,o),r.setSelection(s,"in")})}}class Dr extends S{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new YM(t)),t.commands.add("insertParagraph",new ZM(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(n,{writer:o})=>!Dr.paragraphLikeElements.has(n.name)||n.isEmpty?null:o.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}Dr.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);const QM=J.paragraph;class o9 extends null{static get requires(){return[Paragraph]}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("paragraph",n=>{const o=new ButtonView(n),r=t.commands.get("paragraph");return o.label=e("Paragraph"),o.icon=QM,o.tooltip=!0,o.isToggleable=!0,o.bind("isEnabled").to(r),o.bind("isOn").to(r,"value"),o.on("execute",()=>{t.execute("paragraph")}),o})}}class JM extends Y{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Pt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>$k(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,o=t.value;e.change(r=>{const s=Array.from(n.selection.getSelectedBlocks()).filter(a=>$k(a,o,e.schema));for(const a of s)a.is("element",o)||r.rename(a,o)})}}function $k(i,t,e){return e.checkChild(i.parent,t)&&!e.isObject(i)}const Kk="paragraph";class XM extends S{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Dr]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const o of e)o.model!=="paragraph"&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),n.push(o.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new JM(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(o,r)=>{const s=t.model.document.selection.getFirstPosition().parent;n.some(c=>s.is("element",c.model))&&!s.is("element",Kk)&&s.childCount===0&&r.writer.rename(s,Kk)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:we.get("low")+1})}}function tB(i){const t=i.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return i.config.get("heading.options").map(n=>{const o=e[n.title];return o&&o!=n.title&&(n.title=o),n})}var Yk=I(3230),Cu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Cu.insert="head",Cu.singleton=!0;var r9=V()(Yk.Z,Cu);const s9=Yk.Z.locals||{};class eB extends S{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=tB(t),o=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",s=>{const a={},c=new Ft,l=t.commands.get("heading"),d=t.commands.get("paragraph"),u=[l];for(const b of n){const A={type:"button",model:new Tn({label:b.title,class:b.class,withText:!0})};b.model==="paragraph"?(A.model.bind("isOn").to(d,"value"),A.model.set("commandName","paragraph"),u.push(d)):(A.model.bind("isOn").to(l,"value",T=>T===b.model),A.model.set({commandName:"heading",commandValue:b.model})),c.add(A),a[b.model]=b.title}const m=Ht(s);return Dn(m,c),m.buttonView.set({isOn:!1,withText:!0,tooltip:r}),m.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),m.bind("isEnabled").toMany(u,"isEnabled",(...b)=>b.some(A=>A)),m.buttonView.bind("label").to(l,"value",d,"value",(b,A)=>{const T=b||A&&"paragraph";return typeof T=="boolean"||!a[T]?o:a[T]}),this.listenTo(m,"execute",b=>{const{commandName:A,commandValue:T}=b.source;t.execute(A,T?{value:T}:void 0),t.editing.view.focus()}),m})}}class nB extends S{static get requires(){return[XM,eB]}static get pluginName(){return"Heading"}}class iB extends Y{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,o=e.document.selection,r=t.value;e.change(s=>{if(o.isCollapsed){const a=o.getFirstPosition();if(o.hasAttribute("highlight")){const c=m=>m.item.hasAttribute("highlight")&&m.item.getAttribute("highlight")===this.value,l=a.getLastMatchingPosition(c,{direction:"backward"}),d=a.getLastMatchingPosition(c),u=s.createRange(l,d);!r||this.value===r?(a.isEqual(d)||s.removeAttribute("highlight",u),s.removeSelectionAttribute("highlight")):(a.isEqual(d)||s.setAttribute("highlight",r,u),s.setSelectionAttribute("highlight",r))}else r&&s.setSelectionAttribute("highlight",r)}else{const a=e.schema.getValidRanges(o.getRanges(),"highlight");for(const c of a)r?s.setAttribute("highlight",r,c):s.removeAttribute("highlight",c)}})}}class oB extends S{static get pluginName(){return"HighlightEditing"}constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(rB(e)),t.commands.add("highlight",new iB(t))}}function rB(i){const t={model:{key:"highlight",values:[]},view:{}};for(const e of i)t.model.values.push(e.model),t.view[e.model]={name:"mark",classes:e.class};return t}const sB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',aB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';var Zk=I(713),_u={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_u.insert="head",_u.singleton=!0;var a9=V()(Zk.Z,_u);const c9=Zk.Z.locals||{};class cB extends S{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t)}_addRemoveHighlightButton(){const t=this.editor.t,e=this.editor.commands.get("highlight");this._addButton("removeHighlight",t("Remove highlight"),J.eraser,null,n=>{n.bind("isEnabled").to(e,"isEnabled")})}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,Qk(t.type),t.model,n);function n(o){o.bind("isEnabled").to(e,"isEnabled"),o.bind("isOn").to(e,"value",r=>r===t.model),o.iconView.fillColor=t.color,o.isToggleable=!0}}_addButton(t,e,n,o,r){const s=this.editor;s.ui.componentFactory.add(t,a=>{const c=new Q(a),l=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return c.set({label:l,icon:n,tooltip:!0}),c.on("execute",()=>{s.execute("highlight",{value:o}),s.editing.view.focus()}),r(c),c})}_addDropdown(t){const e=this.editor,n=e.t,o=e.ui.componentFactory,r=t[0],s=t.reduce((a,c)=>(a[c.model]=c,a),{});o.add("highlight",a=>{const c=e.commands.get("highlight"),l=Ht(a,eo),d=l.buttonView;d.set({label:n("Highlight"),tooltip:!0,lastExecuted:r.model,commandValue:r.model,isToggleable:!0}),d.bind("icon").to(c,"value",b=>Qk(m(b,"type"))),d.bind("color").to(c,"value",b=>m(b,"color")),d.bind("commandValue").to(c,"value",b=>m(b,"model")),d.bind("isOn").to(c,"value",b=>!!b),d.delegate("execute").to(l);const u=()=>{const b=t.map(A=>{const T=o.create("highlight:"+A.model);return this.listenTo(T,"execute",()=>{l.buttonView.set({lastExecuted:A.model})}),T});return b.push(new Pl),b.push(o.create("removeHighlight")),b};l.bind("isEnabled").to(c,"isEnabled"),Ar(l,u,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:n("Text highlight toolbar")}),lB(l),d.on("execute",()=>{e.execute("highlight",{value:d.commandValue})}),this.listenTo(l,"execute",()=>{e.editing.view.focus()});function m(b,A){const T=!b||b===d.lastExecuted?d.lastExecuted:b;return s[T][A]}return l})}}function lB(i){i.buttonView.actionView.iconView.bind("fillColor").to(i.buttonView,"color")}function Qk(i){return i==="marker"?sB:aB}class dB extends S{static get requires(){return[oB,cB]}static get pluginName(){return"Highlight"}}class uB extends Y{refresh(){const t=this.editor.model,e=t.schema,n=t.document.selection;this.isEnabled=hB(n,e,t)}execute(){const t=this.editor.model;t.change(e=>{const n=e.createElement("horizontalLine");t.insertObject(n,null,null,{setSelection:"after"})})}}function hB(i,t,e){const n=mB(i,e);return t.checkChild(n,"horizontalLine")}function mB(i,t){const n=ou(i,t).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}var Jk=I(2536),vu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vu.insert="head",vu.singleton=!0;var l9=V()(Jk.Z,vu);const d9=Jk.Z.locals||{};class gB extends S{static get pluginName(){return"HorizontalLineEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),o.for("dataDowncast").elementToElement({model:"horizontalLine",view:(r,{writer:s})=>s.createEmptyElement("hr")}),o.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(r,{writer:s})=>{const a=n("Horizontal line"),c=s.createContainerElement("div",null,s.createEmptyElement("hr"));return s.addClass("ck-horizontal-line",c),s.setCustomProperty("hr",!0,c),fB(c,s,a)}}),o.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new uB(t))}}function fB(i,t,e){return t.setCustomProperty("horizontalLine",!0,i),yr(i,t,{label:e})}const pB='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';class bB extends S{static get pluginName(){return"HorizontalLineUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("horizontalLine",n=>{const o=t.commands.get("horizontalLine"),r=new Q(n);return r.set({label:e("Horizontal line"),icon:pB,tooltip:!0}),r.bind("isEnabled").to(o,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("horizontalLine"),t.editing.view.focus()}),r})}}class kB extends S{static get requires(){return[gB,bB,Ei]}static get pluginName(){return"HorizontalLine"}}class wB extends Y{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),o=e.model,r=n.getClosestSelectedImageElement(o.document.selection);o.change(s=>{s.setAttribute("alt",t.newValue,r)})}}function AB(i){return i.createContainerElement("span",{class:"image-inline"},i.createEmptyElement("img"))}function Xk(i){return i.createContainerElement("figure",{class:"image"},[i.createEmptyElement("img"),i.createSlot("children")])}function tw(i,t){const e=i.plugins.get("ImageUtils"),n=i.plugins.has("ImageInlineEditing")&&i.plugins.has("ImageBlockEditing");return r=>e.isInlineImageView(r)?n&&(r.getStyle("display")=="block"||r.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:o(r):null;function o(r){const s={name:!0};return r.hasAttribute("src")&&(s.attributes=["src"]),s}}function yu(i,t){const e=Pt(t.getSelectedBlocks());return!e||i.isObject(e)||e.isEmpty&&e.name!="listItem"?"imageBlock":"imageInline"}class on extends S{static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null){const o=this.editor,r=o.model,s=r.document.selection;n=ew(o,e||s,n),t=U(U({},Object.fromEntries(s.getAttributes())),t);for(const a in t)r.schema.checkAttribute(n,a)||delete t[a];return r.change(a=>{const c=a.createElement(n,t);return r.insertObject(c,e,null,{setSelection:"on",findOptimalPosition:!e&&n!="imageInline"?"auto":void 0}),c.parent?c:null})}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let o=e.parent;for(;o;){if(o.is("element")&&this.isImageWidget(o))return o;o=o.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return CB(this.editor,e)&&_B(e)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),yr(t,e,{label:()=>{const s=this.findViewImgElement(t).getAttribute("alt");return s?`${s} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Ut(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}}function CB(i,t){if(ew(i,t,null)=="imageBlock"){const n=vB(t,i.model);if(i.model.schema.checkChild(n,"imageBlock"))return!0}else if(i.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}function _B(i){return[...i.focus.getAncestors()].every(t=>!t.is("element","imageBlock"))}function vB(i,t){const n=ou(i,t).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function ew(i,t,e){const n=i.model.schema,o=i.config.get("image.insert.type");return i.plugins.has("ImageBlockEditing")?i.plugins.has("ImageInlineEditing")?e||(o==="inline"?"imageInline":o==="block"?"imageBlock":t.is("selection")?yu(n,t):n.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class yB extends S{static get requires(){return[on]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new wB(this.editor))}}var nw=I(6831),xu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xu.insert="head",xu.singleton=!0;var u9=V()(nw.Z,xu);const h9=nw.Z.locals||{};class xB extends q{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new zt,this.keystrokes=new jt,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),J.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),J.cancel,"ck-button-cancel","cancel"),this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,o){const r=new Q(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),o&&r.delegate("execute").to(this,o),r}_createLabeledInputView(){const t=this.locale.t,e=new ne(this.locale,We);return e.label=t("Text alternative"),e}}function EB(i){const t=i.plugins.get("ContextualBalloon");if(i.plugins.get("ImageUtils").getClosestSelectedImageWidget(i.editing.view.document.selection)){const n=iw(i);t.updatePosition(n)}}function iw(i){const t=i.editing.view,e=ke.defaultPositions,n=i.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class DB extends S{static get requires(){return[fn]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const o=t.commands.get("imageTextAlternative"),r=new Q(n);return r.set({label:e("Change image text alternative"),icon:J.lowVision,tooltip:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",s=>!!s),this.listenTo(r,"execute",()=>{this._showForm()}),r})}_createForm(){const t=this.editor,n=t.editing.view.document,o=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(k(xB))(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(r,s)=>{this._hideForm(!0),s()}),this.listenTo(t.ui,"update",()=>{o.getClosestSelectedImageWidget(n.selection)?this._isVisible&&EB(t):this._hideForm(!0)}),w({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:iw(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class ow extends S{static get requires(){return[yB,DB]}static get pluginName(){return"ImageTextAlternative"}}function TB(i){const t=(e,n,o)=>{if(!o.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const r=i.findViewImgElement(n.viewItem);if(!r||!o.consumable.test(r,{name:!0}))return;o.consumable.consume(n.viewItem,{name:!0,classes:"image"});const s=o.convertItem(r,n.modelCursor),a=Pt(s.modelRange.getItems());if(!a){o.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}o.convertChildren(n.viewItem,a),o.updateConversionResult(a,n)};return e=>{e.on("element:figure",t)}}function m9(i){const t=["srcset","media","type","sizes"],e=(n,o,r)=>{const s=o.viewItem;if(!r.consumable.test(s,{name:!0}))return;const a=new Map;for(const d of s.getChildren())if(d.is("element","source")){const u={};for(const m of t)d.hasAttribute(m)&&r.consumable.test(d,{attributes:m})&&(u[m]=d.getAttribute(m));Object.keys(u).length&&a.set(d,u)}const c=i.findViewImgElement(s);if(!c)return;let l=o.modelCursor.parent;if(!l.is("element","imageBlock")){const d=r.convertItem(c,o.modelCursor);o.modelRange=d.modelRange,o.modelCursor=d.modelCursor,l=first(d.modelRange.getItems())}r.consumable.consume(s,{name:!0});for(const[d,u]of a)r.consumable.consume(d,{attributes:Object.keys(u)});a.size&&r.writer.setAttribute("sources",Array.from(a.values()),l),r.convertChildren(s,l)};return n=>{n.on("element:picture",e)}}function rw(i,t){const e=(n,o,r)=>{if(!r.consumable.consume(o.item,n.name))return;const s=r.writer,a=r.mapper.toViewElement(o.item),c=i.findViewImgElement(a);if(o.attributeNewValue===null){const l=o.attributeOldValue;l&&l.data&&(s.removeAttribute("srcset",c),s.removeAttribute("sizes",c),l.width&&s.removeAttribute("width",c))}else{const l=o.attributeNewValue;l&&l.data&&(s.setAttribute("srcset",l.data,c),s.setAttribute("sizes","100vw",c),l.width&&s.setAttribute("width",l.width,c))}};return n=>{n.on(`attribute:srcset:${t}`,e)}}function g9(i){const t=(e,n,o)=>{if(!o.consumable.consume(n.item,e.name))return;const r=o.writer,s=o.mapper.toViewElement(n.item),a=i.findViewImgElement(s),c=n.attributeNewValue;if(c&&c.length){const l=r.createContainerElement("picture",null,c.map(m=>r.createEmptyElement("source",m))),d=[];let u=a.parent;for(;u&&u.is("attributeElement");){const m=u.parent;r.unwrap(r.createRangeOn(a),u),d.unshift(u),u=m}r.insert(r.createPositionBefore(a),l),r.move(r.createRangeOn(a),r.createPositionAt(l,"end"));for(const m of d)r.wrap(r.createRangeOn(l),m)}else if(a.parent.is("element","picture")){const l=a.parent;r.move(r.createRangeOn(a),r.createPositionBefore(l)),r.remove(l)}};return e=>{e.on("attribute:sources:imageBlock",t),e.on("attribute:sources:imageInline",t)}}function Ia(i,t,e){const n=(o,r,s)=>{if(!s.consumable.consume(r.item,o.name))return;const a=s.writer,c=s.mapper.toViewElement(r.item),l=i.findViewImgElement(c);a.setAttribute(r.attributeKey,r.attributeNewValue||"",l)};return o=>{o.on(`attribute:${e}:${t}`,n)}}class sw extends hn{observe(t){this.listenTo(t,"load",(e,n)=>{const o=n.target;this.checkShouldIgnoreEventFromTarget(o)||o.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(t){this.stopListening(t)}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class SB extends Y{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||e==="block"&&_t("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||e==="inline"&&_t("image-inline-plugin-required")}refresh(){const t=this.editor.plugins.get("ImageUtils");this.isEnabled=t.isImageAllowed()}execute(t){const e=Vt(t.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());e.forEach((s,a)=>{const c=n.getSelectedElement();if(typeof s=="string"&&(s={src:s}),a&&c&&o.isImage(c)){const l=this.editor.model.createPositionAfter(c);o.insertImage(U(U({},s),r),l)}else o.insertImage(U(U({},s),r))})}}class IB extends Y{refresh(){const e=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",t.source,e),n.removeAttribute("srcset",e),n.removeAttribute("sizes",e)})}}class aw extends S{static get requires(){return[on]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(sw),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:r=>{const s={data:r.getAttribute("srcset")};return r.hasAttribute("width")&&(s.width=r.getAttribute("width")),s}}});const n=new SB(t),o=new IB(t);t.commands.add("insertImage",n),t.commands.add("replaceImageSource",o),t.commands.add("imageInsert",n)}}class cw extends Y{constructor(t,e){super(t),this._modelElementName=e}refresh(){const e=this.editor.plugins.get("ImageUtils"),n=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(n):this.isEnabled=e.isBlockImage(n)}execute(){const t=this.editor,e=this.editor.model,n=t.plugins.get("ImageUtils"),o=n.getClosestSelectedImageElement(e.document.selection),r=Object.fromEntries(o.getAttributes());return!r.src&&!r.uploadId?null:e.change(s=>{const a=Array.from(e.markers).filter(d=>d.getRange().containsItem(o)),c=n.insertImage(r,e.createSelection(o,"on"),this._modelElementName);if(!c)return null;const l=s.createRangeOn(c);for(const d of a){const u=d.getRange(),m=u.root.rootName!="$graveyard"?u.getJoined(l,!0):l;s.updateMarker(d,{range:m})}return{oldElement:o,newElement:c}})}}class lw extends S{static get requires(){return[aw,on,pn]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new cw(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:s})=>Xk(s)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(r,{writer:s})=>o.toImageWidget(Xk(s),s,e("image widget"))}),n.for("downcast").add(Ia(o,"imageBlock","src")).add(Ia(o,"imageBlock","alt")).add(rw(o,"imageBlock")),n.for("upcast").elementToElement({view:tw(t,"imageBlock"),model:(r,{writer:s})=>s.createElement("imageBlock",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)}).add(TB(o))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(s,a)=>{const c=Array.from(a.content.getChildren());let l;if(!c.every(o.isInlineImageView))return;a.targetRanges?l=t.editing.mapper.toModelRange(a.targetRanges[0]):l=e.document.selection.getFirstRange();const d=e.createSelection(l);if(yu(e.schema,d)==="imageBlock"){const u=new vi(n.document),m=c.map(b=>u.createElement("figure",{class:"image"},b));a.content=u.createDocumentFragment(m)}})}}var dw=I(9048),Eu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Eu.insert="head",Eu.singleton=!0;var f9=V()(dw.Z,Eu);const p9=dw.Z.locals||{};class MB extends S{static get requires(){return[lw,Ei,ow]}static get pluginName(){return"ImageBlock"}}class BB extends S{static get requires(){return[aw,on,pn]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,e=t.model.schema;e.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),e.addChildCheck((n,o)=>{if(n.endsWith("caption")&&o.name==="imageInline")return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new cw(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(r,{writer:s})=>s.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(r,{writer:s})=>o.toImageWidget(AB(s),s,e("image widget"))}),n.for("downcast").add(Ia(o,"imageInline","src")).add(Ia(o,"imageInline","alt")).add(rw(o,"imageInline")),n.for("upcast").elementToElement({view:tw(t,"imageInline"),model:(r,{writer:s})=>s.createElement("imageInline",r.hasAttribute("src")?{src:r.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils"),r=t.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",(s,a)=>{const c=Array.from(a.content.getChildren());let l;if(!c.every(o.isBlockImageView))return;a.targetRanges?l=t.editing.mapper.toModelRange(a.targetRanges[0]):l=e.document.selection.getFirstRange();const d=e.createSelection(l);if(yu(e.schema,d)==="imageInline"){const u=new vi(n.document),m=c.map(b=>b.childCount===1?(Array.from(b.getAttributes()).forEach(A=>u.setAttribute(...A,o.findViewImgElement(b))),b.getChild(0)):b);a.content=u.createDocumentFragment(m)}})}}class zB extends S{static get requires(){return[BB,Ei,ow]}static get pluginName(){return"ImageInline"}}class NB extends S{static get requires(){return[MB,zB]}static get pluginName(){return"Image"}}class LB extends Y{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils"),n=t.plugins.get("ImageUtils");if(!t.plugins.has(lw)){this.isEnabled=!1,this.value=!1;return}const o=t.model.document.selection,r=o.getSelectedElement();if(!r){const s=e.getCaptionFromModelSelection(o);this.isEnabled=!!s,this.value=!!s;return}this.isEnabled=n.isImage(r),this.isEnabled?this.value=!!e.getCaptionFromImageModelElement(r):this.value=!1}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,e)})}_showImageCaption(t,e){const o=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),s=this.editor.plugins.get("ImageUtils");let a=o.getSelectedElement();const c=r._getSavedCaption(a);s.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=o.getSelectedElement());const l=c||t.createElement("caption");t.append(l,a),e&&t.setSelection(l,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,o=e.plugins.get("ImageCaptionEditing"),r=e.plugins.get("ImageCaptionUtils");let s=n.getSelectedElement(),a;s?a=r.getCaptionFromImageModelElement(s):(a=r.getCaptionFromModelSelection(n),s=a.parent),o._saveCaption(s,a),t.setSelection(s,"on"),t.remove(a)}}class uw extends S{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[on]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return t.name=="figcaption"&&e.isBlockImageView(t.parent)?{name:!0}:null}}class PB extends S{static get requires(){return[on,uw]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new LB(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils"),r=t.t;t.conversion.for("upcast").elementToElement({view:s=>o.matchImageCaptionViewElement(s),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>n.isBlockImage(s.parent)?a.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>{if(!n.isBlockImage(s.parent))return null;const c=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,c),Ol({view:e,element:c,text:r("Enter image caption"),keepOnFocus:!0});const l=s.parent.getAttribute("alt"),d=l?r("Caption for image: %0",[l]):r("Caption for the image");return iu(c,a,{label:d})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),o=t.commands.get("imageTypeInline"),r=t.commands.get("imageTypeBlock"),s=a=>{if(!a.return)return;const{oldElement:c,newElement:l}=a.return;if(!c)return;if(e.isBlockImage(c)){const u=n.getCaptionFromImageModelElement(c);if(u){this._saveCaption(l,u);return}}const d=this._getSavedCaption(c);d&&this._saveCaption(l,d)};o&&this.listenTo(o,"execute",s,{priority:"low"}),r&&this.listenTo(r,"execute",s,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?wt.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",()=>{const r=e.document.differ.getChanges();for(const s of r){if(s.attributeKey!=="alt")continue;const a=s.range.start.nodeAfter;if(n.isBlockImage(a)){const c=o.getCaptionFromImageModelElement(a);if(!c)return;t.editing.reconvertItem(c)}}})}}class RB extends S{static get requires(){return[uw]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),o=t.t;t.ui.componentFactory.add("toggleImageCaption",r=>{const s=t.commands.get("toggleImageCaption"),a=new Q(r);return a.set({icon:J.caption,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(s,"value","isEnabled"),a.bind("label").to(s,"value",c=>o(c?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const c=n.getCaptionFromModelSelection(t.model.document.selection);if(c){const l=t.editing.mapper.toViewElement(c);e.scrollToTheSelection(),e.change(d=>{d.addClass("image__caption_highlighted",l)})}t.editing.view.focus()}),a})}}var hw=I(8662),Du={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Du.insert="head",Du.singleton=!0;var b9=V()(hw.Z,Du);const k9=hw.Z.locals||{};class OB extends S{static get requires(){return[PB,RB]}static get pluginName(){return"ImageCaption"}}function mw(i){const t=i.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function VB(i){return new Promise((t,e)=>{const n=i.getAttribute("src");fetch(n).then(o=>o.blob()).then(o=>{const r=gw(o,n),a=`image.${r.replace("image/","")}`,c=new File([o],a,{type:r});t(c)}).catch(o=>o&&o.name==="TypeError"?jB(n).then(t).catch(e):e(o))})}function FB(i,t){return!i.isInlineImageView(t)||!t.getAttribute("src")?!1:!!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!t.getAttribute("src").match(/^blob:/g)}function gw(i,t){return i.type?i.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function jB(i){return HB(i).then(t=>{const e=gw(t,i),o=`image.${e.replace("image/","")}`;return new File([t],o,{type:e})})}function HB(i){return new Promise((t,e)=>{const n=rt.document.createElement("img");n.addEventListener("load",()=>{const o=rt.document.createElement("canvas");o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0),o.toBlob(s=>s?t(s):e())}),n.addEventListener("error",()=>e()),n.src=i})}class UB extends S{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,e=t.t,n=o=>{const r=new BS(o),s=t.commands.get("uploadImage"),a=t.config.get("image.upload.types"),c=mw(a);return r.set({acceptedType:a.map(l=>`image/${l}`).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:e("Insert image"),icon:J.image,tooltip:!0}),r.buttonView.bind("isEnabled").to(s),r.on("done",(l,d)=>{const u=Array.from(d).filter(m=>c.test(m.type));u.length&&(t.execute("uploadImage",{file:u}),t.editing.view.focus())}),r};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}var fw=I(5870),Tu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tu.insert="head",Tu.singleton=!0;var w9=V()(fw.Z,Tu);const A9=fw.Z.locals||{};var pw=I(9899),Su={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Su.insert="head",Su.singleton=!0;var C9=V()(pw.Z,Su);const _9=pw.Z.locals||{};var bw=I(9825),Iu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Iu.insert="head",Iu.singleton=!0;var v9=V()(bw.Z,Iu);const y9=bw.Z.locals||{};class WB extends S{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.uploadStatusChange=(e,n,o)=>{const r=this.editor,s=n.item,a=s.getAttribute("uploadId");if(!o.consumable.consume(n.item,e.name))return;const c=r.plugins.get("ImageUtils"),l=r.plugins.get(yi),d=a?n.attributeNewValue:null,u=this.placeholder,m=r.editing.mapper.toViewElement(s),b=o.writer;if(d=="reading"){kw(m,b),ww(c,u,m,b);return}if(d=="uploading"){const A=l.loaders.get(a);kw(m,b),A?(Aw(m,b),qB(m,b,A,r.editing.view),QB(c,m,b,A)):ww(c,u,m,b);return}d=="complete"&&l.loaders.get(a)&&KB(m,b,r.editing.view),$B(m,b),Aw(m,b),GB(m,b)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function kw(i,t){i.hasClass("ck-appear")||t.addClass("ck-appear",i)}function GB(i,t){t.removeClass("ck-appear",i)}function ww(i,t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const o=i.findViewImgElement(e);o.getAttribute("src")!==t&&n.setAttribute("src",t,o),Cw(e,"placeholder")||n.insert(n.createPositionAfter(o),ZB(n))}function Aw(i,t){i.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",i),_w(i,t,"placeholder")}function qB(i,t,e,n){const o=YB(t);t.insert(t.createPositionAt(i,"end"),o),e.on("change:uploadedPercent",(r,s,a)=>{n.change(c=>{c.setStyle("width",a+"%",o)})})}function $B(i,t){_w(i,t,"progressBar")}function KB(i,t,e){const n=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(i,"end"),n),setTimeout(()=>{e.change(o=>o.remove(o.createRangeOn(n)))},3e3)}function YB(i){const t=i.createUIElement("div",{class:"ck-progress-bar"});return i.setCustomProperty("progressBar",!0,t),t}function ZB(i){const t=i.createUIElement("div",{class:"ck-upload-placeholder-loader"});return i.setCustomProperty("placeholder",!0,t),t}function Cw(i,t){for(const e of i.getChildren())if(e.getCustomProperty(t))return e}function _w(i,t,e){const n=Cw(i,e);n&&t.remove(t.createRangeOn(n))}function QB(i,t,e,n){if(n.data){const o=i.findViewImgElement(t);e.setAttribute("src",n.data,o)}}class JB extends Y{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=Vt(t.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),r=Object.fromEntries(n.getAttributes());e.forEach((s,a)=>{const c=n.getSelectedElement();if(a&&c&&o.isImage(c)){const l=this.editor.model.createPositionAfter(c);this._uploadImage(s,r,l)}else this._uploadImage(s,r)})}_uploadImage(t,e,n){const o=this.editor,s=o.plugins.get(yi).createLoader(t),a=o.plugins.get("ImageUtils");s&&a.insertImage(ie(U({},e),{uploadId:s.id}),n)}}class XB extends S{static get requires(){return[yi,hb,pn,on]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,o=t.plugins.get(yi),r=t.plugins.get("ImageUtils"),s=t.plugins.get("ClipboardPipeline"),a=mw(t.config.get("image.upload.types")),c=new JB(t);t.commands.add("uploadImage",c),t.commands.add("imageUpload",c),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(l,d)=>{if(t6(d.dataTransfer))return;const u=Array.from(d.dataTransfer.files).filter(m=>m?a.test(m.type):!1);u.length&&(l.stop(),t.model.change(m=>{d.targetRanges&&m.setSelection(d.targetRanges.map(b=>t.editing.mapper.toModelRange(b))),t.model.enqueueChange(()=>{t.execute("uploadImage",{file:u})})}))}),this.listenTo(s,"inputTransformation",(l,d)=>{const u=Array.from(t.editing.view.createRangeIn(d.content)).map(b=>b.item).filter(b=>FB(r,b)&&!b.getAttribute("uploadProcessed")).map(b=>({promise:VB(b),imageElement:b}));if(!u.length)return;const m=new vi(t.editing.view.document);for(const b of u){m.setAttribute("uploadProcessed",!0,b.imageElement);const A=o.createLoader(b.promise);A&&(m.setAttribute("src","",b.imageElement),m.setAttribute("uploadId",A.id,b.imageElement))}}),t.editing.view.document.on("dragover",(l,d)=>{d.preventDefault()}),e.on("change",()=>{const l=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),d=new Set;for(const u of l)if(u.type=="insert"&&u.name!="$text"){const m=u.position.nodeAfter,b=u.position.root.rootName=="$graveyard";for(const A of e6(t,m)){const T=A.getAttribute("uploadId");if(!T)continue;const B=o.loaders.get(T);B&&(b?d.has(T)||B.abort():(d.add(T),this._uploadImageElements.set(T,A),B.status=="idle"&&this._readAndUpload(B)))}}}),this.on("uploadComplete",(l,{imageElement:d,data:u})=>{const m=u.urls?u.urls:u;this.editor.model.change(b=>{b.setAttribute("src",m.default,d),this._parseAndSetSrcsetAttributeOnImage(m,d,b)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,o=e.locale.t,r=e.plugins.get(yi),s=e.plugins.get(hb),a=e.plugins.get("ImageUtils"),c=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},d=>{d.setAttribute("uploadStatus","reading",c.get(t.id))}),t.read().then(()=>{const d=t.upload(),u=c.get(t.id);if(p.isSafari){const m=e.editing.mapper.toViewElement(u),b=a.findViewImgElement(m);e.editing.view.once("render",()=>{if(!b.parent)return;const A=e.editing.view.domConverter.mapViewToDom(b.parent);if(!A)return;const T=A.style.display;A.style.display="none",A._ckHack=A.offsetHeight,A.style.display=T})}return n.enqueueChange({isUndoable:!1},m=>{m.setAttribute("uploadStatus","uploading",u)}),d}).then(d=>{n.enqueueChange({isUndoable:!1},u=>{const m=c.get(t.id);u.setAttribute("uploadStatus","complete",m),this.fire("uploadComplete",{data:d,imageElement:m})}),l()}).catch(d=>{if(t.status!=="error"&&t.status!=="aborted")throw d;t.status=="error"&&d&&s.showWarning(d,{title:o("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},u=>{u.remove(c.get(t.id))}),l()});function l(){n.enqueueChange({isUndoable:!1},d=>{const u=c.get(t.id);d.removeAttribute("uploadId",u),d.removeAttribute("uploadStatus",u),c.delete(t.id)}),r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let o=0;const r=Object.keys(t).filter(s=>{const a=parseInt(s,10);if(!isNaN(a))return o=Math.max(o,a),!0}).map(s=>`${t[s]} ${s}w`).join(", ");r!=""&&n.setAttribute("srcset",{data:r,width:o},e)}}function t6(i){return Array.from(i.types).includes("text/html")&&i.getData("text/html")!==""}function e6(i,t){const e=i.plugins.get("ImageUtils");return Array.from(i.model.createRangeOn(t)).filter(n=>e.isImage(n.item)).map(n=>n.item)}class vw extends S{static get pluginName(){return"ImageUpload"}static get requires(){return[XB,UB,WB]}}var yw=I(5150),Mu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mu.insert="head",Mu.singleton=!0;var x9=V()(yw.Z,Mu);const E9=yw.Z.locals||{};class n6 extends q{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("class",e.class||null),this.children=this.createCollection(),e.children&&e.children.forEach(o=>this.children.add(o)),this.set("_role",null),this.set("_ariaLabelledBy",null),e.labelView&&this.set({_role:"group",_ariaLabelledBy:e.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}var xw=I(9292),Bu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bu.insert="head",Bu.singleton=!0;var D9=V()(xw.Z,Bu);const T9=xw.Z.locals||{};class i6 extends q{constructor(t,e={}){super(t);const{insertButtonView:n,cancelButtonView:o}=this._createActionButtons(t);this.insertButtonView=n,this.cancelButtonView=o,this.set("imageURLInputValue",""),this.focusTracker=new zt,this.keystrokes=new jt,this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new Ft);for(const[r,s]of Object.entries(e))r==="insertImageViaUrl"&&(s.fieldView.bind("value").to(this,"imageURLInputValue",a=>a||""),s.fieldView.on("input",()=>{this.imageURLInputValue=s.fieldView.element.value.trim()})),s.name=r,this._integrations.add(s);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new n6(t,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),h({view:this});const t=[...this._integrations,this.insertButtonView,this.cancelButtonView];t.forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const e=n=>n.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(t[0].element,"selectstart",(n,o)=>{o.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(t){return this._integrations.find(e=>e.name===t)}_createActionButtons(t){const e=t.t,n=new Q(t),o=new Q(t);return n.set({label:e("Insert"),icon:J.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),o.set({label:e("Cancel"),icon:J.cancel,class:"ck-button-cancel",withText:!0}),n.bind("isEnabled").to(this,"imageURLInputValue",r=>!!r),n.delegate("execute").to(this,"submit"),o.delegate("execute").to(this,"cancel"),{insertButtonView:n,cancelButtonView:o}}focus(){this._focusCycler.focusFirst()}}function o6(i){const t=i.config.get("image.insert.integrations"),e=i.plugins.get("ImageInsertUI"),n={insertImageViaUrl:r6(i.locale)};if(!t)return n;if(t.find(o=>o==="openCKFinder")&&i.ui.componentFactory.has("ckfinder")){const o=i.ui.componentFactory.create("ckfinder");o.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),o.delegate("execute").to(e,"cancel"),n.openCKFinder=o}return t.reduce((o,r)=>(n[r]?o[r]=n[r]:i.ui.componentFactory.has(r)&&(o[r]=i.ui.componentFactory.create(r)),o),{})}function r6(i){const t=i.t,e=new ne(i,We);return e.set({label:t("Insert image via URL")}),e.fieldView.placeholder="https://example.com/image.png",e}class Ew extends S{static get pluginName(){return"ImageInsertUI"}init(){const t=this.editor,e=n=>this._createDropdownView(n);t.ui.componentFactory.add("insertImage",e),t.ui.componentFactory.add("imageInsert",e)}_createDropdownView(t){const e=this.editor,n=t.t,o=e.commands.get("uploadImage"),r=e.commands.get("insertImage");this.dropdownView=Ht(t,o?eo:void 0);const s=this.dropdownView.buttonView,a=this.dropdownView.panelView;if(s.set({label:n("Insert image"),icon:J.image,tooltip:!0}),a.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),o){const c=this.dropdownView.buttonView;c.actionView=e.ui.componentFactory.create("uploadImage"),c.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(o||r)}_setUpDropdown(t){const e=this.editor,n=e.t,o=this.dropdownView,r=o.panelView,s=this.editor.plugins.get("ImageUtils"),a=e.commands.get("replaceImageSource");let c;o.bind("isEnabled").to(t),o.once("change:isOpen",()=>{c=new i6(e.locale,o6(e)),c.delegate("submit","cancel").to(o),r.children.add(c)}),o.on("change:isOpen",()=>{const u=e.model.document.selection.getSelectedElement(),m=c.insertButtonView,b=c.getIntegration("insertImageViaUrl");o.isOpen&&(s.isImage(u)?(c.imageURLInputValue=a.value,m.label=n("Update"),b.label=n("Update image URL")):(c.imageURLInputValue="",m.label=n("Insert"),b.label=n("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(o),o.on("submit",()=>{d(),l()}),o.on("cancel",()=>{d()});function l(){const u=e.model.document.selection.getSelectedElement();s.isImage(u)?e.execute("replaceImageSource",{source:c.imageURLInputValue}):e.execute("insertImage",{source:c.imageURLInputValue})}function d(){e.editing.view.focus(),o.isOpen=!1}return o}}class s6 extends S{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[Ew]}}class a6 extends S{static get pluginName(){return"ImageInsert"}static get requires(){return[vw,s6,Ew]}}class c6 extends Y{refresh(){const t=this.editor,n=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!n,!n||!n.hasAttribute("width")?this.value=null:this.value={width:n.getAttribute("width"),height:null}}execute(t){const e=this.editor,n=e.model,r=e.plugins.get("ImageUtils").getClosestSelectedImageElement(n.document.selection);this.value={width:t.width,height:null},r&&n.change(s=>{s.setAttribute("width",t.width,r)})}}class Dw extends S{static get requires(){return[on]}static get pluginName(){return"ImageResizeEditing"}constructor(t){super(t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const t=this.editor,e=new c6(t);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(t){const e=this.editor;e.conversion.for("downcast").add(n=>n.on(`attribute:width:${t}`,(o,r,s)=>{if(!s.consumable.consume(r.item,o.name))return;const a=s.writer,c=s.mapper.toViewElement(r.item);r.attributeNewValue!==null?(a.setStyle("width",r.attributeNewValue,c),a.addClass("image_resized",c)):(a.removeStyle("width",c),a.removeClass("image_resized",c))})),e.conversion.for("upcast").attributeToAttribute({view:{name:t==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:n=>n.getStyle("width")}})}}const zu={small:J.objectSizeSmall,medium:J.objectSizeMedium,large:J.objectSizeLarge,original:J.objectSizeFull};class l6 extends S{static get requires(){return[Dw]}static get pluginName(){return"ImageResizeButtons"}constructor(t){super(t),this._resizeUnit=t.config.get("image.resizeUnit")}init(){const t=this.editor,e=t.config.get("image.resizeOptions"),n=t.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const o of e)this._registerImageResizeButton(o);this._registerImageResizeDropdown(e)}_registerImageResizeButton(t){const e=this.editor,{name:n,value:o,icon:r}=t,s=o?o+this._resizeUnit:null;e.ui.componentFactory.add(n,a=>{const c=new Q(a),l=e.commands.get("resizeImage"),d=this._getOptionLabelValue(t,!0);if(!zu[r])throw new v("imageresizebuttons-missing-icon",e,t);return c.set({label:d,icon:zu[r],tooltip:d,isToggleable:!0}),c.bind("isEnabled").to(this),c.bind("isOn").to(l,"value",Tw(s)),this.listenTo(c,"execute",()=>{e.execute("resizeImage",{width:s})}),c})}_registerImageResizeDropdown(t){const e=this.editor,n=e.t,o=t.find(s=>!s.value),r=s=>{const a=e.commands.get("resizeImage"),c=Ht(s,Ng),l=c.buttonView;return l.set({tooltip:n("Resize image"),commandValue:o.value,icon:zu.medium,isToggleable:!0,label:this._getOptionLabelValue(o),withText:!0,class:"ck-resize-image-button"}),l.bind("label").to(a,"value",d=>d&&d.width?d.width:this._getOptionLabelValue(o)),c.bind("isEnabled").to(this),Dn(c,()=>this._getResizeDropdownListItemDefinitions(t,a),{ariaLabel:n("Image resize list")}),this.listenTo(c,"execute",d=>{e.execute(d.source.commandName,{width:d.source.commandValue}),e.editing.view.focus()}),c};e.ui.componentFactory.add("resizeImage",r),e.ui.componentFactory.add("imageResize",r)}_getOptionLabelValue(t,e=!1){const n=this.editor.t;return t.label?t.label:e?t.value?n("Resize image to %0",t.value+this._resizeUnit):n("Resize image to the original size"):t.value?t.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(t,e){const n=new Ft;return t.map(o=>{const r=o.value?o.value+this._resizeUnit:null,s={type:"button",model:new Tn({commandName:"resizeImage",commandValue:r,label:this._getOptionLabelValue(o),withText:!0,icon:null})};s.model.bind("isOn").to(e,"value",Tw(r)),n.add(s)}),n}}function Tw(i){return t=>{const e=t;return i===null&&e===i?!0:e!==null&&e.width===i}}const d6="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",u6=/(image|image-inline)/,Nu="image_resized";class h6 extends S{static get requires(){return[cu]}static get pluginName(){return"ImageResizeHandles"}init(){const t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}_setupResizerCreator(){const t=this.editor,e=t.editing.view;e.addObserver(sw),this.listenTo(e.document,"imageLoaded",(n,o)=>{if(!o.target.matches(d6))return;const r=t.editing.view.domConverter,a=r.domToView(o.target).findAncestor({classes:u6});let c=this.editor.plugins.get(cu).getResizerByViewElement(a);if(c){c.redraw();return}const l=t.editing.mapper,d=l.toModelElement(a);c=t.plugins.get(cu).attachTo({unit:t.config.get("image.resizeUnit"),modelElement:d,viewElement:a,editor:t,getHandleHost(u){return u.querySelector("img")},getResizeHost(){return r.mapViewToDom(l.toViewElement(d.parent))},isCentered(){const u=d.getAttribute("imageStyle");return!u||u=="block"||u=="alignCenter"},onCommit(u){e.change(m=>{m.removeClass(Nu,a)}),t.execute("resizeImage",{width:u})}}),c.on("updateSize",()=>{a.hasClass(Nu)||e.change(u=>{u.addClass(Nu,a)})}),c.bind("isEnabled").to(this)})}}var Sw=I(1043),Lu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lu.insert="head",Lu.singleton=!0;var S9=V()(Sw.Z,Lu);const I9=Sw.Z.locals||{};class m6 extends S{static get requires(){return[Dw,h6,l6]}static get pluginName(){return"ImageResize"}}class g6 extends Y{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map(n=>{if(n.isDefault)for(const o of n.modelElements)this._defaultStyles[o]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(t={}){const e=this.editor,n=e.model,o=e.plugins.get("ImageUtils");n.change(r=>{const s=t.value;let a=o.getClosestSelectedImageElement(n.document.selection);s&&this.shouldConvertImageType(s,a)&&(this.editor.execute(o.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=o.getClosestSelectedImageElement(n.document.selection)),!s||this._styles.get(s).isDefault?r.removeAttribute("imageStyle",a):r.setAttribute("imageStyle",s,a)})}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const{objectFullWidth:f6,objectInline:Iw,objectLeft:Mw,objectRight:Pu,objectCenter:Ru,objectBlockLeft:Bw,objectBlockRight:zw}=J,Ma={get inline(){return{name:"inline",title:"In line",icon:Iw,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Mw,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Bw,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ru,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Pu,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:zw,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ru,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Pu,modelElements:["imageBlock"],className:"image-style-side"}}},Nw={full:f6,left:Bw,right:zw,center:Ru,inlineLeft:Mw,inlineRight:Pu,inline:Iw},Lw=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function p6(i){return(i.configuredStyles.options||[]).map(n=>w6(n)).filter(n=>A6(n,i))}function b6(i,t){return i&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:i?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}}function k6(i){return i.has("ImageBlockEditing")&&i.has("ImageInlineEditing")?[...Lw]:[]}function w6(i){return typeof i=="string"?Ma[i]?i=U({},Ma[i]):i={name:i}:i=C6(Ma[i.name],i),typeof i.icon=="string"&&(i.icon=Nw[i.icon]||i.icon),i}function A6(i,{isBlockPluginLoaded:t,isInlinePluginLoaded:e}){const{modelElements:n,name:o}=i;if(!n||!n.length||!o)return Pw({style:i}),!1;{const r=[t?"imageBlock":null,e?"imageInline":null];if(!n.some(s=>r.includes(s)))return _t("image-style-missing-dependency",{style:i,missingPlugins:n.map(s=>s==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function C6(i,t){const e=U({},t);for(const n in i)Object.prototype.hasOwnProperty.call(t,n)||(e[n]=i[n]);return e}function Pw(i){_t("image-style-configuration-definition-invalid",i)}const Ou={normalizeStyles:p6,getDefaultStylesConfiguration:b6,getDefaultDropdownDefinitions:k6,warnInvalidStyle:Pw,DEFAULT_OPTIONS:Ma,DEFAULT_ICONS:Nw,DEFAULT_DROPDOWN_DEFINITIONS:Lw};function _6(i){return(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const o=Rw(e.attributeNewValue,i),r=Rw(e.attributeOldValue,i),s=n.mapper.toViewElement(e.item),a=n.writer;r&&a.removeClass(r.className,s),o&&a.addClass(o.className,s)}}function v6(i){const t={imageInline:i.filter(e=>!e.isDefault&&e.modelElements.includes("imageInline")),imageBlock:i.filter(e=>!e.isDefault&&e.modelElements.includes("imageBlock"))};return(e,n,o)=>{if(!n.modelRange)return;const r=n.viewItem,s=Pt(n.modelRange.getItems());if(s&&o.schema.checkAttribute(s,"imageStyle"))for(const a of t[s.name])o.consumable.consume(r,{classes:a.className})&&o.writer.setAttribute("imageStyle",a.name,s)}}function Rw(i,t){for(const e of t)if(e.name===i)return e}class Ow extends S{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[on]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=Ou,n=this.editor,o=n.plugins.has("ImageBlockEditing"),r=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(o,r)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:r}),this._setupConversion(o,r),this._setupPostFixer(),n.commands.add("imageStyle",new g6(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,o=n.model.schema,r=_6(this.normalizedStyles),s=v6(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",r),n.data.downcastDispatcher.on("attribute:imageStyle",r),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(on),o=new Map(this.normalizedStyles.map(r=>[r.name,r]));e.registerPostFixer(r=>{let s=!1;for(const a of e.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let c=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(c&&c.is("element","paragraph")&&c.childCount>0&&(c=c.getChild(0)),!n.isImage(c))continue;const l=c.getAttribute("imageStyle");if(!l)continue;const d=o.get(l);(!d||!d.modelElements.includes(c.name))&&(r.removeAttribute("imageStyle",c),s=!0)}return s})}}var Vw=I(4622),Vu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vu.insert="head",Vu.singleton=!0;var M9=V()(Vw.Z,Vu);const B9=Vw.Z.locals||{};class y6 extends S{static get requires(){return[Ow]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=t.get("ImageStyleEditing"),o=Fw(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const s of o)this._createButton(s);const r=Fw([...e.filter(vt),...Ou.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const s of r)this._createDropdown(s,o)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,o=>{let r;const{defaultItem:s,items:a,title:c}=t,l=a.filter(b=>e.find(({name:A})=>jw(A)===b)).map(b=>{const A=n.create(b);return b===s&&(r=A),A});a.length!==l.length&&Ou.warnInvalidStyle({dropdown:t});const d=Ht(o,eo),u=d.buttonView,m=u.arrowView;return Ar(d,l,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:Hw(c,r.label),class:null,tooltip:!0}),m.unbind("label"),m.set({label:c}),u.bind("icon").toMany(l,"isOn",(...b)=>{const A=b.findIndex(fi);return A<0?r.icon:l[A].icon}),u.bind("label").toMany(l,"isOn",(...b)=>{const A=b.findIndex(fi);return Hw(c,A<0?r.label:l[A].label)}),u.bind("isOn").toMany(l,"isOn",(...b)=>b.some(fi)),u.bind("class").toMany(l,"isOn",(...b)=>b.some(fi)?"ck-splitbutton_flatten":void 0),u.on("execute",()=>{l.some(({isOn:b})=>b)?d.isOpen=!d.isOpen:r.fire("execute")}),d.bind("isEnabled").toMany(l,"isEnabled",(...b)=>b.some(fi)),this.listenTo(d,"execute",()=>{this.editor.editing.view.focus()}),d})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(jw(e),n=>{const o=this.editor.commands.get("imageStyle"),r=new Q(n);return r.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",s=>s===e),r.on("execute",this._executeCommand.bind(this,e)),r})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function Fw(i,t){for(const e of i)t[e.title]&&(e.title=t[e.title]);return i}function jw(i){return`imageStyle:${i}`}function Hw(i,t){return(i?i+": ":"")+t}class x6 extends S{static get requires(){return[Ow,y6]}static get pluginName(){return"ImageStyle"}}class E6 extends S{static get requires(){return[Ea,on]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(Ea),o=t.plugins.get("ImageUtils");n.register("image",{ariaLabel:e("Image toolbar"),items:D6(t.config.get("image.toolbar")||[]),getRelatedElement:r=>o.getClosestSelectedImageWidget(r)})}}function D6(i){return i.map(t=>vt(t)?t.name:t)}class T6 extends S{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Vg(t)),t.commands.add("outdent",new Vg(t))}}const Uw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Ww='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class S6 extends S{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,o=e.uiLanguageDirection=="ltr"?Uw:Ww,r=e.uiLanguageDirection=="ltr"?Ww:Uw;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),r)}_defineButton(t,e,n){const o=this.editor;o.ui.componentFactory.add(t,r=>{const s=o.commands.get(t),a=new Q(r);return a.set({label:e,icon:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{o.execute(t),o.editing.view.focus()}),a})}}class I6 extends S{static get pluginName(){return"Indent"}static get requires(){return[T6,S6]}}class Ba extends Y{constructor(t,e){super(t),this._indentBehavior=e}refresh(){const e=this.editor.model,n=Pt(e.document.selection.getSelectedBlocks());if(!n||!e.schema.checkAttribute(n,"blockIndent")){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(n.getAttribute("blockIndent"))}execute(){const t=this.editor.model,e=M6(t);t.change(n=>{for(const o of e){const r=o.getAttribute("blockIndent"),s=this._indentBehavior.getNextIndent(r);s?n.setAttribute("blockIndent",s,o):n.removeAttribute("blockIndent",o)}})}}function M6(i){const t=i.document.selection,e=i.schema;return Array.from(t.getSelectedBlocks()).filter(o=>e.checkAttribute(o,"blockIndent"))}class Gw{constructor(t){this.isForward=t.direction==="forward",this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const o=this.isForward?this.offset:-this.offset,r=e+o;return r>0?r+this.unit:void 0}}class qw{constructor(t){this.isForward=t.direction==="forward",this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),n=this.isForward?1:-1;return this.classes[e+n]}}const B6=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class z6 extends S{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new Ba(t,new qw({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new Ba(t,new qw({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(Q4),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new Ba(t,new Gw({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new Ba(t,new Gw({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,n=t.commands.get("indent"),o=t.commands.get("outdent"),r=t.config.get("heading.options");(r&&r.map(c=>c.model)||B6).forEach(c=>{e.isRegistered(c)&&e.extend(c,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),n.registerChildCommand(t.commands.get("indentBlock")),o.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,n=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[n]:/[\s\S]+/}},model:{key:"blockIndent",value:o=>o.getStyle(n)}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:o=>({key:"style",value:{[n]:o}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const n of t)e.model.values.push(n),e.view[n]={key:"class",value:[n]};this.editor.conversion.attributeToAttribute(e)}}const vo="italic";class N6 extends S{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:vo}),t.model.schema.setAttributeProperties(vo,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:vo,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(vo,new bo(t,vo)),t.keystrokes.set("CTRL+I",vo)}}const L6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',Fu="italic";class P6 extends S{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Fu,n=>{const o=t.commands.get(Fu),r=new Q(n);return r.set({label:e("Italic"),icon:L6,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(Fu),t.editing.view.focus()}),r})}}class R6 extends S{static get requires(){return[N6,P6]}static get pluginName(){return"Italic"}}class O6{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,n,o)=>{if(!o.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||o.schema.isInline(n.item)))return;const r=o.writer,s=r.document.selection;for(const a of this._definitions){const c=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,c);for(const l in a.styles)r.setStyle(l,a.styles[l],c);r.setCustomProperty("link",!0,c),a.callback(n.attributeNewValue)?n.item.is("selection")?r.wrap(s.getFirstRange(),c):r.wrap(o.mapper.toViewRange(n.range),c):r.unwrap(o.mapper.toViewRange(n.range),c)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,n,{writer:o,mapper:r})=>{const s=r.toViewElement(n.item),a=Array.from(s.getChildren()).find(c=>c.is("element","a"));for(const c of this._definitions){const l=cn(c.attributes);if(c.callback(n.attributeNewValue)){for(const[d,u]of l)d==="class"?o.addClass(u,a):o.setAttribute(d,u,a);c.classes&&o.addClass(c.classes,a);for(const d in c.styles)o.setStyle(d,c.styles[d],a)}else{for(const[d,u]of l)d==="class"?o.removeClass(u,a):o.removeAttribute(d,a);c.classes&&o.removeClass(c.classes,a);for(const d in c.styles)o.removeStyle(d,a)}}})}}}function V6(i,t,e){var n=i.length;return e=e===void 0?n:e,!t&&e>=n?i:Jg(i,t,e)}const F6=V6;var j6="\\ud800-\\udfff",H6="\\u0300-\\u036f",U6="\\ufe20-\\ufe2f",W6="\\u20d0-\\u20ff",G6=H6+U6+W6,q6="\\ufe0e\\ufe0f",$6="\\u200d",K6=RegExp("["+$6+j6+G6+q6+"]");function Y6(i){return K6.test(i)}const $w=Y6;function Z6(i){return i.split("")}const Q6=Z6;var Kw="\\ud800-\\udfff",J6="\\u0300-\\u036f",X6="\\ufe20-\\ufe2f",tz="\\u20d0-\\u20ff",ez=J6+X6+tz,nz="\\ufe0e\\ufe0f",iz="["+Kw+"]",ju="["+ez+"]",Hu="\\ud83c[\\udffb-\\udfff]",oz="(?:"+ju+"|"+Hu+")",Yw="[^"+Kw+"]",Zw="(?:\\ud83c[\\udde6-\\uddff]){2}",Qw="[\\ud800-\\udbff][\\udc00-\\udfff]",rz="\\u200d",Jw=oz+"?",Xw="["+nz+"]?",sz="(?:"+rz+"(?:"+[Yw,Zw,Qw].join("|")+")"+Xw+Jw+")*",az=Xw+Jw+sz,cz="(?:"+[Yw+ju+"?",ju,Zw,Qw,iz].join("|")+")",lz=RegExp(Hu+"(?="+Hu+")|"+cz+az,"g");function dz(i){return i.match(lz)||[]}const uz=dz;function hz(i){return $w(i)?uz(i):Q6(i)}const mz=hz;function gz(i){return function(t){t=Hl(t);var e=$w(t)?mz(t):void 0,n=e?e[0]:t.charAt(0),o=e?F6(e,1).join(""):t.slice(1);return n[i]()+o}}var fz=gz("toUpperCase");const pz=fz,bz=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,kz=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,wz=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Az=/^((\w+:(\/{2,})?)|(\W))/i,Uu="Ctrl+K";function Cz(i){return i.is("attributeElement")&&!!i.getCustomProperty("link")}function tA(i,{writer:t}){const e=t.createAttributeElement("a",{href:i},{priority:5});return t.setCustomProperty("link",!0,e),e}function eA(i){const t=String(i);return _z(t)?t:"#"}function _z(i){return!!i.replace(bz,"").match(kz)}function vz(i,t){const e={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return t.forEach(n=>("label"in n&&e[n.label]&&(n.label=e[n.label]),n)),t}function yz(i){const t=[];if(i)for(const[e,n]of Object.entries(i)){const o=Object.assign({},n,{id:`link${pz(e)}`});t.push(o)}return t}function Wu(i,t){return i?t.checkAttribute(i.name,"linkHref"):!1}function xz(i){return wz.test(i)}function Gu(i,t){const e=xz(i)?"mailto:":t,n=!!e&&!nA(i);return i&&n?e+i:i}function nA(i){return Az.test(i)}function iA(i){window.open(i,"_blank","noopener")}class Ez extends Y{constructor(){super(...arguments),this.manualDecorators=new Ft,this.automaticDecorators=new O6}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||Pt(e.getSelectedBlocks());Wu(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(t,e={}){const n=this.editor.model,o=n.document.selection,r=[],s=[];for(const a in e)e[a]?r.push(a):s.push(a);n.change(a=>{if(o.isCollapsed){const c=o.getFirstPosition();if(o.hasAttribute("linkHref")){const l=oA(o);let d=fo(c,"linkHref",o.getAttribute("linkHref"),n);o.getAttribute("linkHref")===l&&(d=this._updateLinkContent(n,a,d,t)),a.setAttribute("linkHref",t,d),r.forEach(u=>{a.setAttribute(u,!0,d)}),s.forEach(u=>{a.removeAttribute(u,d)}),a.setSelection(a.createPositionAfter(d.end.nodeBefore))}else if(t!==""){const l=cn(o.getAttributes());l.set("linkHref",t),r.forEach(u=>{l.set(u,!0)});const{end:d}=n.insertContent(a.createText(t,l),c);a.setSelection(d)}["linkHref",...r,...s].forEach(l=>{a.removeSelectionAttribute(l)})}else{const c=n.schema.getValidRanges(o.getRanges(),"linkHref"),l=[];for(const u of o.getSelectedBlocks())n.schema.checkAttribute(u,"linkHref")&&l.push(a.createRangeOn(u));const d=l.slice();for(const u of c)this._isRangeToUpdate(u,l)&&d.push(u);for(const u of d){let m=u;if(d.length===1){const b=oA(o);o.getAttribute("linkHref")===b&&(m=this._updateLinkContent(n,a,u,t),a.setSelection(a.createSelection(m)))}a.setAttribute("linkHref",t,m),r.forEach(b=>{a.setAttribute(b,!0,m)}),s.forEach(b=>{a.removeAttribute(b,m)})}}})}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,o=n.getSelectedElement();return Wu(o,e.schema)?o.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}_updateLinkContent(t,e,n,o){const r=e.createText(o,{linkHref:o});return t.insertContent(r,n)}}function oA(i){if(i.isCollapsed){const t=i.getFirstPosition();return t.textNode&&t.textNode.data}else{const t=Array.from(i.getFirstRange().getItems());if(t.length>1)return null;const e=t[0];return e.is("$text")||e.is("$textProxy")?e.data:null}}class Dz extends Y{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();Wu(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,o=t.commands.get("link");e.change(r=>{const s=n.isCollapsed?[fo(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const a of s)if(r.removeAttribute("linkHref",a),o)for(const c of o.manualDecorators)r.removeAttribute(c.id,a)})}}class Tz extends ut(){constructor({id:t,label:e,attributes:n,classes:o,styles:r,defaultValue:s}){super(),this.id=t,this.set("value",void 0),this.defaultValue=s,this.label=e,this.attributes=n,this.classes=o,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var rA=I(399),qu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};qu.insert="head",qu.singleton=!0;var N9=V()(rA.Z,qu);const L9=rA.Z.locals||{},Sz="ck-link_selected",sA="automatic",Iz="manual",Mz=/^(https?:)?\/\//;class Bz extends S{static get pluginName(){return"LinkEditing"}static get requires(){return[Lb,Tb,pn]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:tA}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,r)=>tA(eA(o),r)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),t.commands.add("link",new Ez(t)),t.commands.add("unlink",new Dz(t));const e=vz(t.t,yz(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter(o=>o.mode===sA)),this._enableManualDecorators(e.filter(o=>o.mode===Iz)),t.plugins.get(Lb).registerAttribute("linkHref"),fS(t,"linkHref","a",Sz),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,o=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:sA,callback:r=>!!r&&Mz.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(t),o.length&&e.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,o=e.commands.get("link").manualDecorators;t.forEach(r=>{e.model.schema.extend("$text",{allowAttributes:r.id});const s=new Tz(r);o.add(s),e.conversion.for("downcast").attributeToElement({model:s.id,view:(a,{writer:c,schema:l},{item:d})=>{if((d.is("selection")||l.isInline(d))&&a){const u=c.createAttributeElement("a",s.attributes,{priority:5});s.classes&&c.addClass(s.classes,u);for(const m in s.styles)c.setStyle(m,s.styles[m],u);return c.setCustomProperty("link",!0,u),u}}}),e.conversion.for("upcast").elementToAttribute({view:U({name:"a"},s._createPattern()),model:{key:s.id}})})}_enableLinkOpen(){const t=this.editor,n=t.editing.view.document;this.listenTo(n,"click",(o,r)=>{if(!(p.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let a=r.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const c=a.getAttribute("href");c&&(o.stop(),r.preventDefault(),iA(c))},{context:"$capture"}),this.listenTo(n,"keydown",(o,r)=>{const a=t.commands.get("link").value;a&&r.keyCode===lt.enter&&r.altKey&&(o.stop(),iA(a))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,n=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=n.anchor.nodeBefore,r=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||e.change(s=>{$u(s,Ku(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(sa);let n=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const o=e.document.selection;if(!o.isCollapsed||!o.hasAttribute("linkHref"))return;const r=o.getFirstPosition(),s=fo(r,"linkHref",o.getAttribute("linkHref"),e);(r.isTouching(s.start)||r.isTouching(s.end))&&e.change(a=>{$u(a,Ku(e.schema))})})}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let n=null,o=!1;this.listenTo(e.document,"delete",()=>{o=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const r=t.model.document.selection;if(!r.isCollapsed){if(o){o=!1;return}aA(t)&&zz(t.model)&&(n=r.getAttributes())}},{priority:"high"}),this.listenTo(t.model,"insertContent",(r,[s])=>{o=!1,aA(t)&&n&&(t.model.change(a=>{for(const[c,l]of n)a.setAttribute(c,l,s)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection,o=t.editing.view;let r=!1,s=!1;this.listenTo(o.document,"delete",(a,c)=>{s=c.direction==="backward"},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{r=!1;const a=n.getFirstPosition(),c=n.getAttribute("linkHref");if(!c)return;const l=fo(a,"linkHref",c,e);r=l.containsPosition(a)||l.end.isEqual(a)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{s&&(s=!1,!r&&t.model.enqueueChange(a=>{$u(a,Ku(e.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,e=t.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(o,r)=>{e.change(s=>{const a=s.createRangeIn(r.content);for(const c of a.getItems())if(c.hasAttribute("linkHref")){const l=Gu(c.getAttribute("linkHref"),n);s.setAttribute("linkHref",l,c)}})})}}function $u(i,t){i.removeSelectionAttribute("linkHref");for(const e of t)i.removeSelectionAttribute(e)}function zz(i){const t=i.document.selection,e=t.getFirstPosition(),n=t.getLastPosition(),o=e.nodeAfter;if(!o||!o.is("$text")||!o.hasAttribute("linkHref"))return!1;const r=n.textNode||n.nodeBefore;return o===r?!0:fo(e,"linkHref",o.getAttribute("linkHref"),i).containsRange(i.createRange(e,n),!0)}function aA(i){return i.model.change(e=>e.batch).isTyping}function Ku(i){return i.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var cA=I(4827),Yu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yu.insert="head",Yu.singleton=!0;var P9=V()(cA.Z,Yu);const R9=cA.Z.locals||{};class Nz extends q{constructor(t,e){super(t),this.focusTracker=new zt,this.keystrokes=new jt,this._focusables=new be;const n=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),J.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),J.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new ne(this.locale,We);return e.label=t("Link URL"),e}_createButton(t,e,n,o){const r=new Q(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),o&&r.delegate("execute").to(this,o),r}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const o=new er(this.locale);o.set({name:n.id,label:n.label,withText:!0}),o.bind("isOn").toMany([n,t],"value",(r,s)=>s===void 0&&r===void 0?!!n.defaultValue:!!r),o.on("execute",()=>{n.set("value",!o.isOn)}),e.add(o)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const n=new q;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(o=>({tag:"li",children:[o],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(n)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}var lA=I(9465),Zu={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zu.insert="head",Zu.singleton=!0;var O9=V()(lA.Z,Zu);const V9=lA.Z.locals||{},Lz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class Pz extends q{constructor(t){super(t),this.focusTracker=new zt,this.keystrokes=new jt,this._focusables=new be;const e=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),Lz,"unlink"),this.editButtonView=this._createButton(e("Edit link"),J.pencil,"edit"),this.set("href",void 0),this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const o=new Q(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const t=new Q(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",o=>o&&eA(o)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",o=>o||n("This link has no URL")),t.bind("isEnabled").to(this,"href",o=>!!o),t.template.tag="a",t.template.eventListeners={},t}}const Rz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',kn="link-ui";class Oz extends S{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[fn]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(x4),this._balloon=t.plugins.get(fn),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:kn,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:kn,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new Pz(t.locale),n=t.commands.get("link"),o=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(r,s)=>{this._hideUI(),s()}),e.keystrokes.set(Uu,(r,s)=>{this._addFormView(),s()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),o=new(k(Nz))(t.locale,e);return o.urlInputView.fieldView.bind("value").to(e,"value"),o.urlInputView.bind("isEnabled").to(e,"isEnabled"),o.saveButtonView.bind("isEnabled").to(e),this.listenTo(o,"submit",()=>{const{value:r}=o.urlInputView.fieldView.element,s=Gu(r,n);t.execute("link",s,o.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(r,s)=>{this._closeFormView(),s()}),o}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.ui.componentFactory.add("link",o=>{const r=new Q(o);return r.isEnabled=!0,r.label=n("Link"),r.icon=Rz,r.keystroke=Uu,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(e,"isEnabled"),r.bind("isOn").to(e,"value",s=>!!s),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(Uu,(n,o)=>{o(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),w({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),o=s();const r=()=>{const a=this._getSelectedLinkElement(),c=s();n&&!a||!n&&c!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=a,o=c};function s(){return e.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(t.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let o;if(e.markers.has(kn)){const r=Array.from(this.editor.editing.mapper.markerNameToElements(kn)),s=t.createRange(t.createPositionBefore(r[0]),t.createPositionAfter(r[r.length-1]));o=t.domConverter.viewRangeToDom(s)}else o=()=>{const r=this._getSelectedLinkElement();return r?t.domConverter.mapViewToDom(r):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:o}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&Ut(n))return Qu(e.getFirstPosition());{const o=e.getFirstRange().getTrimmed(),r=Qu(o.start),s=Qu(o.end);return!r||r!=s?null:t.createRangeIn(r).getTrimmed().isEqual(o)?r:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(kn))e.updateMarker(kn,{range:n});else if(n.start.isAtEnd){const o=n.start.getLastMatchingPosition(({item:r})=>!t.schema.isContent(r),{boundaries:n});e.addMarker(kn,{usingOperation:!1,affectsData:!1,range:e.createRange(o,n.end)})}else e.addMarker(kn,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(kn)&&t.change(e=>{e.removeMarker(kn)})}}function Qu(i){return i.getAncestors().find(t=>Cz(t))||null}const Vz=4,Fz=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),jz=2;class Hz extends S{static get requires(){return[Sn]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new $d(t.model,n=>{if(!Uz(n))return;const o=dA(n.substr(0,n.length-1));if(o)return{url:o}});e.on("matched:data",(n,o)=>{const{batch:r,range:s,url:a}=o;if(!r.isTyping)return;const c=s.end.getShiftedBy(-1),l=c.getShiftedBy(-a.length),d=t.model.createRange(l,c);this._applyAutoLink(a,d)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition();if(!o.parent.previousSibling)return;const r=e.createRangeIn(o.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition(),r=e.createRange(e.createPositionAt(o.parent,0),o.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:o}=Nb(t,e),r=dA(n);if(r){const s=e.createRange(o.end.getShiftedBy(-r.length),o.end);this._applyAutoLink(r,s)}}_applyAutoLink(t,e){const n=this.editor.model,o=this.editor.config.get("link.defaultProtocol"),r=Gu(t,o);!this.isEnabled||!Wz(e,n)||!nA(r)||Gz(e)||this._persistAutoLink(r,e)}_persistAutoLink(t,e){const n=this.editor.model,o=this.editor.plugins.get("Delete");n.enqueueChange(r=>{r.setAttribute("linkHref",t,e),n.enqueueChange(()=>{o.requestUndoOnBackspace()})})}}function Uz(i){return i.length>Vz&&i[i.length-1]===" "&&i[i.length-2]!==" "}function dA(i){const t=Fz.exec(i);return t?t[jz]:null}function Wz(i,t){return t.schema.checkAttributeInSelection(t.createSelection(i),"linkHref")}function Gz(i){const t=i.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class qz extends S{static get requires(){return[Bz,Oz,Hz]}static get pluginName(){return"Link"}}class Ju extends Y{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.document,o=Array.from(n.selection.getSelectedBlocks()).filter(s=>hA(s,e.schema)),r=t.forceValue!==void 0?!t.forceValue:this.value;e.change(s=>{if(r){let a=o[o.length-1].nextSibling,c=Number.POSITIVE_INFINITY,l=[];for(;a&&a.name=="listItem"&&a.getAttribute("listIndent")!==0;){const d=a.getAttribute("listIndent");d<c&&(c=d);const u=d-c;l.push({element:a,listIndent:u}),a=a.nextSibling}l=l.reverse();for(const d of l)s.setAttribute("listIndent",d.listIndent,d.element)}if(!r){let a=Number.POSITIVE_INFINITY;for(const c of o)c.is("element","listItem")&&c.getAttribute("listIndent")<a&&(a=c.getAttribute("listIndent"));a=a===0?1:a,uA(o,!0,a),uA(o,!1,a)}for(const a of o.reverse())r&&a.name=="listItem"?s.rename(a,"paragraph"):!r&&a.name!="listItem"?(s.setAttributes({listType:this.type,listIndent:0},a),s.rename(a,"listItem")):!r&&a.name=="listItem"&&a.getAttribute("listType")!=this.type&&s.setAttribute("listType",this.type,a);this.fire("_executeCleanup",o)})}_getValue(){const t=Pt(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Pt(t.getSelectedBlocks());return n?hA(n,e):!1}}function uA(i,t,e){const n=t?i[0]:i[i.length-1];if(n.is("element","listItem")){let o=n[t?"previousSibling":"nextSibling"],r=n.getAttribute("listIndent");for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;)r>o.getAttribute("listIndent")&&(r=o.getAttribute("listIndent")),o.getAttribute("listIndent")==r&&i[t?"unshift":"push"](o),o=o[t?"previousSibling":"nextSibling"]}}function hA(i,t){return t.checkChild(i.parent,"listItem")&&!t.isObject(i)}class mA extends Y{constructor(t,e){super(t),this._indentBy=e=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(o=>{const r=n[n.length-1];let s=r.nextSibling;for(;s&&s.name=="listItem"&&s.getAttribute("listIndent")>r.getAttribute("listIndent");)n.push(s),s=s.nextSibling;this._indentBy<0&&(n=n.reverse());for(const a of n){const c=a.getAttribute("listIndent")+this._indentBy;c<0?o.rename(a,"paragraph"):o.setAttribute("listIndent",c,a)}this.fire("_executeCleanup",n)})}_checkEnabled(){const t=Pt(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let o=t.previousSibling;for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;){if(o.getAttribute("listIndent")==e)return o.getAttribute("listType")==n;o=o.previousSibling}return!1}return!0}}function $z(i){const t=i.createContainerElement("li");return t.getFillerOffset=Zz,t}function Xu(i,t){const e=t.mapper,n=t.writer,o=i.getAttribute("listType")=="numbered"?"ol":"ul",r=$z(n),s=n.createContainerElement(o,null);return n.insert(n.createPositionAt(s,0),r),e.bindElements(i,r),r}function za(i,t,e,n){const o=t.parent,r=e.mapper,s=e.writer;let a=r.toViewPosition(n.createPositionBefore(i));const c=yo(i.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:i.getAttribute("listIndent")}),l=i.previousSibling;if(c&&c.getAttribute("listIndent")==i.getAttribute("listIndent")){const d=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(d))}else if(l&&l.name=="listItem"){a=r.toViewPosition(n.createPositionAt(l,"end"));const d=r.findMappedViewAncestor(a),u=gA(d);u?a=s.createPositionBefore(u):a=s.createPositionAt(d,"end")}else a=r.toViewPosition(n.createPositionBefore(i));if(a=th(a),s.insert(a,o),l&&l.name=="listItem"){const d=r.toViewElement(l),m=s.createRange(s.createPositionAt(d,0),a).getWalker({ignoreElementEnd:!0});for(const b of m)if(b.item.is("element","li")){const A=s.breakContainer(s.createPositionBefore(b.item)),T=b.item.parent,B=s.createPositionAt(t,"end");Ge(s,B.nodeBefore,B.nodeAfter),s.move(s.createRangeOn(T),B),m._position=A}}else{const d=o.nextSibling;if(d&&(d.is("element","ul")||d.is("element","ol"))){let u=null;for(const m of d.getChildren()){const b=r.toModelElement(m);if(b&&b.getAttribute("listIndent")>i.getAttribute("listIndent"))u=m;else break}u&&(s.breakContainer(s.createPositionAfter(u)),s.move(s.createRangeOn(u.parent),s.createPositionAt(t,"end")))}}Ge(s,o,o.nextSibling),Ge(s,o.previousSibling,o)}function Ge(i,t,e){return!t||!e||t.name!="ul"&&t.name!="ol"||t.name!=e.name||t.getAttribute("class")!==e.getAttribute("class")?null:i.mergeContainers(i.createPositionAfter(t))}function th(i){return i.getLastMatchingPosition(t=>t.item.is("uiElement"))}function yo(i,t){const e=!!t.sameIndent,n=!!t.smallerIndent,o=t.listIndent;let r=i;for(;r&&r.name=="listItem";){const s=r.getAttribute("listIndent");if(e&&o==s||n&&o>s)return r;t.direction==="forward"?r=r.nextSibling:r=r.previousSibling}return null}function eh(i,t,e,n){i.ui.componentFactory.add(t,o=>{const r=i.commands.get(t),s=new Q(o);return s.set({label:e,icon:n,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",()=>{i.execute(t),i.editing.view.focus()}),s})}function gA(i){for(const t of i.getChildren())if(t.name=="ul"||t.name=="ol")return t;return null}function Na(i,t){const e=[],n=i.parent,o={ignoreElementEnd:!1,startPosition:i,shallow:!0,direction:t},r=n.getAttribute("listIndent"),s=[...new mn(o)].filter(a=>a.item.is("element")).map(a=>a.item);for(const a of s){if(!a.is("element","listItem")||a.getAttribute("listIndent")<r)break;if(!(a.getAttribute("listIndent")>r)){if(a.getAttribute("listType")!==n.getAttribute("listType")||a.getAttribute("listStyle")!==n.getAttribute("listStyle")||a.getAttribute("listReversed")!==n.getAttribute("listReversed")||a.getAttribute("listStart")!==n.getAttribute("listStart"))break;t==="backward"?e.unshift(a):e.push(a)}}return e}function La(i){let e=[...i.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const o=i.change(r=>r.createPositionAt(n,0));return[...Na(o,"backward"),...Na(o,"forward")]}).flat();return e=[...new Set(e)],e}const Kz=["disc","circle","square"],Yz=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function fA(i){return Kz.includes(i)?"bulleted":Yz.includes(i)?"numbered":null}function Zz(){const i=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||i?0:sf.call(this)}class Qz extends S{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return fA(t)}getSelectedListItems(t){return La(t)}getSiblingNodes(t,e){return Na(t,e)}}function pA(i){return(t,e,n)=>{const o=n.consumable;if(!o.test(e.item,"insert")||!o.test(e.item,"attribute:listType")||!o.test(e.item,"attribute:listIndent"))return;o.consume(e.item,"insert"),o.consume(e.item,"attribute:listType"),o.consume(e.item,"attribute:listIndent");const r=e.item,s=Xu(r,n);za(r,s,n,i)}}function Jz(i){return(t,e,n)=>{const s=n.mapper.toViewPosition(e.position).getLastMatchingPosition(b=>!b.item.is("element","li")).nodeAfter,a=n.writer;a.breakContainer(a.createPositionBefore(s)),a.breakContainer(a.createPositionAfter(s));const c=s.parent,l=c.previousSibling,d=a.createRangeOn(c),u=a.remove(d);l&&l.nextSibling&&Ge(a,l,l.nextSibling);const m=n.mapper.toModelElement(s);AA(m.getAttribute("listIndent")+1,e.position,d.start,s,n,i);for(const b of a.createRangeIn(u).getItems())n.mapper.unbindViewElement(b);t.stop()}}const Xz=(i,t,e)=>{if(!e.consumable.test(t.item,i.name))return;const n=e.mapper.toViewElement(t.item),o=e.writer;o.breakContainer(o.createPositionBefore(n)),o.breakContainer(o.createPositionAfter(n));const r=n.parent,s=t.attributeNewValue=="numbered"?"ol":"ul";o.rename(s,r)},tN=(i,t,e)=>{e.consumable.consume(t.item,i.name);const o=e.mapper.toViewElement(t.item).parent,r=e.writer;Ge(r,o,o.nextSibling),Ge(r,o.previousSibling,o)};function eN(i){return(t,e,n)=>{if(!n.consumable.consume(e.item,"attribute:listIndent"))return;const o=n.mapper.toViewElement(e.item),r=n.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=r.createRangeOn(s);r.remove(c),a&&a.nextSibling&&Ge(r,a,a.nextSibling),AA(e.attributeOldValue+1,e.range.start,c.start,o,n,i),za(e.item,o,n,i);for(const l of e.item.getChildren())n.consumable.consume(l,"insert")}}const bA=(i,t,e)=>{if(e.consumable.test(t.item,i.name)&&t.item.name!="listItem"){let n=e.mapper.toViewPosition(t.range.start);const o=e.writer,r=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=o.breakContainer(n),n.parent.name=="li");){const s=n,a=o.createPositionAt(n.parent,"end");if(!s.isEqual(a)){const c=o.remove(o.createRange(s,a));r.push(c)}n=o.createPositionAfter(n.parent)}if(r.length>0){for(let s=0;s<r.length;s++){const a=n.nodeBefore;if(n=o.insert(n,r[s]).end,s>0){const l=Ge(o,a,a.nextSibling);l&&l.parent==a&&n.offset--}}Ge(o,n.nodeBefore,n.nodeAfter)}}},nN=(i,t,e)=>{const n=e.mapper.toViewPosition(t.position),o=n.nodeBefore,r=n.nodeAfter;Ge(e.writer,o,r)},iN=(i,t,e)=>{if(e.consumable.consume(t.viewItem,{name:!0})){const n=e.writer,o=n.createElement("listItem"),r=dN(t.viewItem);n.setAttribute("listIndent",r,o);const s=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",s,o),!e.safeInsert(o,t.modelCursor))return;const a=cN(o,t.viewItem.getChildren(),e);t.modelRange=n.createRange(t.modelCursor,a),e.updateConversionResult(o,t)}},kA=(i,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){const n=Array.from(t.viewItem.getChildren());for(const o of n)!(o.is("element","li")||xo(o))&&o._remove()}},oN=(i,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;const n=[...t.viewItem.getChildren()];let o=!1;for(const r of n)o&&!xo(r)&&r._remove(),xo(r)&&(o=!0)}};function wA(i){return(t,e)=>{if(e.isPhantom)return;const n=e.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const o=e.mapper.toViewElement(n),r=o.getAncestors().find(xo),s=i.createPositionAt(o,0).getWalker();for(const a of s)if(a.type=="elementStart"&&a.item.is("element","li")){e.viewPosition=a.previousPosition;break}else if(a.type=="elementEnd"&&a.item==r){e.viewPosition=a.nextPosition;break}}}}function rN(i){return(t,e)=>{const n=e.viewPosition,o=n.parent,r=e.mapper;if(o.name=="ul"||o.name=="ol"){if(n.isAtEnd){const s=r.toModelElement(n.nodeBefore),a=r.getModelLength(n.nodeBefore);e.modelPosition=i.createPositionBefore(s).getShiftedBy(a)}else{const s=r.toModelElement(n.nodeAfter);e.modelPosition=i.createPositionBefore(s)}t.stop()}else if(o.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const s=r.toModelElement(o);let a=1,c=n.nodeBefore;for(;c&&xo(c);)a+=r.getModelLength(c),c=c.previousSibling;e.modelPosition=i.createPositionBefore(s).getShiftedBy(a),t.stop()}}}function sN(i,t){const e=i.document.differ.getChanges(),n=new Map;let o=!1;for(const c of e)if(c.type=="insert"&&c.name=="listItem")r(c.position);else if(c.type=="insert"&&c.name!="listItem"){if(c.name!="$text"){const d=c.position.nodeAfter;d.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",d),o=!0),d.hasAttribute("listType")&&(t.removeAttribute("listType",d),o=!0),d.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",d),o=!0),d.hasAttribute("listReversed")&&(t.removeAttribute("listReversed",d),o=!0),d.hasAttribute("listStart")&&(t.removeAttribute("listStart",d),o=!0);for(const u of Array.from(i.createRangeIn(d)).filter(m=>m.item.is("element","listItem")))r(u.previousPosition)}const l=c.position.getShiftedBy(c.length);r(l)}else c.type=="remove"&&c.name=="listItem"?r(c.position):(c.type=="attribute"&&c.attributeKey=="listIndent"||c.type=="attribute"&&c.attributeKey=="listType")&&r(c.range.start);for(const c of n.values())s(c),a(c);return o;function r(c){const l=c.nodeBefore;if(!l||!l.is("element","listItem")){const d=c.nodeAfter;d&&d.is("element","listItem")&&n.set(d,d)}else{let d=l;if(n.has(d))return;for(let u=d.previousSibling;u&&u.is("element","listItem");u=d.previousSibling)if(d=u,n.has(d))return;n.set(l,d)}}function s(c){let l=0,d=null;for(;c&&c.is("element","listItem");){const u=c.getAttribute("listIndent");if(u>l){let m;d===null?(d=u-l,m=l):(d>u&&(d=u),m=u-d),t.setAttribute("listIndent",m,c),o=!0}else d=null,l=c.getAttribute("listIndent")+1;c=c.nextSibling}}function a(c){let l=[],d=null;for(;c&&c.is("element","listItem");){const u=c.getAttribute("listIndent");if(d&&d.getAttribute("listIndent")>u&&(l=l.slice(0,u+1)),u!=0)if(l[u]){const m=l[u];c.getAttribute("listType")!=m&&(t.setAttribute("listType",m,c),o=!0)}else l[u]=c.getAttribute("listType");d=c,c=c.nextSibling}}}const aN=function(i,[t,e]){const n=this;let o=t.is("documentFragment")?t.getChild(0):t,r;if(e?r=n.createSelection(e):r=n.document.selection,o&&o.is("element","listItem")){const s=r.getFirstPosition();let a=null;if(s.parent.is("element","listItem")?a=s.parent:s.nodeBefore&&s.nodeBefore.is("element","listItem")&&(a=s.nodeBefore),a){const c=a.getAttribute("listIndent");if(c>0)for(;o&&o.is("element","listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+c),o=o.nextSibling}}};function cN(i,t,e){const{writer:n,schema:o}=e;let r=n.createPositionAfter(i);for(const s of t)if(s.name=="ul"||s.name=="ol")r=e.convertItem(s,r).modelCursor;else{const a=e.convertItem(s,n.createPositionAt(i,"end")),c=a.modelRange.start.nodeAfter;c&&c.is("element")&&!o.checkChild(i,c.name)&&(a.modelCursor.parent.is("element","listItem")?i=a.modelCursor.parent:i=lN(a.modelCursor),r=n.createPositionAfter(i))}return r}function lN(i){const t=new mn({startPosition:i});let e;do e=t.next();while(!e.value.item.is("element","listItem"));return e.value.item}function AA(i,t,e,n,o,r){const s=yo(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:i}),a=o.mapper,c=o.writer,l=s?s.getAttribute("listIndent"):null;let d;if(!s)d=e;else if(l==i){const u=a.toViewElement(s).parent;d=c.createPositionAfter(u)}else{const u=r.createPositionAt(s,"end");d=a.toViewPosition(u)}d=th(d);for(const u of[...n.getChildren()])xo(u)&&(d=c.move(c.createRangeOn(u),d).end,Ge(c,u,u.nextSibling),Ge(c,u.previousSibling,u))}function xo(i){return i.is("element","ol")||i.is("element","ul")}function dN(i){let t=0,e=i.parent;for(;e;){if(e.is("element","li"))t++;else{const n=e.previousSibling;n&&n.is("element","li")&&t++}e=e.parent}return t}var CA=I(9989),nh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};nh.insert="head",nh.singleton=!0;var F9=V()(CA.Z,nh);const j9=CA.Z.locals||{};class ih extends S{static get pluginName(){return"ListEditing"}static get requires(){return[va,Sn,Qz]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(r=>sN(t.model,r)),n.mapper.registerViewToModelLength("li",oh),e.mapper.registerViewToModelLength("li",oh),n.mapper.on("modelToViewPosition",wA(n.view)),n.mapper.on("viewToModelPosition",rN(t.model)),e.mapper.on("modelToViewPosition",wA(n.view)),t.conversion.for("editingDowncast").add(r=>{r.on("insert",bA,{priority:"high"}),r.on("insert:listItem",pA(t.model)),r.on("attribute:listType:listItem",Xz,{priority:"high"}),r.on("attribute:listType:listItem",tN,{priority:"low"}),r.on("attribute:listIndent:listItem",eN(t.model)),r.on("remove:listItem",Jz(t.model)),r.on("remove",nN,{priority:"low"})}),t.conversion.for("dataDowncast").add(r=>{r.on("insert",bA,{priority:"high"}),r.on("insert:listItem",pA(t.model))}),t.conversion.for("upcast").add(r=>{r.on("element:ul",kA,{priority:"high"}),r.on("element:ol",kA,{priority:"high"}),r.on("element:li",oN,{priority:"high"}),r.on("element:li",iN)}),t.model.on("insertContent",aN,{priority:"high"}),t.commands.add("numberedList",new Ju(t,"numbered")),t.commands.add("bulletedList",new Ju(t,"bulleted")),t.commands.add("indentList",new mA(t,"forward")),t.commands.add("outdentList",new mA(t,"backward"));const o=n.view.document;this.listenTo(o,"enter",(r,s)=>{const a=this.editor.model.document,c=a.selection.getLastPosition().parent;a.selection.isCollapsed&&c.name=="listItem"&&c.isEmpty&&(this.editor.execute("outdentList"),s.preventDefault(),r.stop())},{context:"li"}),this.listenTo(o,"delete",(r,s)=>{if(s.direction!=="backward")return;const a=this.editor.model.document.selection;if(!a.isCollapsed)return;const c=a.getFirstPosition();if(!c.isAtStart)return;const l=c.parent;l.name!=="listItem"||l.previousSibling&&l.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),s.preventDefault(),r.stop())},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(r,s)=>{const a=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(t.execute(a),s.stopPropagation(),s.preventDefault(),r.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function oh(i){let t=1;for(const e of i.getChildren())if(e.name=="ul"||e.name=="ol")for(const n of e.getChildren())t+=oh(n);return t}const _A='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',vA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class uN extends S{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;eh(this.editor,"numberedList",t("Numbered List"),_A),eh(this.editor,"bulletedList",t("Bulleted List"),vA)}}class hN extends S{static get requires(){return[ih,uN]}static get pluginName(){return"List"}}class mN extends Y{constructor(t,e){super(t),this.defaultType=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){this._tryToConvertItemsToList(t);const e=this.editor.model,n=La(e);n.length&&e.change(o=>{for(const r of n)o.setAttribute("listStyle",t.type||this.defaultType,r)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")?t.getAttribute("listStyle"):null}_checkEnabled(){const t=this.editor,e=t.commands.get("numberedList"),n=t.commands.get("bulletedList");return e.isEnabled||n.isEnabled}_tryToConvertItemsToList(t){if(!t.type)return;const e=fA(t.type);if(!e)return;const n=this.editor,o=`${e}List`;n.commands.get(o).value||n.execute(o)}}class gN extends Y{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute(t={}){const e=this.editor.model,n=La(e).filter(o=>o.getAttribute("listType")=="numbered");e.change(o=>{for(const r of n)o.setAttribute("listReversed",!!t.reversed,r)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")&&t.getAttribute("listType")=="numbered"?t.getAttribute("listReversed"):null}}class fN extends Y{refresh(){const t=this._getValue();this.value=t,this.isEnabled=t!=null}execute({startIndex:t=1}={}){const e=this.editor.model,n=La(e).filter(o=>o.getAttribute("listType")=="numbered");e.change(o=>{for(const r of n)o.setAttribute("listStart",t>=0?t:1,r)})}_getValue(){const t=this.editor.model.document.selection.getFirstPosition().parent;return t&&t.is("element","listItem")&&t.getAttribute("listType")=="numbered"?t.getAttribute("listStart"):null}}const Pa="default";class pN extends S{static get requires(){return[ih]}static get pluginName(){return"ListPropertiesEditing"}constructor(t){super(t),t.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const t=this.editor,e=t.model,n=t.config.get("list.properties"),o=bN(n);e.schema.extend("listItem",{allowAttributes:o.map(r=>r.attributeName)});for(const r of o)r.addCommand(t);this.listenTo(t.commands.get("indentList"),"_executeCleanup",AN(t,o)),this.listenTo(t.commands.get("outdentList"),"_executeCleanup",CN(t,o)),this.listenTo(t.commands.get("bulletedList"),"_executeCleanup",yA(t)),this.listenTo(t.commands.get("numberedList"),"_executeCleanup",yA(t)),e.document.registerPostFixer(_N(t,o)),t.conversion.for("upcast").add(kN(o)),t.conversion.for("downcast").add(wN(o)),this._mergeListAttributesWhileMergingLists(o)}afterInit(){const t=this.editor;t.commands.get("todoList")&&t.model.document.registerPostFixer(xN(t))}_mergeListAttributesWhileMergingLists(t){const n=this.editor.model;let o;this.listenTo(n,"deleteContent",(r,[s])=>{const a=s.getFirstPosition(),c=s.getLastPosition();if(a.parent===c.parent||!a.parent.is("element","listItem"))return;const l=c.parent.nextSibling;if(!l||!l.is("element","listItem"))return;const d=yo(a.parent,{sameIndent:!0,listIndent:l.getAttribute("listIndent")});d&&d.getAttribute("listType")===l.getAttribute("listType")&&(o=d)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{o&&(n.change(r=>{const s=yo(o.nextSibling,{sameIndent:!0,listIndent:o.getAttribute("listIndent"),direction:"forward"});if(!s){o=null;return}const a=[s,...Na(r.createPositionAt(s,0),"forward")];for(const c of a)for(const l of t)if(l.appliesToListItem(c)){const d=l.attributeName,u=o.getAttribute(d);r.setAttribute(d,u,c)}}),o=null)},{priority:"low"})}}function bN(i){const t=[];return i.styles&&t.push({attributeName:"listStyle",defaultValue:Pa,addCommand(e){e.commands.add("listStyle",new mN(e,Pa))},appliesToListItem(){return!0},setAttributeOnDowncast(e,n,o){n&&n!==Pa?e.setStyle("list-style-type",n,o):e.removeStyle("list-style-type",o)},getAttributeOnUpcast(e){return e.getStyle("list-style-type")||Pa}}),i.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,addCommand(e){e.commands.add("listReversed",new gN(e))},appliesToListItem(e){return e.getAttribute("listType")=="numbered"},setAttributeOnDowncast(e,n,o){n?e.setAttribute("reversed","reversed",o):e.removeAttribute("reversed",o)},getAttributeOnUpcast(e){return e.hasAttribute("reversed")}}),i.startIndex&&t.push({attributeName:"listStart",defaultValue:1,addCommand(e){e.commands.add("listStart",new fN(e))},appliesToListItem(e){return e.getAttribute("listType")=="numbered"},setAttributeOnDowncast(e,n,o){n==0||n>1?e.setAttribute("start",n,o):e.removeAttribute("start",o)},getAttributeOnUpcast(e){const n=e.getAttribute("start");return n>=0?n:1}}),t}function kN(i){return t=>{t.on("element:li",(e,n,o)=>{if(!n.modelRange)return;const r=n.viewItem.parent,s=n.modelRange.start.nodeAfter||n.modelRange.end.nodeBefore;for(const a of i)if(a.appliesToListItem(s)){const c=a.getAttributeOnUpcast(r);o.writer.setAttribute(a.attributeName,c,s)}},{priority:"low"})}}function wN(i){return e=>{for(const n of i)e.on(`attribute:${n.attributeName}:listItem`,(o,r,s)=>{const a=s.writer,c=r.item,l=yo(c.previousSibling,{sameIndent:!0,listIndent:c.getAttribute("listIndent"),direction:"backward"}),d=s.mapper.toViewElement(c);t(c,l)||a.breakContainer(a.createPositionBefore(d)),n.setAttributeOnDowncast(a,r.attributeNewValue,d.parent)},{priority:"low"})};function t(e,n){return n&&e.getAttribute("listType")===n.getAttribute("listType")&&e.getAttribute("listIndent")===n.getAttribute("listIndent")&&e.getAttribute("listStyle")===n.getAttribute("listStyle")&&e.getAttribute("listReversed")===n.getAttribute("listReversed")&&e.getAttribute("listStart")===n.getAttribute("listStart")}}function AN(i,t){return(e,n)=>{const o=n[0],r=o.getAttribute("listIndent"),s=n.filter(c=>c.getAttribute("listIndent")===r);let a=null;o.previousSibling.getAttribute("listIndent")+1!==r&&(a=yo(o.previousSibling,{sameIndent:!0,direction:"backward",listIndent:r})),i.model.change(c=>{for(const l of s)for(const d of t)if(d.appliesToListItem(l)){const u=a==null?d.defaultValue:a.getAttribute(d.attributeName);c.setAttribute(d.attributeName,u,l)}})}}function CN(i,t){return(e,n)=>{if(n=n.reverse().filter(a=>a.is("element","listItem")),!n.length)return;const o=n[0].getAttribute("listIndent"),r=n[0].getAttribute("listType");let s=n[0].previousSibling;if(s.is("element","listItem"))for(;s.getAttribute("listIndent")!==o;)s=s.previousSibling;else s=null;s||(s=n[n.length-1].nextSibling),!(!s||!s.is("element","listItem"))&&s.getAttribute("listType")===r&&i.model.change(a=>{const c=n.filter(l=>l.getAttribute("listIndent")===o);for(const l of c)for(const d of t)if(d.appliesToListItem(l)){const u=d.attributeName,m=s.getAttribute(u);a.setAttribute(u,m,l)}})}}function _N(i,t){return e=>{let n=!1;const o=xA(i.model.document.differ.getChanges()).filter(s=>s.getAttribute("listType")!=="todo");if(!o.length)return n;let r=o[o.length-1].nextSibling;if((!r||!r.is("element","listItem"))&&(r=o[0].previousSibling,r)){const s=o[0].getAttribute("listIndent");for(;r.is("element","listItem")&&r.getAttribute("listIndent")!==s&&(r=r.previousSibling,!!r););}for(const s of t){const a=s.attributeName;for(const c of o){if(!s.appliesToListItem(c)){e.removeAttribute(a,c);continue}if(!c.hasAttribute(a))vN(r,c,s)?e.setAttribute(a,r.getAttribute(a),c):e.setAttribute(a,s.defaultValue,c),n=!0;else{const l=c.previousSibling;yN(l,c,s.attributeName)&&(e.setAttribute(a,l.getAttribute(a),c),n=!0)}}}return n}}function vN(i,t,e){if(!i)return!1;const n=i.getAttribute(e.attributeName);return!(!n||n==e.defaultValue||i.getAttribute("listType")!==t.getAttribute("listType"))}function yN(i,t,e){if(!i||!i.is("element","listItem")||t.getAttribute("listType")!==i.getAttribute("listType"))return!1;const n=i.getAttribute("listIndent");if(n<1||n!==t.getAttribute("listIndent"))return!1;const o=i.getAttribute(e);return!(!o||o===t.getAttribute(e))}function xN(i){return t=>{const e=xA(i.model.document.differ.getChanges()).filter(n=>n.getAttribute("listType")==="todo"&&(n.hasAttribute("listStyle")||n.hasAttribute("listReversed")||n.hasAttribute("listStart")));if(!e.length)return!1;for(const n of e)t.removeAttribute("listStyle",n),t.removeAttribute("listReversed",n),t.removeAttribute("listStart",n);return!0}}function yA(i){return(t,e)=>{e=e.filter(n=>n.is("element","listItem")),i.model.change(n=>{for(const o of e)n.removeAttribute("listStyle",o)})}}function xA(i){const t=[];for(const e of i){const n=EN(e);n&&n.is("element","listItem")&&t.push(n)}return t}function EN(i){return i.type==="attribute"?i.range.start.nodeAfter:i.type==="insert"?i.position.nodeAfter:null}var EA=I(3195),rh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rh.insert="head",rh.singleton=!0;var H9=V()(EA.Z,rh);const U9=EA.Z.locals||{};class DN extends q{constructor(t,e){super(t);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const t=new Q(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:zl}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",n=>String(n))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",n=>!n),t.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),t}}var DA=I(7133),sh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sh.insert="head",sh.singleton=!0;var W9=V()(DA.Z,sh);const G9=DA.Z.locals||{};class TN extends q{constructor(t,{enabledProperties:e,styleButtonViews:n,styleGridAriaLabel:o}){super(t),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new zt,this.keystrokes=new jt,this.focusables=new be;const r=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new _e({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),e.styles?(this.stylesView=this._createStylesView(n,o),this.children.add(this.stylesView)):r.push("ck-list-properties_without-styles"),(e.startIndex||e.reversed)&&(this._addNumberedListPropertyViews(e),r.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:r},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const t of this.stylesView.children)this.stylesView.focusTracker.add(t.element);y({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>rt.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element),this.listenTo(this.startIndexFieldView.element,"selectstart",(e,n)=>{n.stopPropagation()},{priority:"high"});const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(t,e){const n=new q(this.locale);return n.children=n.createCollection(),n.children.addMany(t),n.setTemplate({tag:"div",attributes:{"aria-label":e,class:["ck","ck-list-styles-list"]},children:n.children}),n.children.delegate("execute").to(this),n.focus=function(){this.children.first.focus()},n.focusTracker=new zt,n.keystrokes=new jt,n.render(),n.keystrokes.listenTo(n.element),n}_addNumberedListPropertyViews(t){const e=this.locale.t,n=[];t.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),n.push(this.startIndexFieldView)),t.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),n.push(this.reversedSwitchButtonView)),t.styles?(this.additionalPropertiesCollapsibleView=new DN(this.locale,n),this.additionalPropertiesCollapsibleView.set({label:e("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(n,"isEnabled",(...o)=>o.some(r=>r)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(o,r,s)=>{s||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(n)}_createStartIndexField(){const t=this.locale.t,e=new ne(this.locale,yT);return e.set({label:t("Start at"),class:"ck-numbered-list-properties__start-index"}),e.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),e.fieldView.on("input",()=>{const n=e.fieldView.element,o=n.valueAsNumber;Number.isNaN(o)||(n.checkValidity()?this.fire("listStart",{startIndex:o}):e.errorText=t("Start index must be greater than 0."))}),e}_createReversedSwitchButton(){const t=this.locale.t,e=new er(this.locale);return e.set({withText:!0,label:t("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),e.delegate("execute").to(this,"listReversed"),e}}const SN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>',IN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>',MN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>',BN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',zN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>',NN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>',LN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>',PN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>',RN='<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>';var TA=I(4553),ah={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ah.insert="head",ah.singleton=!0;var q9=V()(TA.Z,ah);const $9=TA.Z.locals||{};class ON extends S{static get pluginName(){return"ListPropertiesUI"}init(){const t=this.editor,e=t.locale.t,n=t.config.get("list.properties");n.styles&&t.ui.componentFactory.add("bulletedList",SA({editor:t,parentCommandName:"bulletedList",buttonLabel:e("Bulleted List"),buttonIcon:vA,styleGridAriaLabel:e("Bulleted list styles toolbar"),styleDefinitions:[{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"disc",icon:SN},{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle",icon:IN},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square",icon:MN}]})),(n.styles||n.startIndex||n.reversed)&&t.ui.componentFactory.add("numberedList",SA({editor:t,parentCommandName:"numberedList",buttonLabel:e("Numbered List"),buttonIcon:_A,styleGridAriaLabel:e("Numbered list styles toolbar"),styleDefinitions:[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:BN},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:zN},{label:e("Toggle the lower\u2013roman list style"),tooltip:e("Lower\u2013roman"),type:"lower-roman",icon:NN},{label:e("Toggle the upper\u2013roman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:LN},{label:e("Toggle the lower\u2013latin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:PN},{label:e("Toggle the upper\u2013latin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:RN}]}))}}function SA({editor:i,parentCommandName:t,buttonLabel:e,buttonIcon:n,styleGridAriaLabel:o,styleDefinitions:r}){const s=i.commands.get(t);return a=>{const c=Ht(a,eo),l=c.buttonView;return c.bind("isEnabled").to(s),c.class="ck-list-styles-dropdown",l.on("execute",()=>{i.execute(t),i.editing.view.focus()}),l.set({label:e,icon:n,tooltip:!0,isToggleable:!0}),l.bind("isOn").to(s,"value",d=>!!d),c.once("change:isOpen",()=>{const d=FN({editor:i,dropdownView:c,parentCommandName:t,styleGridAriaLabel:o,styleDefinitions:r});c.panelView.children.add(d)}),c.on("execute",()=>{i.editing.view.focus()}),c}}function VN({editor:i,listStyleCommand:t,parentCommandName:e}){const n=i.locale,o=i.commands.get(e);return({label:r,type:s,icon:a,tooltip:c})=>{const l=new Q(n);return l.set({label:r,icon:a,tooltip:c}),t.on("change:value",()=>{l.isOn=t.value===s}),l.on("execute",()=>{o.value?t.value!==s?i.execute("listStyle",{type:s}):i.execute("listStyle",{type:t.defaultType}):i.model.change(()=>{i.execute("listStyle",{type:s})})}),l}}function FN({editor:i,dropdownView:t,parentCommandName:e,styleDefinitions:n,styleGridAriaLabel:o}){const r=i.locale,s=i.config.get("list.properties");let a=null;if(e!="numberedList"&&(s.startIndex=!1,s.reversed=!1),s.styles){const l=i.commands.get("listStyle"),d=VN({editor:i,parentCommandName:e,listStyleCommand:l}),u=typeof l.isStyleTypeSupported=="function"?m=>l.isStyleTypeSupported(m.type):()=>!0;a=n.filter(u).map(d)}const c=new TN(r,{styleGridAriaLabel:o,enabledProperties:s,styleButtonViews:a});if(s.styles&&ma(t,()=>c.stylesView.children.find(l=>l.isOn)),s.startIndex){const l=i.commands.get("listStart");c.startIndexFieldView.bind("isEnabled").to(l),c.startIndexFieldView.fieldView.bind("value").to(l),c.on("listStart",(d,u)=>i.execute("listStart",u))}if(s.reversed){const l=i.commands.get("listReversed");c.reversedSwitchButtonView.bind("isEnabled").to(l),c.reversedSwitchButtonView.bind("isOn").to(l,"value",d=>!!d),c.on("listReversed",()=>{const d=l.value;i.execute("listReversed",{reversed:!d})})}return c.delegate("execute").to(t),c}class jN extends S{static get requires(){return[pN,ON]}static get pluginName(){return"ListProperties"}}function IA(i,t){const e=(n,o,r)=>{if(!r.consumable.consume(o.item,n.name))return;const s=o.attributeNewValue,a=r.writer,c=r.mapper.toViewElement(o.item),l=[...c.getChildren()].find(u=>u.getCustomProperty("media-content"));a.remove(l);const d=i.getMediaViewElement(a,s,t);a.insert(a.createPositionAt(c,0),d)};return n=>{n.on("attribute:url:media",e)}}function HN(i,t,e){return t.setCustomProperty("media",!0,i),yr(i,t,{label:e})}function K9(i){const t=i.getSelectedElement();return t&&UN(t)?t:null}function UN(i){return!!i.getCustomProperty("media")&&isWidget(i)}function MA(i,t,e,n){return i.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(i,e,n),i.createSlot()])}function BA(i){const t=i.getSelectedElement();return t&&t.is("element","media")?t:null}function zA(i,t,e,n){i.change(o=>{const r=o.createElement("media",{url:t});i.insertObject(r,e,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class WN extends Y{refresh(){const t=this.editor.model,e=t.document.selection,n=BA(e);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=qN(e)||GN(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,o=BA(n);o?e.change(r=>{r.setAttribute("url",t,o)}):zA(e,t,n,!0)}}function GN(i,t){let n=ou(i,t).start.parent;return n.isEmpty&&!t.schema.isLimit(n)&&(n=n.parent),t.schema.checkChild(n,"media")}function qN(i){const t=i.getSelectedElement();return!!t&&t.name==="media"}const $N='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',KN="0 0 64 42";class YN{constructor(t,e){const n=e.providers,o=e.extraProviders||[],r=new Set(e.removeProviders),s=n.concat(o).filter(a=>{const c=a.name;return c?!r.has(c):(_t("media-embed-no-provider-name",{provider:a}),!1)});this.locale=t,this.providerDefinitions=s}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new NA(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,o=Vt(e.url);for(const r of o){const s=this._getUrlMatches(t,r);if(s)return new NA(this.locale,t,s,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let o=t.replace(/^https?:\/\//,"");return n=o.match(e),n||(o=o.replace(/^www\./,""),n=o.match(e),n)?n:null}}class NA{constructor(t,e,n,o){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=o}getViewElement(t,e){const n={};let o;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const r=this._getPreviewHtml(e);o=t.createRawElement("div",n,(s,a)=>{a.setContentOf(s,r)})}else this.url&&(n.url=this.url),o=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,o),o}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new hi,e=this._locale.t;return t.content=$N,t.viewBox=KN,new ye({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var LA=I(952),ch={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ch.insert="head",ch.singleton=!0;var Y9=V()(LA.Z,ch);const Z9=LA.Z.locals||{};class Ra extends S{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const n=e[1],o=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${o?`?start=${o}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new YN(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion,r=t.config.get("mediaEmbed.previewsInData"),s=t.config.get("mediaEmbed.elementName"),a=this.registry;t.commands.add("mediaEmbed",new WN(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),o.for("dataDowncast").elementToStructure({model:"media",view:(c,{writer:l})=>{const d=c.getAttribute("url");return MA(l,a,d,{elementName:s,renderMediaPreview:!!d&&r})}}),o.for("dataDowncast").add(IA(a,{elementName:s,renderMediaPreview:r})),o.for("editingDowncast").elementToStructure({model:"media",view:(c,{writer:l})=>{const d=c.getAttribute("url"),u=MA(l,a,d,{elementName:s,renderForEditingView:!0});return HN(u,l,n("media widget"))}}),o.for("editingDowncast").add(IA(a,{elementName:s,renderForEditingView:!0})),o.for("upcast").elementToElement({view:c=>["oembed",s].includes(c.name)&&c.getAttribute("url")?{name:!0}:null,model:(c,{writer:l})=>{const d=c.getAttribute("url");return a.hasMedia(d)?l.createElement("media",{url:d}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(c,{writer:l})=>{const d=c.getAttribute("data-oembed-url");return a.hasMedia(d)?l.createElement("media",{url:d}):null}}).add(c=>{const l=(d,u,m)=>{if(!m.consumable.consume(u.viewItem,{name:!0,classes:"media"}))return;const{modelRange:b,modelCursor:A}=m.convertChildren(u.viewItem,u.modelCursor);u.modelRange=b,u.modelCursor=A,Pt(b.getItems())||m.consumable.revert(u.viewItem,{name:!0,classes:"media"})};c.on("element:figure",l)})}}const ZN=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class QN extends S{static get requires(){return[wk,Sn,xk]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document,n=t.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const r=e.selection.getFirstRange(),s=he.fromPosition(r.start);s.stickiness="toPrevious";const a=he.fromPosition(r.end);a.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(s,a),s.detach(),a.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(rt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,o=n.plugins.get(Ra).registry,r=new en(t,e),s=r.getWalker({ignoreElementEnd:!0});let a="";for(const l of s)l.item.is("$textProxy")&&(a+=l.item.data);if(a=a.trim(),!a.match(ZN)){r.detach();return}if(!o.hasMedia(a)){r.detach();return}if(!n.commands.get("mediaEmbed").isEnabled){r.detach();return}this._positionToInsert=he.fromPosition(t),this._timeoutId=rt.window.setTimeout(()=>{n.model.change(l=>{this._timeoutId=null,l.remove(r),r.detach();let d=null;this._positionToInsert.root.rootName!=="$graveyard"&&(d=this._positionToInsert),zA(n.model,a,d,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Sn).requestUndoOnBackspace()},100)}}var PA=I(3525),lh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};lh.insert="head",lh.singleton=!0;var Q9=V()(PA.Z,lh);const J9=PA.Z.locals||{};class JN extends q{constructor(t,e){super(e);const n=e.t;this.focusTracker=new zt,this.keystrokes=new jt,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),J.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",o=>!!o),this.cancelButtonView=this._createButton(n("Cancel"),J.cancel,"ck-button-cancel","cancel"),this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element);const e=n=>n.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(n,o)=>{o.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new ne(this.locale,We),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),e}_createButton(t,e,n,o){const r=new Q(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:n}}),o&&r.delegate("execute").to(this,o),r}}const XN='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class tL extends S{static get requires(){return[Ra]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",n=>{const o=Ht(n);return this._setUpDropdown(o,e),o})}_setUpDropdown(t,e){const n=this.editor,o=n.t,r=t.buttonView,s=n.plugins.get(Ra).registry;t.once("change:isOpen",()=>{const a=new(k(JN))(eL(n.t,s),n.locale);t.panelView.children.add(a),r.on("open",()=>{a.disableCssTransitions(),a.url=e.value||"",a.urlInputView.fieldView.select(),a.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{a.isValid()&&(n.execute("mediaEmbed",a.url),n.editing.view.focus())}),t.on("change:isOpen",()=>a.resetFormStatus()),t.on("cancel",()=>{n.editing.view.focus()}),a.delegate("submit","cancel").to(t),a.urlInputView.fieldView.bind("value").to(e,"value"),a.urlInputView.bind("isEnabled").to(e,"isEnabled")}),t.bind("isEnabled").to(e),r.set({label:o("Insert media"),icon:XN,tooltip:!0})}}function eL(i,t){return[e=>{if(!e.url.length)return i("The URL must not be empty.")},e=>{if(!t.hasMedia(e.url))return i("This media URL is not supported.")}]}var RA=I(5777),dh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dh.insert="head",dh.singleton=!0;var X9=V()(RA.Z,dh);const tF=RA.Z.locals||{};class nL extends S{static get requires(){return[Ra,tL,QN,Ei]}static get pluginName(){return"MediaEmbed"}}class iL extends Y{refresh(){const t=this.editor.model,e=t.document;this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"mention")}execute(t){const e=this.editor.model,o=e.document.selection,r=typeof t.mention=="string"?{id:t.mention}:t.mention,s=r.id,a=t.range||o.getFirstRange(),c=t.text||s,l=OA({_text:c,id:s},r);if(t.marker.length!=1)throw new v("mentioncommand-incorrect-marker",this);if(s.charAt(0)!=t.marker)throw new v("mentioncommand-incorrect-id",this);e.change(d=>{const u=cn(o.getAttributes()),m=new Map(u.entries());m.set("mention",l),e.insertContent(d.createText(c,m),a),e.insertContent(d.createText(" ",u),a.start.getShiftedBy(c.length))})}}class oL extends S{static get pluginName(){return"MentionEditing"}init(){const t=this.editor,e=t.model,n=e.document;e.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:o=>VA(o)}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:sL}),t.conversion.for("downcast").add(rL),n.registerPostFixer(o=>lL(o,n,e.schema)),n.registerPostFixer(o=>dL(o,n)),n.registerPostFixer(o=>aL(o,n)),t.commands.add("mention",new iL(t))}}function OA(i,t){return Object.assign({uid:oe()},i,t||{})}function VA(i,t){const e=i.getAttribute("data-mention"),n=i.getChild(0);if(!n)return;const o={id:e,_text:n.data};return OA(o,t)}function rL(i){i.on("attribute:mention",(t,e,n)=>{const o=e.attributeNewValue;if(!e.item.is("$textProxy")||!o)return;const r=e.range.start;(r.textNode||r.nodeAfter).data!=o._text&&n.consumable.consume(e.item,t.name)},{priority:"highest"})}function sL(i,{writer:t}){if(!i)return;const e={class:"mention","data-mention":i.id},n={id:i.uid,priority:20};return t.createAttributeElement("span",e,n)}function aL(i,t){const e=t.selection,n=e.focus;return e.isCollapsed&&e.hasAttribute("mention")&&cL(n)?(i.removeSelectionAttribute("mention"),!0):!1}function cL(i){const t=i.isAtStart;return i.nodeBefore&&i.nodeBefore.is("$text")||t}function lL(i,t,e){const n=t.differ.getChanges();let o=!1;for(const r of n){if(r.type=="attribute")continue;const s=r.position;if(r.name=="$text"){const a=s.textNode&&s.textNode.nextSibling;o=Di(s.textNode,i)||o,o=Di(a,i)||o,o=Di(s.nodeBefore,i)||o,o=Di(s.nodeAfter,i)||o}if(r.name!="$text"&&r.type=="insert"){const a=s.nodeAfter;for(const c of i.createRangeIn(a).getItems())o=Di(c,i)||o}if(r.type=="insert"&&e.isInline(r.name)){const a=s.nodeAfter&&s.nodeAfter.nextSibling;o=Di(s.nodeBefore,i)||o,o=Di(a,i)||o}}return o}function dL(i,t){const e=t.differ.getChanges();let n=!1;for(const o of e)if(o.type==="attribute"&&o.attributeKey!="mention"){const r=o.range.start.nodeBefore,s=o.range.end.nodeAfter;for(const a of[r,s])FA(a)&&a.getAttribute(o.attributeKey)!=o.attributeNewValue&&(i.setAttribute(o.attributeKey,o.attributeNewValue,a),n=!0)}return n}function FA(i){if(!i||!(i.is("$text")||i.is("$textProxy"))||!i.hasAttribute("mention"))return!1;const t=i.data,n=i.getAttribute("mention")._text;return t!=n}function Di(i,t){return FA(i)?(t.removeAttribute("mention",i),!0):!1}var jA=I(6391),uh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};uh.insert="head",uh.singleton=!0;var eF=V()(jA.Z,uh);const nF=jA.Z.locals||{};class uL extends qp{constructor(t){super(t),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const t=this.selected,e=this.items.getIndex(t);this.select(e+1)}selectPrevious(){const t=this.selected,e=this.items.getIndex(t);this.select(e-1)}select(t){let e=0;t>0&&t<this.items.length?e=t:t<0&&(e=this.items.length-1);const n=this.items.get(e);this.selected!==n&&(this.selected&&this.selected.removeHighlight(),n.highlight(),this.selected=n,this._isItemVisibleInScrolledArea(n)||(this.element.scrollTop=n.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(t){return new ft(this.element).contains(new ft(t.element))}}class hL extends q{constructor(t,e){super(t),this.template=void 0,this.domElement=e,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(n,o,r)=>{r?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}}class mL extends Ed{highlight(){const t=this.children.first;t.isOn=!0}removeHighlight(){const t=this.children.first;t.isOn=!1}}const Oa=3,gL=[lt.arrowup,lt.arrowdown,lt.esc],fL=[lt.enter,lt.tab];class pL extends S{static get pluginName(){return"MentionUI"}static get requires(){return[fn]}constructor(t){super(t),this._items=new Ft,this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=yn(this._requestFeed,100),t.config.define("mention",{feeds:[]})}init(){const t=this.editor,e=t.config.get("mention.commitKeys")||fL,n=gL.concat(e);this._balloon=t.plugins.get(fn),t.editing.view.document.on("keydown",(s,a)=>{r(a.keyCode)&&this._isUIVisible&&(a.preventDefault(),s.stop(),a.keyCode==lt.arrowdown&&this._mentionsView.selectNext(),a.keyCode==lt.arrowup&&this._mentionsView.selectPrevious(),e.includes(a.keyCode)&&this._mentionsView.executeSelected(),a.keyCode==lt.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),w({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const o=t.config.get("mention.feeds");for(const s of o){const{feed:a,marker:c,dropdownLimit:l}=s;if(!vL(c))throw new v("mentionconfig-incorrect-marker",null,{marker:c});const d=typeof a=="function"?a.bind(this.editor):AL(a),u=s.itemRenderer,m={marker:c,feedCallback:d,itemRenderer:u,dropdownLimit:l};this._mentionsConfigurations.set(c,m)}this._setupTextWatcher(o),this.listenTo(t,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(s,a)=>this._handleFeedResponse(a)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker());function r(s){return n.includes(s)}}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const t=this.editor.locale,e=new uL(t);return e.items.bindTo(this._items).using(n=>{const{item:o,marker:r}=n,{dropdownLimit:s}=this._mentionsConfigurations.get(r),a=s||this.editor.config.get("mention.dropdownLimit")||10;if(e.items.length>=a)return null;const c=new mL(t),l=this._renderItem(o,r);return l.delegate("execute").to(c),c.children.add(l),c.item=o,c.marker=r,c.on("execute",()=>{e.fire("execute",{item:o,marker:r})}),c}),e.on("execute",(n,o)=>{const r=this.editor,s=r.model,a=o.item,c=o.marker,l=r.model.markers.get("mention"),d=s.createPositionAt(s.document.selection.focus),u=s.createPositionAt(l.getStart()),m=s.createRange(u,d);this._hideUIAndRemoveMarker(),r.execute("mention",{mention:a,text:a.text,marker:c,range:m}),r.editing.view.focus()}),e}_getItemRenderer(t){const{itemRenderer:e}=this._mentionsConfigurations.get(t);return e}_requestFeed(t,e){this._lastRequested=e;const{feedCallback:n}=this._mentionsConfigurations.get(t),o=n(e);if(!(o instanceof Promise)){this.fire("requestFeed:response",{feed:o,marker:t,feedText:e});return}o.then(s=>{this._lastRequested==e?this.fire("requestFeed:response",{feed:s,marker:t,feedText:e}):this.fire("requestFeed:discarded",{feed:s,marker:t,feedText:e})}).catch(s=>{this.fire("requestFeed:error",{error:s}),_t("mention-feed-callback-error",{marker:t})})}_setupTextWatcher(t){const e=this.editor,n=t.map(s=>ie(U({},s),{pattern:UA(s.marker,s.minimumCharacters||0)})),o=new $d(e.model,kL(n));o.on("matched",(s,a)=>{const c=HA(n,a.text),d=e.model.document.selection.focus,u=e.model.createPositionAt(d.parent,c.position);if(CL(d)||_L(u)){this._hideUIAndRemoveMarker();return}const m=wL(c,a.text),b=c.marker.length+m.length,A=d.getShiftedBy(-b),T=d.getShiftedBy(-m.length),B=e.model.createRange(A,T);if(hh(e)){const L=e.model.markers.get("mention");e.model.change(j=>{j.updateMarker(L,{range:B})})}else e.model.change(L=>{L.addMarker("mention",{range:B,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(c.marker,m)}),o.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const r=e.commands.get("mention");return o.bind("isEnabled").to(r),o}_handleFeedResponse(t){const{feed:e,marker:n}=t;if(!hh(this.editor))return;this._items.clear();for(const r of e){const s=typeof r!="object"?{id:r,text:r}:r;this._items.add({item:s,marker:n})}const o=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(o):this._hideUIAndRemoveMarker()}_showOrUpdateUI(t){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(t,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(t,this._mentionsView.position),singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),hh(this.editor)&&this.editor.model.change(t=>t.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(t,e){const n=this.editor;let o,r=t.id;const s=this._getItemRenderer(e);if(s){const a=s(t);typeof a!="string"?o=new hL(n.locale,a):r=a}if(!o){const a=new Q(n.locale);a.label=r,a.withText=!0,o=a}return o}_getBalloonPanelPositionData(t,e){const n=this.editor,o=n.editing,r=o.view.domConverter,s=o.mapper,a=n.locale.uiLanguageDirection;return{target:()=>{let c=t.getRange();c.start.root.rootName=="$graveyard"&&(c=n.model.document.selection.getFirstRange());const l=s.toViewRange(c);return ft.getDomRangeRects(r.viewRangeToDom(l)).pop()},limiter:()=>{const c=this.editor.editing.view,d=c.document.selection.editableElement;return d?c.domConverter.mapViewToDom(d.root):null},positions:bL(e,a)}}}function bL(i,t){const e={caret_se:n=>({top:n.bottom+Oa,left:n.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(n,o)=>({top:n.top-o.height-Oa,left:n.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(n,o)=>({top:n.bottom+Oa,left:n.right-o.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(n,o)=>({top:n.top-o.height-Oa,left:n.right-o.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(e,i)?[e[i]]:t!=="rtl"?[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw]:[e.caret_sw,e.caret_se,e.caret_nw,e.caret_ne]}function HA(i,t){let e;for(const n of i){const o=t.lastIndexOf(n.marker);o>0&&!t.substring(o-1).match(n.pattern)||(!e||o>=e.position)&&(e={marker:n.marker,position:o,minimumCharacters:n.minimumCharacters,pattern:n.pattern})}return e}function UA(i,t){const e=t==0?"*":`{${t},}`,r=`(?:^|[ ${p.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`}])([${i}])(.${e})$`;return new RegExp(r,"u")}function kL(i){return e=>{const n=HA(i,e);if(!n)return!1;let o=0;n.position!==0&&(o=n.position-1);const r=e.substring(o);return n.pattern.test(r)}}function wL(i,t){let e=0;i.position!==0&&(e=i.position-1);const n=UA(i.marker,0);return t.substring(e).match(n)[2]}function AL(i){return t=>i.filter(n=>(typeof n=="string"?n:String(n.id)).toLowerCase().includes(t.toLowerCase()))}function CL(i){const t=i.textNode&&i.textNode.hasAttribute("mention"),e=i.nodeBefore;return t||e&&e.is("$text")&&e.hasAttribute("mention")}function _L(i){const t=i.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}function vL(i){return i&&i.length==1}function hh(i){return i.model.markers.has("mention")}var WA=I(7583),mh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};mh.insert="head",mh.singleton=!0;var iF=V()(WA.Z,mh);const oF=WA.Z.locals||{};class yL extends S{toMentionAttribute(t,e){return VA(t,e)}static get pluginName(){return"Mention"}static get requires(){return[oL,pL]}}function xL(i,t){for(const e of i.getChildren())if(e.is("element","b")&&e.getStyle("font-weight")==="normal"){const n=i.getChildIndex(e);t.remove(e),t.insertChild(n,e.getChildren(),i)}}function EL(i,t){const e=new Ys(t.document.stylesProcessor),n=new Xs(e,{renderingMode:"data"}),o=n.blockElements,r=n.inlineObjectElements,s=[];for(const a of t.createRangeIn(i)){const c=a.item;if(c.is("element","br")){const l=GA(c,"forward",t,{blockElements:o,inlineObjectElements:r}),d=GA(c,"backward",t,{blockElements:o,inlineObjectElements:r}),u=qA(l,o);(qA(d,o)||u)&&s.push(c)}}for(const a of s)a.hasClass("Apple-interchange-newline")?t.remove(a):t.replace(a,t.createElement("p"))}function GA(i,t,e,{blockElements:n,inlineObjectElements:o}){let r=e.createPositionAt(i,t=="forward"?"after":"before");return r=r.getLastMatchingPosition(({item:s})=>s.is("element")&&!n.includes(s.name)&&!o.includes(s.name),{direction:t}),t=="forward"?r.nodeAfter:r.nodeBefore}function qA(i,t){return!!i&&i.is("element")&&t.includes(i.name)}function DL(i,t){if(!i.childCount)return;const e=new vi(i.document),n=SL(i,e);if(!n.length)return;let o=null,r=1;n.forEach((s,a)=>{const c=RL(n[a-1],s),l=c?null:n[a-1],d=VL(l,s);if(c&&(o=null,r=1),!o||d!==0){const m=IL(s,t);if(!o)o=$A(m,s.element,e);else if(s.indent>r){const b=o.getChild(o.childCount-1),A=b.getChild(b.childCount-1);o=$A(m,A,e),r+=1}else if(s.indent<r){const b=r-s.indent;o=FL(o,b),r=s.indent}s.indent<=r&&(o.is("element",m.type)||(o=e.rename(m.type,o)))}const u=NL(s.element,e);e.appendChild(u,o)})}function TL(i,t){for(const e of t.createRangeIn(i)){const n=e.item;if(n.is("element","li")){const o=n.getChild(0);o&&o.is("element","p")&&t.unwrapElement(o)}}}function SL(i,t){const e=t.createRangeIn(i),n=new Fe({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const r of e)if(r.type==="elementStart"&&n.match(r.item)){const s=LL(r.item);o.push({element:r.item,id:s.id,order:s.order,indent:s.indent})}return o}function IL(i,t){const e=new RegExp(`@list l${i.id}:level${i.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,o=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,r=e.exec(t);let s="decimal",a="ol",c=null;if(r&&r[1]){const l=n.exec(r[1]);if(l&&l[1]&&(s=l[1].trim(),a=s!=="bullet"&&s!=="image"?"ol":"ul"),s==="bullet"){const d=ML(i.element);d&&(s=d)}else{const d=o.exec(r[1]);d&&d[1]&&(c=parseInt(d[1]))}}return{type:a,startIndex:c,style:zL(s)}}function ML(i){const t=BL(i);if(!t)return null;const e=t._data;return e==="o"?"circle":e==="\xB7"?"disc":e==="\xA7"?"square":null}function BL(i){if(i.getChild(0).is("$text"))return null;for(const t of i.getChildren()){if(!t.is("element","span"))continue;const e=t.getChild(0);if(e)return e.is("$text")?e:e.getChild(0)}return null}function zL(i){if(i.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(i){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return i;default:return null}}function $A(i,t,e){const n=t.parent,o=e.createElement(i.type),r=n.getChildIndex(t)+1;return e.insertChild(r,o,n),i.style&&e.setStyle("list-style-type",i.style,o),i.startIndex&&i.startIndex>1&&e.setAttribute("start",i.startIndex,o),o}function NL(i,t){return PL(i,t),t.rename("li",i)}function LL(i){const t={},e=i.getStyle("mso-list");if(e){const n=e.match(/(^|\s{1,100})l(\d+)/i),o=e.match(/\s{0,100}lfo(\d+)/i),r=e.match(/\s{0,100}level(\d+)/i);n&&o&&r&&(t.id=n[2],t.order=o[1],t.indent=parseInt(r[1]))}return t}function PL(i,t){const e=new Fe({name:"span",styles:{"mso-list":"Ignore"}}),n=t.createRangeIn(i);for(const o of n)o.type==="elementStart"&&e.match(o.item)&&t.remove(o.item)}function RL(i,t){if(!i)return!0;if(i.id!==t.id)return t.indent-i.indent!==1;const e=t.element.previousSibling;return e?!OL(e):!0}function OL(i){return i.is("element","ol")||i.is("element","ul")}function VL(i,t){return i?t.indent-i.indent:t.indent-1}function FL(i,t){const e=i.getAncestors({parentFirst:!0});let n=null,o=0;for(const r of e)if((r.is("element","ul")||r.is("element","ol"))&&o++,o===t){n=r;break}return n}const jL=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class HL{constructor(t){this.document=t}isActive(t){return jL.test(t)}execute(t){const e=new vi(this.document),{body:n}=t._parsedData;xL(n,e),TL(n,e),EL(n,e),t.content=n}}function UL(i,t){if(!i.childCount)return;const e=new vi(i.document),n=GL(i,e);qL(n,i,e),KL(n,i,e),$L(i,e);const o=YL(i,e);o.length&&QL(o,ZL(t),e)}function WL(i){return btoa(i.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}function GL(i,t){const e=t.createRangeIn(i),n=new Fe({name:/v:(.+)/}),o=[];for(const r of e){if(r.type!="elementStart")continue;const s=r.item,a=s.previousSibling,c=a&&a.is("element")?a.name:null;n.match(s)&&s.getAttribute("o:gfxdata")&&c!=="v:shapetype"&&o.push(r.item.getAttribute("id"))}return o}function qL(i,t,e){const n=e.createRangeIn(t),o=new Fe({name:"img"}),r=[];for(const s of n)if(s.item.is("element")&&o.match(s.item)){const a=s.item,c=a.getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[];c.length&&c.every(l=>i.indexOf(l)>-1)?r.push(a):a.getAttribute("src")||r.push(a)}for(const s of r)e.remove(s)}function $L(i,t){const e=t.createRangeIn(i),n=new Fe({name:/v:(.+)/}),o=[];for(const r of e)r.type=="elementStart"&&n.match(r.item)&&o.push(r.item);for(const r of o)t.remove(r)}function KL(i,t,e){const n=e.createRangeIn(t),o=[];for(const a of n)if(a.type=="elementStart"&&a.item.is("element","v:shape")){const c=a.item.getAttribute("id");if(i.includes(c))continue;r(a.item.parent.getChildren(),c)||o.push(a.item)}for(const a of o){const c={src:s(a)};a.hasAttribute("alt")&&(c.alt=a.getAttribute("alt"));const l=e.createElement("img",c);e.insertChild(a.index+1,l,a.parent)}function r(a,c){for(const l of a)if(l.is("element")&&(l.name=="img"&&l.getAttribute("v:shapes")==c||r(l.getChildren(),c)))return!0;return!1}function s(a){for(const c of a.getChildren())if(c.is("element")&&c.getAttribute("src"))return c.getAttribute("src")}}function YL(i,t){const e=t.createRangeIn(i),n=new Fe({name:"img"}),o=[];for(const r of e)r.item.is("element")&&n.match(r.item)&&r.item.getAttribute("src").startsWith("file://")&&o.push(r.item);return o}function ZL(i){if(!i)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,e=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),n=i.match(e),o=[];if(n)for(const r of n){let s=!1;r.includes("\\pngblip")?s="image/png":r.includes("\\jpegblip")&&(s="image/jpeg"),s&&o.push({hex:r.replace(t,"").replace(/[^\da-fA-F]/g,""),type:s})}return o}function QL(i,t,e){if(i.length===t.length)for(let n=0;n<i.length;n++){const o=`data:${t[n].type};base64,${WL(t[n].hex)}`;e.setAttribute("src",o,i[n])}}const JL=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,XL=/xmlns:o="urn:schemas-microsoft-com/i;class tP{constructor(t){this.document=t}isActive(t){return JL.test(t)||XL.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;DL(e,n),UL(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function eP(i){return KA(KA(i)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function nP(i){i.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t,n=e.innerText.length||0;e.innerText=Array(n+1).join("\xA0 ").substr(0,n)})}function KA(i){return i.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length))}function iP(i,t){const e=new DOMParser;i=i.replace(/<!--\[if gte vml 1]>/g,"");const n=eP(sP(i)),o=e.parseFromString(n,"text/html");nP(o);const r=o.body.innerHTML,s=oP(o,t),a=rP(o);return{body:s,bodyString:r,styles:a.styles,stylesString:a.stylesString}}function oP(i,t){const e=new Ys(t),n=new Xs(e,{renderingMode:"data"}),o=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)o.appendChild(r[0]);return n.domToView(o,{skipComments:!0})}function rP(i){const t=[],e=[],n=Array.from(i.getElementsByTagName("style"));for(const o of n)o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),e.push(o.innerHTML));return{styles:t,stylesString:e.join(" ")}}function sP(i){const t="</body>",e="</html>",n=i.indexOf(t);if(n<0)return i;const o=i.indexOf(e,n+t.length);return i.substring(0,n+t.length)+(o>=0?i.substring(o):"")}class aP extends S{static get pluginName(){return"PasteFromOffice"}static get requires(){return[pn]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),n=t.editing.view.document,o=[];o.push(new tP(n)),o.push(new HL(n)),e.on("inputTransformation",(r,s)=>{if(s._isTransformedWithPasteFromOffice||t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const c=s.dataTransfer.getData("text/html"),l=o.find(d=>d.isActive(c));l&&(s._parsedData=iP(c,n.stylesProcessor),l.execute(s),s._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}const cP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',gh="removeFormat";class lP extends S{static get pluginName(){return"RemoveFormatUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(gh,n=>{const o=t.commands.get(gh),r=new Q(n);return r.set({label:e("Remove Format"),icon:cP,tooltip:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(gh),t.editing.view.focus()}),r})}}class dP extends Y{refresh(){const t=this.editor.model;this.isEnabled=!!Pt(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(n=>{for(const o of this._getFormattingItems(t.document.selection,e))if(o.is("selection"))for(const r of this._getFormattingAttributes(o,e))n.removeSelectionAttribute(r);else{const r=n.createRangeOn(o);for(const s of this._getFormattingAttributes(o,e))n.removeAttribute(s,r)}})}*_getFormattingItems(t,e){const n=o=>!!Pt(this._getFormattingAttributes(o,e));for(const o of t.getRanges())for(const r of o.getItems())!e.isBlock(r)&&n(r)&&(yield r);for(const o of t.getSelectedBlocks())n(o)&&(yield o);n(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[n]of t.getAttributes()){const o=e.getAttributeProperties(n);o&&o.isFormatting&&(yield n)}}}class uP extends S{static get pluginName(){return"RemoveFormatEditing"}init(){const t=this.editor;t.commands.add("removeFormat",new dP(t))}}class hP extends S{static get requires(){return[uP,lP]}static get pluginName(){return"RemoveFormat"}}function mP(i){const t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"br",isVoid:!0},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"input",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"textarea",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],e=t.map(r=>r.name).join("|"),n=i.replace(new RegExp(`</?(${e})( .*?)?>`,"g"),`
$&
`).split(`
`);let o=0;return n.filter(r=>r.length).map(r=>gP(r,t)?fh(r,o++):fP(r,t)?fh(r,--o):fh(r,o)).join(`
`)}function gP(i,t){return t.some(e=>!(e.isVoid||!new RegExp(`<${e.name}( .*?)?>`).test(i)))}function fP(i,t){return t.some(e=>new RegExp(`</${e.name}>`).test(i))}function fh(i,t,e="    "){return`${e.repeat(Math.max(0,t))}${i}`}var YA=I(671),ph={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ph.insert="head",ph.singleton=!0;var rF=V()(YA.Z,ph);const sF=YA.Z.locals||{},pP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>',ZA="SourceEditingMode";class bP extends S{static get pluginName(){return"SourceEditing"}static get requires(){return[ha]}constructor(t){super(t),this.set("isSourceEditingMode",!1),this._elementReplacer=new qr,this._replacedRoots=new Map,this._dataFromRoots=new Map}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("sourceEditing",n=>{const o=new Q(n);return o.set({label:e("Source"),icon:pP,tooltip:!0,withText:!0,class:"ck-source-editing-button"}),o.bind("isOn").to(this,"isSourceEditingMode"),o.bind("isEnabled").to(this,"isEnabled",t,"isReadOnly",t.plugins.get(ha),"hasAny",(r,s,a)=>!(!r||s||a)),this.listenTo(o,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),o}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(n,o,r)=>{r?(this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(n,o,r)=>this._handleReadOnlyMode(!r)),this.listenTo(t,"change:isReadOnly",(n,o,r)=>this._handleReadOnlyMode(r))),t.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}afterInit(){const t=this.editor;["RealTimeCollaborativeEditing","CommentsEditing","TrackChangesEditing","RevisionHistory"].some(n=>t.plugins.has(n))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),t.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}updateEditorData(){const t=this.editor,e={};for(const[n,o]of this._replacedRoots){const r=this._dataFromRoots.get(n),s=o.dataset.value;r!==s&&(e[n]=s)}Object.keys(e).length&&t.data.set(e,{batchType:{isUndoable:!0}})}_showSourceEditing(){const t=this.editor,e=t.editing.view,n=t.model;n.change(o=>{o.setSelection(null),o.removeSelectionAttribute(n.document.selection.getAttributeKeys())});for(const[o,r]of e.domRoots){const s=kP(t.data.get({rootName:o})),a=Fi(r.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),c=Fi(r.ownerDocument,"div",{class:"ck-source-editing-area","data-value":s},[a]);a.value=s,a.setSelectionRange(0,0),a.addEventListener("input",()=>{c.dataset.value=a.value}),e.change(l=>{const d=e.document.getRoot(o);l.addClass("ck-hidden",d)}),t.ui.setEditableElement("sourceEditing:"+o,a),this._replacedRoots.set(o,c),this._elementReplacer.replace(r,c),this._dataFromRoots.set(o,s)}this._focusSourceEditing()}_hideSourceEditing(){const e=this.editor.editing.view;this.updateEditorData(),e.change(n=>{for(const[o]of this._replacedRoots)n.removeClass("ck-hidden",e.document.getRoot(o))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),e.focus()}_focusSourceEditing(){const t=this.editor,[e]=this._replacedRoots.values(),n=e.querySelector("textarea");t.editing.view.document.isFocused=!1,n.focus()}_disableCommands(){const t=this.editor;for(const e of t.commands.commands())e.forceDisabled(ZA)}_enableCommands(){const t=this.editor;for(const e of t.commands.commands())e.clearForceDisabled(ZA)}_handleReadOnlyMode(t){if(this.isSourceEditingMode)for(const[,e]of this._replacedRoots)e.querySelector("textarea").readOnly=t}_isAllowedToHandleSourceEditingMode(){const e=this.editor.ui.view.editable;return e&&!e.hasExternalElement}}function kP(i){return wP(i)?mP(i):i}function wP(i){return i.startsWith("<")}class AP extends ga{constructor(t,e){super(t);const n=t.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(e),this.groupDropdownView.panelPosition=t.uiLanguageDirection==="rtl"?"se":"sw",this.label=n("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(t){const e=this.locale,n=e.t,o=Ht(e),r=this._getCharacterGroupListItemDefinitions(o,t);return o.set("value",r.first.model.name),o.buttonView.bind("label").to(o,"value",s=>t.get(s)),o.buttonView.set({isOn:!1,withText:!0,tooltip:n("Character categories"),class:["ck-dropdown__button_label-width_auto"]}),o.on("execute",s=>{o.value=s.source.name}),o.delegate("execute").to(this),Dn(o,r),o}_getCharacterGroupListItemDefinitions(t,e){const n=new Ft;for(const[o,r]of e){const s=new Tn({name:o,label:r,withText:!0});s.bind("isOn").to(t,"value",a=>a===s.name),n.add({type:"button",model:s})}return n}}var QA=I(4046),bh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};bh.insert="head",bh.singleton=!0;var aF=V()(QA.Z,bh);const cF=QA.Z.locals||{};class CP extends q{constructor(t){super(t),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new zt,this.keystrokes=new jt,y({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>rt.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(t,e){const n=new Q(this.locale);return n.set({label:t,withText:!0,class:"ck-character-grid__tile"}),n.extendTemplate({attributes:{title:e},on:{mouseover:n.bindTemplate.to("mouseover"),focus:n.bindTemplate.to("focus")}}),n.on("mouseover",()=>{this.fire("tileHover",{name:e,character:t})}),n.on("focus",()=>{this.fire("tileFocus",{name:e,character:t})}),n.on("execute",()=>{this.fire("execute",{name:e,character:t})}),n}render(){super.render();for(const t of this.tiles)this.focusTracker.add(t.element);this.tiles.on("change",(t,{added:e,removed:n})=>{if(e.length>0)for(const o of e)this.focusTracker.add(o.element);if(n.length>0)for(const o of n)this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var JA=I(4779),kh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};kh.insert="head",kh.singleton=!0;var lF=V()(JA.Z,kh);const dF=JA.Z.locals||{};class _P extends q{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",vP),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",n=>n||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function vP(i){return i===null?"":"U+"+("0000"+i.codePointAt(0).toString(16)).slice(-4)}class yP extends q{constructor(t,e,n,o){super(t),this.navigationView=e,this.gridView=n,this.infoView=o,this.items=this.createCollection(),this.focusTracker=new zt,this.keystrokes=new jt,this._focusCycler=new _e({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}const xP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';var XA=I(8170),wh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};wh.insert="head",wh.singleton=!0;var uF=V()(XA.Z,wh);const hF=XA.Z.locals||{},Ah="All";class EP extends S{static get requires(){return[zb]}static get pluginName(){return"SpecialCharacters"}constructor(t){super(t);const e=t.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=e("All")}init(){const t=this.editor,e=t.t,n=t.commands.get("insertText");t.ui.componentFactory.add("specialCharacters",o=>{const r=Ht(o);let s;return r.buttonView.set({label:e("Special characters"),icon:xP,tooltip:!0}),r.bind("isEnabled").to(n),r.on("execute",(a,c)=>{t.execute("insertText",{text:c.character}),t.editing.view.focus()}),r.on("change:isOpen",()=>{if(!s){s=this._createDropdownPanelContent(o,r);const a=new yP(o,s.navigationView,s.gridView,s.infoView);r.panelView.children.add(a)}s.infoView.set({character:null,name:null})}),r})}addItems(t,e,n={label:t}){if(t===Ah)throw new v("special-character-invalid-group-name",null);const o=this._getGroup(t,n.label);for(const r of e)o.items.add(r.title),this._characters.set(r.title,r.character)}getGroups(){const t=Array.from(this._groups.keys()),e=this.editor.config.get("specialCharacters.order")||[],n=e.find(o=>!t.includes(o));if(n)throw new v("special-character-invalid-order-group-name",null,{invalidGroup:n});return new Set([...e,...t])}getCharactersForGroup(t){if(t===Ah)return new Set(this._characters.keys());const e=this._groups.get(t);if(e)return e.items}getCharacter(t){return this._characters.get(t)}_getGroup(t,e){return this._groups.has(t)||this._groups.set(t,{items:new Set,label:e}),this._groups.get(t)}_updateGrid(t,e){e.tiles.clear();const n=this.getCharactersForGroup(t);for(const o of n){const r=this.getCharacter(o);e.tiles.add(e.createTile(r,o))}}_createDropdownPanelContent(t,e){const n=Array.from(this.getGroups()).map(c=>[c,this._groups.get(c).label]),o=new Map([[Ah,this._allSpecialCharactersGroupLabel],...n]),r=new AP(t,o),s=new CP(t),a=new _P(t);return s.delegate("execute").to(e),s.on("tileHover",(c,l)=>{a.set(l)}),s.on("tileFocus",(c,l)=>{a.set(l)}),r.on("execute",()=>{this._updateGrid(r.currentGroupName,s)}),this._updateGrid(r.currentGroupName,s),{navigationView:r,gridView:s,infoView:a}}}class tC extends S{static get pluginName(){return"SpecialCharactersArrows"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:"\u2190"},{title:e("rightwards simple arrow"),character:"\u2192"},{title:e("upwards simple arrow"),character:"\u2191"},{title:e("downwards simple arrow"),character:"\u2193"},{title:e("leftwards double arrow"),character:"\u21D0"},{title:e("rightwards double arrow"),character:"\u21D2"},{title:e("upwards double arrow"),character:"\u21D1"},{title:e("downwards double arrow"),character:"\u21D3"},{title:e("leftwards dashed arrow"),character:"\u21E0"},{title:e("rightwards dashed arrow"),character:"\u21E2"},{title:e("upwards dashed arrow"),character:"\u21E1"},{title:e("downwards dashed arrow"),character:"\u21E3"},{title:e("leftwards arrow to bar"),character:"\u21E4"},{title:e("rightwards arrow to bar"),character:"\u21E5"},{title:e("upwards arrow to bar"),character:"\u2912"},{title:e("downwards arrow to bar"),character:"\u2913"},{title:e("up down arrow with base"),character:"\u21A8"},{title:e("back with leftwards arrow above"),character:"\u{1F519}"},{title:e("end with leftwards arrow above"),character:"\u{1F51A}"},{title:e("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:e("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:e("top with upwards arrow above"),character:"\u{1F51D}"}],{label:e("Arrows")})}}class eC extends S{static get pluginName(){return"SpecialCharactersCurrency"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"\u20AC",title:e("Euro sign")},{character:"\xA5",title:e("Yen sign")},{character:"\xA3",title:e("Pound sign")},{character:"\xA2",title:e("Cent sign")},{character:"\u20A0",title:e("Euro-currency sign")},{character:"\u20A1",title:e("Colon sign")},{character:"\u20A2",title:e("Cruzeiro sign")},{character:"\u20A3",title:e("French franc sign")},{character:"\u20A4",title:e("Lira sign")},{character:"\xA4",title:e("Currency sign")},{character:"\u20BF",title:e("Bitcoin sign")},{character:"\u20A5",title:e("Mill sign")},{character:"\u20A6",title:e("Naira sign")},{character:"\u20A7",title:e("Peseta sign")},{character:"\u20A8",title:e("Rupee sign")},{character:"\u20A9",title:e("Won sign")},{character:"\u20AA",title:e("New sheqel sign")},{character:"\u20AB",title:e("Dong sign")},{character:"\u20AD",title:e("Kip sign")},{character:"\u20AE",title:e("Tugrik sign")},{character:"\u20AF",title:e("Drachma sign")},{character:"\u20B0",title:e("German penny sign")},{character:"\u20B1",title:e("Peso sign")},{character:"\u20B2",title:e("Guarani sign")},{character:"\u20B3",title:e("Austral sign")},{character:"\u20B4",title:e("Hryvnia sign")},{character:"\u20B5",title:e("Cedi sign")},{character:"\u20B6",title:e("Livre tournois sign")},{character:"\u20B7",title:e("Spesmilo sign")},{character:"\u20B8",title:e("Tenge sign")},{character:"\u20B9",title:e("Indian rupee sign")},{character:"\u20BA",title:e("Turkish lira sign")},{character:"\u20BB",title:e("Nordic mark sign")},{character:"\u20BC",title:e("Manat sign")},{character:"\u20BD",title:e("Ruble sign")}],{label:e("Currency")})}}class DP extends S{static get pluginName(){return"SpecialCharactersMathematical"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"\u2264",title:e("Less-than or equal to")},{character:"\u2265",title:e("Greater-than or equal to")},{character:"\u2013",title:e("En dash")},{character:"\u2014",title:e("Em dash")},{character:"\xAF",title:e("Macron")},{character:"\u203E",title:e("Overline")},{character:"\xB0",title:e("Degree sign")},{character:"\u2212",title:e("Minus sign")},{character:"\xB1",title:e("Plus-minus sign")},{character:"\xF7",title:e("Division sign")},{character:"\u2044",title:e("Fraction slash")},{character:"\xD7",title:e("Multiplication sign")},{character:"\u0192",title:e("Latin small letter f with hook")},{character:"\u222B",title:e("Integral")},{character:"\u2211",title:e("N-ary summation")},{character:"\u221E",title:e("Infinity")},{character:"\u221A",title:e("Square root")},{character:"\u223C",title:e("Tilde operator")},{character:"\u2245",title:e("Approximately equal to")},{character:"\u2248",title:e("Almost equal to")},{character:"\u2260",title:e("Not equal to")},{character:"\u2261",title:e("Identical to")},{character:"\u2208",title:e("Element of")},{character:"\u2209",title:e("Not an element of")},{character:"\u220B",title:e("Contains as member")},{character:"\u220F",title:e("N-ary product")},{character:"\u2227",title:e("Logical and")},{character:"\u2228",title:e("Logical or")},{character:"\xAC",title:e("Not sign")},{character:"\u2229",title:e("Intersection")},{character:"\u222A",title:e("Union")},{character:"\u2202",title:e("Partial differential")},{character:"\u2200",title:e("For all")},{character:"\u2203",title:e("There exists")},{character:"\u2205",title:e("Empty set")},{character:"\u2207",title:e("Nabla")},{character:"\u2217",title:e("Asterisk operator")},{character:"\u221D",title:e("Proportional to")},{character:"\u2220",title:e("Angle")},{character:"\xBC",title:e("Vulgar fraction one quarter")},{character:"\xBD",title:e("Vulgar fraction one half")},{character:"\xBE",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class TP extends S{static get pluginName(){return"SpecialCharactersLatin"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:e("Latin capital letter a with macron")},{character:"\u0101",title:e("Latin small letter a with macron")},{character:"\u0102",title:e("Latin capital letter a with breve")},{character:"\u0103",title:e("Latin small letter a with breve")},{character:"\u0104",title:e("Latin capital letter a with ogonek")},{character:"\u0105",title:e("Latin small letter a with ogonek")},{character:"\u0106",title:e("Latin capital letter c with acute")},{character:"\u0107",title:e("Latin small letter c with acute")},{character:"\u0108",title:e("Latin capital letter c with circumflex")},{character:"\u0109",title:e("Latin small letter c with circumflex")},{character:"\u010A",title:e("Latin capital letter c with dot above")},{character:"\u010B",title:e("Latin small letter c with dot above")},{character:"\u010C",title:e("Latin capital letter c with caron")},{character:"\u010D",title:e("Latin small letter c with caron")},{character:"\u010E",title:e("Latin capital letter d with caron")},{character:"\u010F",title:e("Latin small letter d with caron")},{character:"\u0110",title:e("Latin capital letter d with stroke")},{character:"\u0111",title:e("Latin small letter d with stroke")},{character:"\u0112",title:e("Latin capital letter e with macron")},{character:"\u0113",title:e("Latin small letter e with macron")},{character:"\u0114",title:e("Latin capital letter e with breve")},{character:"\u0115",title:e("Latin small letter e with breve")},{character:"\u0116",title:e("Latin capital letter e with dot above")},{character:"\u0117",title:e("Latin small letter e with dot above")},{character:"\u0118",title:e("Latin capital letter e with ogonek")},{character:"\u0119",title:e("Latin small letter e with ogonek")},{character:"\u011A",title:e("Latin capital letter e with caron")},{character:"\u011B",title:e("Latin small letter e with caron")},{character:"\u011C",title:e("Latin capital letter g with circumflex")},{character:"\u011D",title:e("Latin small letter g with circumflex")},{character:"\u011E",title:e("Latin capital letter g with breve")},{character:"\u011F",title:e("Latin small letter g with breve")},{character:"\u0120",title:e("Latin capital letter g with dot above")},{character:"\u0121",title:e("Latin small letter g with dot above")},{character:"\u0122",title:e("Latin capital letter g with cedilla")},{character:"\u0123",title:e("Latin small letter g with cedilla")},{character:"\u0124",title:e("Latin capital letter h with circumflex")},{character:"\u0125",title:e("Latin small letter h with circumflex")},{character:"\u0126",title:e("Latin capital letter h with stroke")},{character:"\u0127",title:e("Latin small letter h with stroke")},{character:"\u0128",title:e("Latin capital letter i with tilde")},{character:"\u0129",title:e("Latin small letter i with tilde")},{character:"\u012A",title:e("Latin capital letter i with macron")},{character:"\u012B",title:e("Latin small letter i with macron")},{character:"\u012C",title:e("Latin capital letter i with breve")},{character:"\u012D",title:e("Latin small letter i with breve")},{character:"\u012E",title:e("Latin capital letter i with ogonek")},{character:"\u012F",title:e("Latin small letter i with ogonek")},{character:"\u0130",title:e("Latin capital letter i with dot above")},{character:"\u0131",title:e("Latin small letter dotless i")},{character:"\u0132",title:e("Latin capital ligature ij")},{character:"\u0133",title:e("Latin small ligature ij")},{character:"\u0134",title:e("Latin capital letter j with circumflex")},{character:"\u0135",title:e("Latin small letter j with circumflex")},{character:"\u0136",title:e("Latin capital letter k with cedilla")},{character:"\u0137",title:e("Latin small letter k with cedilla")},{character:"\u0138",title:e("Latin small letter kra")},{character:"\u0139",title:e("Latin capital letter l with acute")},{character:"\u013A",title:e("Latin small letter l with acute")},{character:"\u013B",title:e("Latin capital letter l with cedilla")},{character:"\u013C",title:e("Latin small letter l with cedilla")},{character:"\u013D",title:e("Latin capital letter l with caron")},{character:"\u013E",title:e("Latin small letter l with caron")},{character:"\u013F",title:e("Latin capital letter l with middle dot")},{character:"\u0140",title:e("Latin small letter l with middle dot")},{character:"\u0141",title:e("Latin capital letter l with stroke")},{character:"\u0142",title:e("Latin small letter l with stroke")},{character:"\u0143",title:e("Latin capital letter n with acute")},{character:"\u0144",title:e("Latin small letter n with acute")},{character:"\u0145",title:e("Latin capital letter n with cedilla")},{character:"\u0146",title:e("Latin small letter n with cedilla")},{character:"\u0147",title:e("Latin capital letter n with caron")},{character:"\u0148",title:e("Latin small letter n with caron")},{character:"\u0149",title:e("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:e("Latin capital letter eng")},{character:"\u014B",title:e("Latin small letter eng")},{character:"\u014C",title:e("Latin capital letter o with macron")},{character:"\u014D",title:e("Latin small letter o with macron")},{character:"\u014E",title:e("Latin capital letter o with breve")},{character:"\u014F",title:e("Latin small letter o with breve")},{character:"\u0150",title:e("Latin capital letter o with double acute")},{character:"\u0151",title:e("Latin small letter o with double acute")},{character:"\u0152",title:e("Latin capital ligature oe")},{character:"\u0153",title:e("Latin small ligature oe")},{character:"\u0154",title:e("Latin capital letter r with acute")},{character:"\u0155",title:e("Latin small letter r with acute")},{character:"\u0156",title:e("Latin capital letter r with cedilla")},{character:"\u0157",title:e("Latin small letter r with cedilla")},{character:"\u0158",title:e("Latin capital letter r with caron")},{character:"\u0159",title:e("Latin small letter r with caron")},{character:"\u015A",title:e("Latin capital letter s with acute")},{character:"\u015B",title:e("Latin small letter s with acute")},{character:"\u015C",title:e("Latin capital letter s with circumflex")},{character:"\u015D",title:e("Latin small letter s with circumflex")},{character:"\u015E",title:e("Latin capital letter s with cedilla")},{character:"\u015F",title:e("Latin small letter s with cedilla")},{character:"\u0160",title:e("Latin capital letter s with caron")},{character:"\u0161",title:e("Latin small letter s with caron")},{character:"\u0162",title:e("Latin capital letter t with cedilla")},{character:"\u0163",title:e("Latin small letter t with cedilla")},{character:"\u0164",title:e("Latin capital letter t with caron")},{character:"\u0165",title:e("Latin small letter t with caron")},{character:"\u0166",title:e("Latin capital letter t with stroke")},{character:"\u0167",title:e("Latin small letter t with stroke")},{character:"\u0168",title:e("Latin capital letter u with tilde")},{character:"\u0169",title:e("Latin small letter u with tilde")},{character:"\u016A",title:e("Latin capital letter u with macron")},{character:"\u016B",title:e("Latin small letter u with macron")},{character:"\u016C",title:e("Latin capital letter u with breve")},{character:"\u016D",title:e("Latin small letter u with breve")},{character:"\u016E",title:e("Latin capital letter u with ring above")},{character:"\u016F",title:e("Latin small letter u with ring above")},{character:"\u0170",title:e("Latin capital letter u with double acute")},{character:"\u0171",title:e("Latin small letter u with double acute")},{character:"\u0172",title:e("Latin capital letter u with ogonek")},{character:"\u0173",title:e("Latin small letter u with ogonek")},{character:"\u0174",title:e("Latin capital letter w with circumflex")},{character:"\u0175",title:e("Latin small letter w with circumflex")},{character:"\u0176",title:e("Latin capital letter y with circumflex")},{character:"\u0177",title:e("Latin small letter y with circumflex")},{character:"\u0178",title:e("Latin capital letter y with diaeresis")},{character:"\u0179",title:e("Latin capital letter z with acute")},{character:"\u017A",title:e("Latin small letter z with acute")},{character:"\u017B",title:e("Latin capital letter z with dot above")},{character:"\u017C",title:e("Latin small letter z with dot above")},{character:"\u017D",title:e("Latin capital letter z with caron")},{character:"\u017E",title:e("Latin small letter z with caron")},{character:"\u017F",title:e("Latin small letter long s")}],{label:e("Latin")})}}class SP extends S{static get pluginName(){return"SpecialCharactersText"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:e("Single left-pointing angle quotation mark")},{character:"\u203A",title:e("Single right-pointing angle quotation mark")},{character:"\xAB",title:e("Left-pointing double angle quotation mark")},{character:"\xBB",title:e("Right-pointing double angle quotation mark")},{character:"\u2018",title:e("Left single quotation mark")},{character:"\u2019",title:e("Right single quotation mark")},{character:"\u201C",title:e("Left double quotation mark")},{character:"\u201D",title:e("Right double quotation mark")},{character:"\u201A",title:e("Single low-9 quotation mark")},{character:"\u201E",title:e("Double low-9 quotation mark")},{character:"\xA1",title:e("Inverted exclamation mark")},{character:"\xBF",title:e("Inverted question mark")},{character:"\u2025",title:e("Two dot leader")},{character:"\u2026",title:e("Horizontal ellipsis")},{character:"\u2021",title:e("Double dagger")},{character:"\u2030",title:e("Per mille sign")},{character:"\u2031",title:e("Per ten thousand sign")},{character:"\u203C",title:e("Double exclamation mark")},{character:"\u2048",title:e("Question exclamation mark")},{character:"\u2049",title:e("Exclamation question mark")},{character:"\u2047",title:e("Double question mark")},{character:"\xA9",title:e("Copyright sign")},{character:"\xAE",title:e("Registered sign")},{character:"\u2122",title:e("Trade mark sign")},{character:"\xA7",title:e("Section sign")},{character:"\xB6",title:e("Paragraph sign")},{character:"\u204B",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class IP extends S{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[eC,SP,DP,tC,TP]}}const Tr="strikethrough";class MP extends S{static get pluginName(){return"StrikethroughEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Tr}),t.model.schema.setAttributeProperties(Tr,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Tr,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(Tr,new bo(t,Tr)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const BP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',Ch="strikethrough";class zP extends S{static get pluginName(){return"StrikethroughUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ch,n=>{const o=t.commands.get(Ch),r=new Q(n);return r.set({label:e("Strikethrough"),icon:BP,keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(Ch),t.editing.view.focus()}),r})}}class NP extends S{static get requires(){return[MP,zP]}static get pluginName(){return"Strikethrough"}}const LP=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class PP extends Q{constructor(t,e){super(t),this.styleDefinition=e,this.previewView=this._createPreview(),this.set({label:e.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const{element:t,classes:e}=this.styleDefinition,n=new q(this.locale);return n.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[{tag:this._isPreviewable(t)?t:"div",attributes:{class:e},children:[{text:"AaBbCcDdEeFfGgHhIiJj"}]}]}),n}_isPreviewable(t){return!LP.includes(t)}}var nC=I(3875),_h={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_h.insert="head",_h.singleton=!0;var mF=V()(nC.Z,_h);const gF=nC.Z.locals||{};class RP extends q{constructor(t,e){super(t),this.focusTracker=new zt,this.keystrokes=new jt,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const n of e){const o=new PP(t,n);this.children.add(o)}this.on("change:activeStyles",()=>{for(const n of this.children)n.isOn=this.activeStyles.includes(n.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const n of this.children)n.isEnabled=this.enabledStyles.includes(n.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element);y({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var iC=I(9545),vh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};vh.insert="head",vh.singleton=!0;var fF=V()(iC.Z,vh);const pF=iC.Z.locals||{};class oC extends q{constructor(t,e,n){super(t),this.labelView=new Ue(t),this.labelView.text=e,this.gridView=new RP(t,n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}var rC=I(6746),yh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yh.insert="head",yh.singleton=!0;var bF=V()(rC.Z,yh);const kF=rC.Z.locals||{};class OP extends q{constructor(t,e){super(t);const n=t.t;this.focusTracker=new zt,this.keystrokes=new jt,this.children=this.createCollection(),this.blockStylesGroupView=new oC(t,n("Block styles"),e.block),this.inlineStylesGroupView=new oC(t,n("Text styles"),e.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),e.block.length&&this.children.add(this.blockStylesGroupView),e.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class sC extends S{static get pluginName(){return"StyleUtils"}normalizeConfig(t,e=[]){const n={block:[],inline:[]};for(const o of e){const r=[],s=[];for(const a of t.getDefinitionsForView(o.element))a.isBlock?r.push(a.model):s.push(a.model);r.length?n.block.push(ie(U({},o),{modelElements:r,isBlock:!0})):n.inline.push(ie(U({},o),{ghsAttributes:s}))}return n}}var aC=I(2844),xh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xh.insert="head",xh.singleton=!0;var wF=V()(aC.Z,xh);const AF=aC.Z.locals||{};class VP extends S{static get pluginName(){return"StyleUI"}static get requires(){return[sC]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),n=t.plugins.get("StyleUtils"),o=t.config.get("style.definitions"),r=n.normalizeConfig(e,o);t.ui.componentFactory.add("style",s=>{const a=s.t,c=Ht(s),l=t.commands.get("style");return c.once("change:isOpen",()=>{const d=new OP(s,r);c.panelView.children.add(d),d.delegate("execute").to(c),d.bind("activeStyles").to(l,"value"),d.bind("enabledStyles").to(l,"enabledStyles")}),c.bind("isEnabled").to(l),c.buttonView.withText=!0,c.buttonView.bind("label").to(l,"value",d=>d.length>1?a("Multiple styles"):d.length===1?d[0]:a("Styles")),c.bind("class").to(l,"value",d=>{const u=["ck-style-dropdown"];return d.length>1&&u.push("ck-style-dropdown_multiple-active"),u.join(" ")}),c.on("execute",d=>{t.execute("style",{styleName:d.source.styleDefinition.name}),t.editing.view.focus()}),c})}}class FP extends Y{constructor(t,e){super(t),this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=e}refresh(){const t=this.editor.model,e=t.document.selection,n=new Set,o=new Set;for(const s of this._styleDefinitions.inline)for(const a of s.ghsAttributes){t.schema.checkAttributeInSelection(e,a)&&o.add(s.name);const c=this._getValueFromFirstAllowedNode(a);cC(c,s.classes)&&n.add(s.name)}const r=Pt(e.getSelectedBlocks());if(r){const s=r.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of s){if(t.schema.isLimit(a))break;if(t.schema.checkAttribute(a,"htmlAttributes"))for(const c of this._styleDefinitions.block){if(!c.modelElements.includes(a.name))continue;o.add(c.name);const l=a.getAttribute("htmlAttributes");cC(l,c.classes)&&n.add(c.name)}}}this.enabledStyles=Array.from(o).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(n).sort():[]}execute({styleName:t,forceValue:e}){if(!this.enabledStyles.includes(t)){_t("style-command-executed-with-incorrect-style-name");return}const n=this.editor.model,o=n.document.selection,r=this.editor.plugins.get("GeneralHtmlSupport"),s=[...this._styleDefinitions.inline,...this._styleDefinitions.block].find(({name:c})=>c==t),a=e===void 0?!this.value.includes(s.name):e;n.change(()=>{let c;HP(s)?c=jP(o.getSelectedBlocks(),s.modelElements,n.schema):c=[o];for(const l of c)a?r.addModelHtmlClass(s.element,s.classes,l):r.removeModelHtmlClass(s.element,s.classes,l)})}_getValueFromFirstAllowedNode(t){const e=this.editor.model,n=e.schema,o=e.document.selection;if(o.isCollapsed)return o.getAttribute(t);for(const r of o.getRanges())for(const s of r.getItems())if(n.checkAttribute(s,t))return s.getAttribute(t);return null}}function cC(i,t){return vt(i)&&UP(i)&&t.every(e=>i.classes.includes(e))}function jP(i,t,e){const n=new Set;for(const o of i){const r=o.getAncestors({includeSelf:!0,parentFirst:!0});for(const s of r){if(e.isLimit(s))break;if(t.includes(s.name)){n.add(s);break}}}return n}function HP(i){return"isBlock"in i}function UP(i){return!!i.classes&&Array.isArray(i.classes)}class WP extends S{static get pluginName(){return"StyleEditing"}static get requires(){return["GeneralHtmlSupport",sC]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),n=t.plugins.get("StyleUtils"),o=t.config.get("style.definitions"),r=n.normalizeConfig(e,o);t.commands.add("style",new FP(t,r)),this._configureGHSDataFilter(r)}_configureGHSDataFilter({block:t,inline:e}){const n=this.editor.plugins.get("DataFilter");n.loadAllowedConfig(t.map(lC)),n.loadAllowedConfig(e.map(lC))}}function lC({element:i,classes:t}){return{name:i,classes:t}}class GP extends S{static get pluginName(){return"Style"}static get requires(){return[WP,VP]}}const Sr="subscript";class qP extends S{static get pluginName(){return"SubscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Sr}),t.model.schema.setAttributeProperties(Sr,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Sr,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(Sr,new bo(t,Sr))}}const $P='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',Eh="subscript";class KP extends S{static get pluginName(){return"SubscriptUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Eh,n=>{const o=t.commands.get(Eh),r=new Q(n);return r.set({label:e("Subscript"),icon:$P,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(Eh),t.editing.view.focus()}),r})}}class YP extends S{static get requires(){return[qP,KP]}static get pluginName(){return"Subscript"}}const Ir="superscript";class ZP extends S{static get pluginName(){return"SuperscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Ir}),t.model.schema.setAttributeProperties(Ir,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ir,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(Ir,new bo(t,Ir))}}const QP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',Dh="superscript";class JP extends S{static get pluginName(){return"SuperscriptUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Dh,n=>{const o=t.commands.get(Dh),r=new Q(n);return r.set({label:e("Superscript"),icon:QP,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(Dh),t.editing.view.focus()}),r})}}class XP extends S{static get requires(){return[ZP,JP]}static get pluginName(){return"Superscript"}}function Th(i,t){const{modelAttribute:e,styleName:n,viewElement:o,defaultValue:r,reduceBoxSides:s=!1,shouldUpcast:a=()=>!0}=t;i.for("upcast").attributeToAttribute({view:{name:o,styles:{[n]:/[\s\S]+/}},model:{key:e,value:c=>{if(!a(c))return;const l=c.getNormalizedStyle(n),d=s?Fa(l):l;if(r!==d)return d}}})}function Sh(i,t,e,n){i.for("upcast").add(o=>o.on("element:"+t,(r,s,a)=>{if(!s.modelRange)return;const c=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(b=>s.viewItem.hasStyle(b));if(!c.length)return;const l={styles:c};if(!a.consumable.test(s.viewItem,l))return;const d=[...s.modelRange.getItems({shallow:!0})].pop();a.consumable.consume(s.viewItem,l);const u={style:s.viewItem.getNormalizedStyle("border-style"),color:s.viewItem.getNormalizedStyle("border-color"),width:s.viewItem.getNormalizedStyle("border-width")},m={style:Fa(u.style),color:Fa(u.color),width:Fa(u.width)};m.style!==n.style&&a.writer.setAttribute(e.style,m.style,d),m.color!==n.color&&a.writer.setAttribute(e.color,m.color,d),m.width!==n.width&&a.writer.setAttribute(e.width,m.width,d)}))}function Mr(i,t){const{modelElement:e,modelAttribute:n,styleName:o}=t;i.for("downcast").attributeToAttribute({model:{name:e,key:n},view:r=>({key:"style",value:{[o]:r}})})}function Va(i,t){const{modelAttribute:e,styleName:n}=t;i.for("downcast").add(o=>o.on(`attribute:${e}:table`,(r,s,a)=>{const{item:c,attributeNewValue:l}=s,{mapper:d,writer:u}=a;if(!a.consumable.consume(s.item,r.name))return;const m=[...d.toViewElement(c).getChildren()].find(b=>b.is("element","table"));l?u.setStyle(n,l,m):u.removeStyle(n,m)}))}function Fa(i){if(!i)return;const t=["top","right","bottom","left"];if(!t.every(r=>i[r]))return i;const n=i.top;return t.every(r=>i[r]===n)?n:i}function Kt(i,t,e,n,o=1){t!=null&&o!==void 0&&o!==null&&t>o?n.setAttribute(i,t,e):n.removeAttribute(i,e)}function Ti(i,t,e={}){const n=i.createElement("tableCell",e);return i.insertElement("paragraph",n),i.insert(n,t),n}function Ih(i,t){const e=t.parent.parent,n=parseInt(e.getAttribute("headingColumns")||"0"),{column:o}=i.getCellLocation(t);return!!n&&o<n}function ja(i,t,e){const{modelAttribute:n}=e;i.extend("tableCell",{allowAttributes:[n]}),Th(t,U({viewElement:/^(td|th)$/},e)),Mr(t,U({modelElement:"tableCell"},e))}function t8(){return i=>{i.on("element:figure",(t,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const o=i8(e.viewItem);if(!o||!n.consumable.test(o,{name:!0}))return;n.consumable.consume(e.viewItem,{name:!0,classes:"table"});const r=n.convertItem(o,e.modelCursor),s=Pt(r.modelRange.getItems());if(!s){n.consumable.revert(e.viewItem,{name:!0,classes:"table"});return}n.convertChildren(e.viewItem,n.writer.createPositionAt(s,"end")),n.updateConversionResult(s,e)})}}function e8(){return i=>{i.on("element:table",(t,e,n)=>{const o=e.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:r,headingRows:s,headingColumns:a}=o8(o),c={};a&&(c.headingColumns=a),s&&(c.headingRows=s);const l=n.writer.createElement("table",c);if(n.safeInsert(l,e.modelCursor)){if(n.consumable.consume(o,{name:!0}),r.forEach(d=>n.convertItem(d,n.writer.createPositionAt(l,"end"))),n.convertChildren(o,n.writer.createPositionAt(l,"end")),l.isEmpty){const d=n.writer.createElement("tableRow");n.writer.insert(d,n.writer.createPositionAt(l,"end")),Ti(n.writer,n.writer.createPositionAt(d,"end"))}n.updateConversionResult(l,e)}})}}function n8(){return i=>{i.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&e.modelCursor.index==0&&t.stop()},{priority:"high"})}}function dC(i){return t=>{t.on(`element:${i}`,(e,n,{writer:o})=>{if(!n.modelRange)return;const r=n.modelRange.start.nodeAfter,s=o.createPositionAt(r,0);if(n.viewItem.isEmpty){o.insertElement("paragraph",s);return}const a=Array.from(r.getChildren());if(a.every(c=>c.is("element","$marker"))){const c=o.createElement("paragraph");o.insert(c,o.createPositionAt(r,0));for(const l of a)o.move(o.createRangeOn(l),o.createPositionAt(c,"end"))}},{priority:"low"})}}function i8(i){for(const t of i.getChildren())if(t.is("element","table"))return t}function o8(i){let t=0,e;const n=[],o=[];let r;for(const s of Array.from(i.getChildren())){if(s.name!=="tbody"&&s.name!=="thead"&&s.name!=="tfoot")continue;s.name==="thead"&&!r&&(r=s);const a=Array.from(s.getChildren()).filter(c=>c.is("element","tr"));for(const c of a)if(r&&s===r||s.name==="tbody"&&Array.from(c.getChildren()).length&&Array.from(c.getChildren()).every(l=>l.is("element","th")))t++,n.push(c);else{o.push(c);const l=r8(c);(!e||l<e)&&(e=l)}}return{headingRows:t,headingColumns:e||0,rows:[...n,...o]}}function r8(i){let t=0,e=0;const n=Array.from(i.getChildren()).filter(o=>o.name==="th"||o.name==="td");for(;e<n.length&&n[e].name==="th";){const o=n[e],r=parseInt(o.getAttribute("colspan")||"1");t=t+r,e++}return t}class At{constructor(t,e={}){this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const o=t.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const r=parseInt(o.getAttribute("colspan")||"1"),s=parseInt(o.getAttribute("rowspan")||"1");(r>1||s>1)&&this._recordSpans(o,s,r),this._shouldSkipSlot()||(e=this._formatOutValue(o)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new s8(this,t,e,n)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,o=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||n||o}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const o={cell:t,row:this._row,column:this._column};for(let r=this._row;r<this._row+e;r++)for(let s=this._column;s<this._column+n;s++)(r!=this._row||s!=this._column)&&this._markSpannedCell(r,s,o)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}class s8{constructor(t,e,n,o){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=o,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function uC(i,t){return(e,{writer:n})=>{const o=e.getAttribute("headingRows")||0,r=n.createContainerElement("table",null,[]),s=n.createContainerElement("figure",{class:"table"},r);o>0&&n.insert(n.createPositionAt(r,"end"),n.createContainerElement("thead",null,n.createSlot(a=>a.is("element","tableRow")&&a.index<o))),o<i.getRows(e)&&n.insert(n.createPositionAt(r,"end"),n.createContainerElement("tbody",null,n.createSlot(a=>a.is("element","tableRow")&&a.index>=o)));for(const{positionOffset:a,filter:c}of t.additionalSlots)n.insert(n.createPositionAt(r,a),n.createSlot(c));return n.insert(n.createPositionAt(r,"after"),n.createSlot(a=>a.is("element","tableRow")?!1:!t.additionalSlots.some(({filter:c})=>c(a)))),t.asWidget?c8(s,n):s}}function a8(){return(i,{writer:t})=>i.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}function hC(i={}){return(t,{writer:e})=>{const n=t.parent,o=n.parent,r=o.getChildIndex(n),s=new At(o,{row:r}),a=o.getAttribute("headingRows")||0,c=o.getAttribute("headingColumns")||0;let l=null;for(const d of s)if(d.cell==t){const m=d.row<a||d.column<c?"th":"td";l=i.asWidget?iu(e.createEditableElement(m),e):e.createContainerElement(m);break}return l}}function mC(i={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!gC(t))return null;if(i.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function gC(i){return i.parent.childCount==1&&!l8(i)}function c8(i,t){return t.setCustomProperty("table",!0,i),yr(i,t,{hasSelectionHandle:!0})}function l8(i){return!i.getAttributeKeys().next().done}class d8 extends Y{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=u8(e,n)}execute(t={}){const e=this.editor,n=e.model,o=e.plugins.get("TableUtils"),r=e.config.get("table.defaultHeadings.rows"),s=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&r&&(t.headingRows=r),t.headingColumns===void 0&&s&&(t.headingColumns=s),n.change(a=>{const c=o.createTable(a,t);n.insertObject(c,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(c.getNodeByPath([0,0,0]),0))})}}function u8(i,t){const e=i.getFirstPosition().parent,n=e===e.root?e:e.parent;return t.checkChild(n,"table")}class fC extends Y{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=n}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o=this.order==="above",r=n.getSelectionAffectedTableCells(e),s=n.getRowIndexes(r),a=o?s.first:s.last,c=r[0].findAncestor("table");n.insertRows(c,{at:o?a:a+1,copyStructureFromAbove:!o})}}class pC extends Y{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=n}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o=this.order==="left",r=n.getSelectionAffectedTableCells(e),s=n.getColumnIndexes(r),a=o?s.first:s.last,c=r[0].findAncestor("table");n.insertColumns(c,{columns:1,at:o?a:a+1})}}class bC extends Y{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function kC(i,t,e){const{startRow:n,startColumn:o,endRow:r,endColumn:s}=t,a=e.createElement("table"),c=r-n+1;for(let d=0;d<c;d++)e.insertElement("tableRow",a,"end");const l=[...new At(i,{startRow:n,endRow:r,startColumn:o,endColumn:s,includeAllSlots:!0})];for(const{row:d,column:u,cell:m,isAnchor:b,cellAnchorRow:A,cellAnchorColumn:T}of l){const B=d-n,L=a.getChild(B);if(!b)(A<n||T<o)&&Ti(e,e.createPositionAt(L,"end"));else{const j=e.cloneElement(m);e.append(j,L),vC(j,d,u,r,s,e)}}return h8(a,i,n,o,e),a}function wC(i,t,e=0){const n=[],o=new At(i,{startRow:e,endRow:t-1});for(const r of o){const{row:s,cellHeight:a}=r,c=s+a-1;s<t&&t<=c&&n.push(r)}return n}function AC(i,t,e){const n=i.parent,o=n.parent,r=n.index,s=parseInt(i.getAttribute("rowspan")),a=t-r,c={},l=s-a;l>1&&(c.rowspan=l);const d=parseInt(i.getAttribute("colspan")||"1");d>1&&(c.colspan=d);const u=r,m=u+a,b=[...new At(o,{startRow:u,endRow:m,includeAllSlots:!0})];let A=null,T;for(const B of b){const{row:L,column:j,cell:dt}=B;dt===i&&T===void 0&&(T=j),T!==void 0&&T===j&&L===m&&(A=Ti(e,B.getPositionBefore(),c))}return Kt("rowspan",a,i,e),A}function CC(i,t){const e=[],n=new At(i);for(const o of n){const{column:r,cellWidth:s}=o,a=r+s-1;r<t&&t<=a&&e.push(o)}return e}function _C(i,t,e,n){const o=parseInt(i.getAttribute("colspan")),r=e-t,s={},a=o-r;a>1&&(s.colspan=a);const c=parseInt(i.getAttribute("rowspan")||"1");c>1&&(s.rowspan=c);const l=Ti(n,n.createPositionAfter(i),s);return Kt("colspan",r,i,n),l}function vC(i,t,e,n,o,r){const s=parseInt(i.getAttribute("colspan")||"1"),a=parseInt(i.getAttribute("rowspan")||"1");if(e+s-1>o){const d=o-e+1;Kt("colspan",d,i,r,1)}if(t+a-1>n){const d=n-t+1;Kt("rowspan",d,i,r,1)}}function h8(i,t,e,n,o){const r=parseInt(t.getAttribute("headingRows")||"0");if(r>0){const a=r-e;Kt("headingRows",a,i,o,0)}const s=parseInt(t.getAttribute("headingColumns")||"0");if(s>0){const a=s-n;Kt("headingColumns",a,i,o,0)}}function Mh(i,t){const e=t.getColumns(i),n=new Array(e).fill(0);for(const{column:r}of new At(i))n[r]++;const o=n.reduce((r,s,a)=>s?r:[...r,a],[]);if(o.length>0){const r=o[o.length-1];return t.removeColumns(i,{at:r}),!0}return!1}function Bh(i,t){const e=[],n=t.getRows(i);for(let o=0;o<n;o++)i.getChild(o).isEmpty&&e.push(o);if(e.length>0){const o=e[e.length-1];return t.removeRows(i,{at:o}),!0}return!1}function zh(i,t){Mh(i,t)||Bh(i,t)}function yC(i,t){const e=Array.from(new At(i,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:r})=>r===1))return t.lastRow;const o=e[0].cellHeight-1;return t.lastRow+o}function xC(i,t){const e=Array.from(new At(i,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:r})=>r===1))return t.lastColumn;const o=e[0].cellWidth-1;return t.lastColumn+o}class Ha extends Y{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],r=this.value,s=this.direction;t.change(a=>{const c=s=="right"||s=="down",l=c?o:r,d=c?r:o,u=d.parent;f8(d,l,a);const m=this.isHorizontal?"colspan":"rowspan",b=parseInt(o.getAttribute(m)||"1"),A=parseInt(r.getAttribute(m)||"1");a.setAttribute(m,b+A,l),a.setSelection(a.createRangeIn(l));const T=this.editor.plugins.get("TableUtils"),B=u.findAncestor("table");zh(B,T)})}_getMergeableCell(){const e=this.editor.model.document,n=this.editor.plugins.get("TableUtils"),o=n.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const r=this.isHorizontal?m8(o,this.direction,n):g8(o,this.direction,n);if(!r)return;const s=this.isHorizontal?"rowspan":"colspan",a=parseInt(o.getAttribute(s)||"1");if(parseInt(r.getAttribute(s)||"1")===a)return r}}function m8(i,t,e){const o=i.parent.parent,r=t=="right"?i.nextSibling:i.previousSibling,s=(o.getAttribute("headingColumns")||0)>0;if(!r)return;const a=t=="right"?i:r,c=t=="right"?r:i,{column:l}=e.getCellLocation(a),{column:d}=e.getCellLocation(c),u=parseInt(a.getAttribute("colspan")||"1"),m=Ih(e,a),b=Ih(e,c);return s&&m!=b?void 0:l+u===d?r:void 0}function g8(i,t,e){const n=i.parent,o=n.parent,r=o.getChildIndex(n);if(t=="down"&&r===e.getRows(o)-1||t=="up"&&r===0)return null;const s=parseInt(i.getAttribute("rowspan")||"1"),a=o.getAttribute("headingRows")||0,c=t=="down"&&r+s===a,l=t=="up"&&r===a;if(a&&(c||l))return null;const d=parseInt(i.getAttribute("rowspan")||"1"),u=t=="down"?r+d:r,m=[...new At(o,{endRow:u})],A=m.find(B=>B.cell===i).column,T=m.find(({row:B,cellHeight:L,column:j})=>j!==A?!1:t=="down"?B===u:u===B+L);return T&&T.cell?T.cell:null}function f8(i,t,e){EC(i)||(EC(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(i),e.createPositionAt(t,"end"))),e.remove(i)}function EC(i){const t=i.getChild(0);return i.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class p8 extends Y{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),s=t.getRows(o)-1,a=t.getRowIndexes(e),c=a.first===0&&a.last===s;this.isEnabled=!c}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),r=n[0],s=r.findAncestor("table"),a=e.getCellLocation(r).column;t.change(c=>{const l=o.last-o.first+1;e.removeRows(s,{at:o.first,rows:l});const d=b8(s,o.first,a,e.getRows(s));c.setSelection(c.createPositionAt(d,0))})}}function b8(i,t,e,n){const o=i.getChild(Math.min(t,n-1));let r=o.getChild(0),s=0;for(const a of o.getChildren()){if(s>e)return r;r=a,s+=parseInt(a.getAttribute("colspan")||"1")}return r}class k8 extends Y{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),r=t.getColumns(o),{first:s,last:a}=t.getColumnIndexes(e);this.isEnabled=a-s<r-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=A8(this.editor.model.document.selection,t),o=e.parent.parent,r=[...new At(o)],s={first:r.find(c=>c.cell===e).column,last:r.find(c=>c.cell===n).column},a=w8(r,e,n,s);this.editor.model.change(c=>{const l=s.last-s.first+1;t.removeColumns(o,{at:s.first,columns:l}),c.setSelection(c.createPositionAt(a,0))})}}function w8(i,t,e,n){return parseInt(e.getAttribute("colspan")||"1")>1?e:t.previousSibling||e.nextSibling?e.nextSibling||t.previousSibling:n.first?i.reverse().find(({column:r})=>r<n.first).cell:i.reverse().find(({column:r})=>r>n.last).cell}function A8(i,t){const e=t.getSelectionAffectedTableCells(i),n=e[0],o=e.pop(),r=[n,o];return n.isBefore(o)?r:r.reverse()}class C8 extends Y{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(r=>this._isInHeading(r,r.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),r=o[0].findAncestor("table"),{first:s,last:a}=e.getRowIndexes(o),c=this.value?s:a+1,l=r.getAttribute("headingRows")||0;n.change(d=>{if(c){const u=c>l?l:0,m=wC(r,c,u);for(const{cell:b}of m)AC(b,c,d)}Kt("headingRows",c,r,d,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||"0");return!!n&&t.parent.index<n}}class _8 extends Y{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(r=>Ih(e,r))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),r=o[0].findAncestor("table"),{first:s,last:a}=e.getColumnIndexes(o),c=this.value?s:a+1;n.change(l=>{if(c){const d=CC(r,c);for(const{cell:u,column:m}of d)_C(u,m,c,l)}Kt("headingColumns",c,r,l,0)})}}class me extends S{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,o=n.getChildIndex(e),r=new At(n,{row:o});for(const{cell:s,row:a,column:c}of r)if(s===t)return{row:a,column:c}}createTable(t,e){const n=t.createElement("table"),o=e.rows||2,r=e.columns||2;return Nh(t,n,0,o,r),e.headingRows&&Kt("headingRows",Math.min(e.headingRows,o),n,t,0),e.headingColumns&&Kt("headingColumns",Math.min(e.headingColumns,r),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,o=e.at||0,r=e.rows||1,s=e.copyStructureFromAbove!==void 0,a=e.copyStructureFromAbove?o-1:o,c=this.getRows(t),l=this.getColumns(t);if(o>c)throw new v("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change(d=>{const u=t.getAttribute("headingRows")||0;if(u>o&&Kt("headingRows",u+r,t,d,0),!s&&(o===0||o===c)){Nh(d,t,o,r,l);return}const m=s?Math.max(o,a):o,b=new At(t,{endRow:m}),A=new Array(l).fill(1);for(const{row:T,column:B,cellHeight:L,cellWidth:j,cell:dt}of b){const ht=T+L-1,Nt=T<o&&o<=ht,$=T<=a&&a<=ht;Nt?(d.setAttribute("rowspan",L+r,dt),A[B]=-j):s&&$&&(A[B]=j)}for(let T=0;T<r;T++){const B=d.createElement("tableRow");d.insert(B,t,o);for(let L=0;L<A.length;L++){const j=A[L],dt=d.createPositionAt(B,"end");j>0&&Ti(d,dt,j>1?{colspan:j}:void 0),L+=Math.abs(j)-1}}})}insertColumns(t,e={}){const n=this.editor.model,o=e.at||0,r=e.columns||1;n.change(s=>{const a=t.getAttribute("headingColumns");o<a&&s.setAttribute("headingColumns",a+r,t);const c=this.getColumns(t);if(o===0||c===o){for(const d of t.getChildren())d.is("element","tableRow")&&Eo(r,s,s.createPositionAt(d,o?"end":0));return}const l=new At(t,{column:o,includeAllSlots:!0});for(const d of l){const{row:u,cell:m,cellAnchorColumn:b,cellAnchorRow:A,cellWidth:T,cellHeight:B}=d;if(b<o){s.setAttribute("colspan",T+r,m);const L=A+B-1;for(let j=u;j<=L;j++)l.skipRow(j)}else Eo(r,s,d.getPositionBefore())}})}removeRows(t,e){const n=this.editor.model,o=e.rows||1,r=this.getRows(t),s=e.at,a=s+o-1;if(a>r-1)throw new v("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change(c=>{const l={first:s,last:a},{cellsToMove:d,cellsToTrim:u}=x8(t,l);if(d.size){const m=a+1;E8(t,m,d,c)}for(let m=a;m>=s;m--)c.remove(t.getChild(m));for(const{rowspan:m,cell:b}of u)Kt("rowspan",m,b,c);y8(t,l,c),Mh(t,this)||Bh(t,this)})}removeColumns(t,e){const n=this.editor.model,o=e.at,r=e.columns||1,s=e.at+r-1;n.change(a=>{v8(t,{first:o,last:s},a);for(let c=s;c>=o;c--)for(const{cell:l,column:d,cellWidth:u}of[...new At(t)])d<=c&&u>1&&d+u>c?Kt("colspan",u-1,l,a):d===c&&a.remove(l);Bh(t,this)||Mh(t,this)})}splitCellVertically(t,e=2){const n=this.editor.model,r=t.parent.parent,s=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");n.change(c=>{if(a>1){const{newCellsSpan:l,updatedSpan:d}=DC(a,e);Kt("colspan",d,t,c);const u={};l>1&&(u.colspan=l),s>1&&(u.rowspan=s);const m=a>e?e-1:a-1;Eo(m,c,c.createPositionAfter(t),u)}if(a<e){const l=e-a,d=[...new At(r)],{column:u}=d.find(({cell:T})=>T===t),m=d.filter(({cell:T,cellWidth:B,column:L})=>{const j=T!==t&&L===u,dt=L<u&&L+B>u;return j||dt});for(const{cell:T,cellWidth:B}of m)c.setAttribute("colspan",B+l,T);const b={};s>1&&(b.rowspan=s),Eo(l,c,c.createPositionAfter(t),b);const A=r.getAttribute("headingColumns")||0;A>u&&Kt("headingColumns",A+l,r,c)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,o=t.parent,r=o.parent,s=r.getChildIndex(o),a=parseInt(t.getAttribute("rowspan")||"1"),c=parseInt(t.getAttribute("colspan")||"1");n.change(l=>{if(a>1){const d=[...new At(r,{startRow:s,endRow:s+a-1,includeAllSlots:!0})],{newCellsSpan:u,updatedSpan:m}=DC(a,e);Kt("rowspan",m,t,l);const{column:b}=d.find(({cell:T})=>T===t),A={};u>1&&(A.rowspan=u),c>1&&(A.colspan=c);for(const T of d){const{column:B,row:L}=T,j=L>=s+m,dt=B===b,ht=(L+s+m)%u===0;j&&dt&&ht&&Eo(1,l,T.getPositionBefore(),A)}}if(a<e){const d=e-a,u=[...new At(r,{startRow:0,endRow:s})];for(const{cell:A,cellHeight:T,row:B}of u)if(A!==t&&B+T>s){const L=T+d;l.setAttribute("rowspan",L,A)}const m={};c>1&&(m.colspan=c),Nh(l,r,s+1,d,1,m);const b=r.getAttribute("headingRows")||0;b>s&&Kt("headingRows",b+d,r,l)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((n,o)=>{const r=parseInt(o.getAttribute("colspan")||"1");return n+r},0)}getRows(t){return Array.from(t.getChildren()).reduce((e,n)=>n.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new At(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const o=n.getContainedElement();o&&o.is("element","tableCell")&&e.push(o)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const o=n.start.findAncestor("tableCell");o&&e.push(o)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(n=>n.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),o=[...new At(e)].filter(r=>t.includes(r.cell)).map(r=>r.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let o=0;for(const s of t){const{row:a,column:c}=this.getCellLocation(s),l=parseInt(s.getAttribute("rowspan"))||1,d=parseInt(s.getAttribute("colspan"))||1;e.add(a),n.add(c),l>1&&e.add(a+l-1),d>1&&n.add(c+d-1),o+=l*d}return T8(e,n)==o}sortRanges(t){return Array.from(t).sort(D8)}_getFirstLastIndexesObject(t){const e=t.sort((r,s)=>r-s),n=e[0],o=e[e.length-1];return{first:n,last:o}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),o=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,o))return!1;const r=this.getColumnIndexes(t),s=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,s)}_areIndexesInSameSection({first:t,last:e},n){const o=t<n,r=e<n;return o===r}}function Nh(i,t,e,n,o,r={}){for(let s=0;s<n;s++){const a=i.createElement("tableRow");i.insert(a,t,e),Eo(o,i,i.createPositionAt(a,"end"),r)}}function Eo(i,t,e,n={}){for(let o=0;o<i;o++)Ti(t,e,n)}function DC(i,t){if(i<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(i/t),n=i-e*t+e;return{newCellsSpan:e,updatedSpan:n}}function v8(i,t,e){const n=i.getAttribute("headingColumns")||0;if(n&&t.first<n){const o=Math.min(n-1,t.last)-t.first+1;e.setAttribute("headingColumns",n-o,i)}}function y8(i,{first:t,last:e},n){const o=i.getAttribute("headingRows")||0;if(t<o){const r=e<o?o-(e-t+1):t;Kt("headingRows",r,i,n,0)}}function x8(i,{first:t,last:e}){const n=new Map,o=[];for(const{row:r,column:s,cellHeight:a,cell:c}of new At(i,{endRow:e})){const l=r+a-1;if(r>=t&&r<=e&&l>e){const m=e-r+1,b=a-m;n.set(s,{cell:c,rowspan:b})}if(r<t&&l>=t){let m;l>=e?m=e-t+1:m=l-t+1,o.push({cell:c,rowspan:a-m})}}return{cellsToMove:n,cellsToTrim:o}}function E8(i,t,e,n){const r=[...new At(i,{includeAllSlots:!0,row:t})],s=i.getChild(t);let a;for(const{column:c,cell:l,isAnchor:d}of r)if(e.has(c)){const{cell:u,rowspan:m}=e.get(c),b=a?n.createPositionAfter(a):n.createPositionAt(s,0);n.move(n.createRangeOn(u),b),Kt("rowspan",m,u,n),a=u}else d&&(a=l)}function D8(i,t){const e=i.start,n=t.start;return e.isBefore(n)?-1:1}function T8(i,t){const e=Array.from(i.values()),n=Array.from(t.values()),o=Math.max(...e),r=Math.min(...e),s=Math.max(...n),a=Math.min(...n);return(o-r+1)*(s-a+1)}class S8 extends Y{refresh(){const t=this.editor.plugins.get(me),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(me);t.change(n=>{const o=e.getSelectedTableCells(t.document.selection),r=o.shift(),{mergeWidth:s,mergeHeight:a}=M8(r,o,e);Kt("colspan",s,r,n),Kt("rowspan",a,r,n);for(const l of o)I8(l,r,n);const c=r.findAncestor("table");zh(c,e),n.setSelection(r,"in")})}}function I8(i,t,e){TC(i)||(TC(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(i),e.createPositionAt(t,"end"))),e.remove(i)}function TC(i){const t=i.getChild(0);return i.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function M8(i,t,e){let n=0,o=0;for(const l of t){const{row:d,column:u}=e.getCellLocation(l);n=SC(l,u,n,"colspan"),o=SC(l,d,o,"rowspan")}const{row:r,column:s}=e.getCellLocation(i),a=n-s,c=o-r;return{mergeWidth:a,mergeHeight:c}}function SC(i,t,e,n){const o=parseInt(i.getAttribute(n)||"1");return Math.max(e,t+o)}class B8 extends Y{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),r=n[0].findAncestor("table"),s=[];for(let a=o.first;a<=o.last;a++)for(const c of r.getChild(a).getChildren())s.push(t.createRangeOn(c));t.change(a=>{a.setSelection(s)})}}class z8 extends Y{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),o=n[0],r=n.pop(),s=o.findAncestor("table"),a=t.getCellLocation(o),c=t.getCellLocation(r),l=Math.min(a.column,c.column),d=Math.max(a.column,c.column),u=[];for(const m of new At(s,{startColumn:l,endColumn:d}))u.push(e.createRangeOn(m.cell));e.change(m=>{m.setSelection(u)})}}function N8(i){i.document.registerPostFixer(t=>L8(t,i))}function L8(i,t){const e=t.document.differ.getChanges();let n=!1;const o=new Set;for(const r of e){let s=null;r.type=="insert"&&r.name=="table"&&(s=r.position.nodeAfter),(r.type=="insert"||r.type=="remove")&&(r.name=="tableRow"||r.name=="tableCell")&&(s=r.position.findAncestor("table")),F8(r)&&(s=r.range.start.findAncestor("table")),s&&!o.has(s)&&(n=P8(s,i)||n,n=R8(s,i)||n,o.add(s))}return n}function P8(i,t){let e=!1;const n=O8(i);if(n.length){e=!0;for(const o of n)Kt("rowspan",o.rowspan,o.cell,t,1)}return e}function R8(i,t){let e=!1;const n=V8(i),o=[];for(const[c,l]of n.entries())!l&&i.getChild(c).is("element","tableRow")&&o.push(c);if(o.length){e=!0;for(const c of o.reverse())t.remove(i.getChild(c)),n.splice(c,1)}const r=n.filter((c,l)=>i.getChild(l).is("element","tableRow")),s=r[0];if(!r.every(c=>c===s)){const c=r.reduce((l,d)=>d>l?d:l,0);for(const[l,d]of r.entries()){const u=c-d;if(u){for(let m=0;m<u;m++)Ti(t,t.createPositionAt(i.getChild(l),"end"));e=!0}}}return e}function O8(i){const t=parseInt(i.getAttribute("headingRows")||"0"),e=Array.from(i.getChildren()).reduce((o,r)=>r.is("element","tableRow")?o+1:o,0),n=[];for(const{row:o,cell:r,cellHeight:s}of new At(i)){if(s<2)continue;const c=o<t?t:e;if(o+s>c){const l=c-o;n.push({cell:r,rowspan:l})}}return n}function V8(i){const t=new Array(i.childCount).fill(0);for(const{rowIndex:e}of new At(i,{includeAllSlots:!0}))t[e]++;return t}function F8(i){if(i.type!=="attribute")return!1;const t=i.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function j8(i){i.document.registerPostFixer(t=>H8(t,i))}function H8(i,t){const e=t.document.differ.getChanges();let n=!1;for(const o of e)o.type=="insert"&&o.name=="table"&&(n=U8(o.position.nodeAfter,i)||n),o.type=="insert"&&o.name=="tableRow"&&(n=IC(o.position.nodeAfter,i)||n),o.type=="insert"&&o.name=="tableCell"&&(n=Lh(o.position.nodeAfter,i)||n),(o.type=="remove"||o.type=="insert")&&W8(o)&&(n=Lh(o.position.parent,i)||n);return n}function U8(i,t){let e=!1;for(const n of i.getChildren())n.is("element","tableRow")&&(e=IC(n,t)||e);return e}function IC(i,t){let e=!1;for(const n of i.getChildren())e=Lh(n,t)||e;return e}function Lh(i,t){if(i.childCount==0)return t.insertElement("paragraph",i),!0;const e=Array.from(i.getChildren()).filter(n=>n.is("$text"));for(const n of e)t.wrap(t.createRangeOn(n),"paragraph");return!!e.length}function W8(i){return i.position.parent.is("element","tableCell")?i.type=="insert"&&i.name=="$text"||i.type=="remove":!1}function G8(i,t){const e=i.document.differ;for(const n of e.getChanges()){let o,r=!1;if(n.type=="attribute"){const l=n.range.start.nodeAfter;if(!l||!l.is("element","table")||n.attributeKey!="headingRows"&&n.attributeKey!="headingColumns")continue;o=l,r=n.attributeKey=="headingRows"}else(n.name=="tableRow"||n.name=="tableCell")&&(o=n.position.findAncestor("table"),r=n.name=="tableRow");if(!o)continue;const s=o.getAttribute("headingRows")||0,a=o.getAttribute("headingColumns")||0,c=new At(o);for(const l of c){const u=l.row<s||l.column<a?"th":"td",m=t.mapper.toViewElement(l.cell);m&&m.is("element")&&m.name!=u&&t.reconvertItem(r?l.cell.parent:l.cell)}}}function q8(i,t){const e=i.document.differ,n=new Set;for(const o of e.getChanges()){const r=o.type=="attribute"?o.range.start.parent:o.position.parent;r.is("element","tableCell")&&n.add(r)}for(const o of n.values()){const r=Array.from(o.getChildren()).filter(s=>$8(s,t.mapper));for(const s of r)t.reconvertItem(s)}}function $8(i,t){if(!i.is("element","paragraph"))return!1;const e=t.toViewElement(i);return e?gC(i)!==e.is("element","span"):!1}var MC=I(4777),Ph={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ph.insert="head",Ph.singleton=!0;var CF=V()(MC.Z,Ph);const _F=MC.Z.locals||{};class Br extends S{static get pluginName(){return"TableEditing"}static get requires(){return[me]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,e=t.model,n=e.schema,o=t.conversion,r=t.plugins.get(me);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(t8()),o.for("upcast").add(e8()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uC(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uC(r,{additionalSlots:this._additionalSlots})}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(n8()),o.for("downcast").elementToElement({model:"tableRow",view:a8()}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(dC("td")),o.for("upcast").add(dC("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:hC({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:hC()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:mC({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:mC(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:BC("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:BC("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new d8(t)),t.commands.add("insertTableRowAbove",new fC(t,{order:"above"})),t.commands.add("insertTableRowBelow",new fC(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new pC(t,{order:"left"})),t.commands.add("insertTableColumnRight",new pC(t,{order:"right"})),t.commands.add("removeTableRow",new p8(t)),t.commands.add("removeTableColumn",new k8(t)),t.commands.add("splitTableCellVertically",new bC(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new bC(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new S8(t)),t.commands.add("mergeTableCellRight",new Ha(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Ha(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Ha(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Ha(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new _8(t)),t.commands.add("setTableRowHeader",new C8(t)),t.commands.add("selectTableRow",new B8(t)),t.commands.add("selectTableColumn",new z8(t)),N8(e),j8(e),this.listenTo(e.document,"change:data",()=>{G8(e,t.editing),q8(e,t.editing)})}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function BC(i){return t=>{const e=parseInt(t.getAttribute(i));return Number.isNaN(e)||e<=0?null:e}}var zC=I(8085),Rh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rh.insert="head",Rh.singleton=!0;var vF=V()(zC.Z,Rh);const yF=zC.Z.locals||{};class K8 extends q{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new jt,this.focusTracker=new zt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,o)=>`${o} \xD7 ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to(n=>{n.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,o)=>{const{row:r,column:s}=o.target.dataset;this.items.get((parseInt(r,10)-1)*10+(parseInt(s,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,o,r)=>{if(!r)return;const{row:s,column:a}=r.dataset;this.set({rows:parseInt(s),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),y({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,o)=>{const r=Math.floor(o/10),s=o%10,a=r<t&&s<e;n.set("isOn",a)})}_createGridButton(t,e,n,o){const r=new Q(t);return r.set({label:o,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":e,"data-column":n}}),r}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),o=e%10,r=`${n+1} \xD7 ${o+1}`;t.push(this._createGridButton(this.locale,n+1,o+1,r))}return this.createCollection(t)}}const Y8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',Z8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',Q8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',J8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class X8 extends S{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,o=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",r=>{const s=t.commands.get("insertTable"),a=Ht(r);a.bind("isEnabled").to(s),a.buttonView.set({icon:Y8,label:e("Insert table"),tooltip:!0});let c;return a.on("change:isOpen",()=>{c||(c=new K8(r),a.panelView.children.add(c),c.delegate("execute").to(a),a.on("execute",()=>{t.execute("insertTable",{rows:c.rows,columns:c.columns}),t.editing.view.focus()}))}),a}),t.ui.componentFactory.add("tableColumn",r=>{const s=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),Z8,s,r)}),t.ui.componentFactory.add("tableRow",r=>{const s=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),Q8,s,r)}),t.ui.componentFactory.add("mergeTableCells",r=>{const s=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),J8,s,r)})}_prepareDropdown(t,e,n,o){const r=this.editor,s=Ht(o),a=this._fillDropdownWithListOptions(s,n);return s.buttonView.set({label:t,icon:e,tooltip:!0}),s.bind("isEnabled").toMany(a,"isEnabled",(...c)=>c.some(l=>l)),this.listenTo(s,"execute",c=>{r.execute(c.source.commandName),c.source instanceof er||r.editing.view.focus()}),s}_prepareMergeSplitButtonDropdown(t,e,n,o){const r=this.editor,s=Ht(o,eo),a="mergeTableCells",c=r.commands.get(a),l=this._fillDropdownWithListOptions(s,n);return s.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),s.bind("isEnabled").toMany([c,...l],"isEnabled",(...d)=>d.some(u=>u)),this.listenTo(s.buttonView,"execute",()=>{r.execute(a),r.editing.view.focus()}),this.listenTo(s,"execute",d=>{r.execute(d.source.commandName),r.editing.view.focus()}),s}_fillDropdownWithListOptions(t,e){const n=this.editor,o=[],r=new Ft;for(const s of e)t7(s,n,o,r);return Dn(t,r),o}}function t7(i,t,e,n){if(i.type==="button"||i.type==="switchbutton"){const o=i.model=new Tn(i.model),{commandName:r,bindIsOn:s}=i.model,a=t.commands.get(r);e.push(a),o.set({commandName:r}),o.bind("isEnabled").to(a),s&&o.bind("isOn").to(a,"value"),o.set({withText:!0})}n.add(i)}var NC=I(5593),Oh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Oh.insert="head",Oh.singleton=!0;var xF=V()(NC.Z,Oh);const EF=NC.Z.locals||{};class Si extends S{static get pluginName(){return"TableSelection"}static get requires(){return[me,me]}init(){const t=this.editor,e=t.model,n=t.editing.view;this.listenTo(e,"deleteContent",(o,r)=>this._handleDeleteContent(o,r),{priority:"high"}),this.listenTo(n.document,"insertText",(o,r)=>this._handleInsertTextEvent(o,r),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(me),e=this.editor.model.document.selection,n=t.getSelectedTableCells(e);return n.length==0?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(me),e=this.getSelectedTableCells();return e?this.editor.model.change(n=>{const o=n.createDocumentFragment(),{first:r,last:s}=t.getColumnIndexes(e),{first:a,last:c}=t.getRowIndexes(e),l=e[0].findAncestor("table");let d=c,u=s;if(t.isSelectionRectangular(e)){const A={firstColumn:r,lastColumn:s,firstRow:a,lastRow:c};d=yC(l,A),u=xC(l,A)}const b=kC(l,{startRow:a,startColumn:r,endRow:d,endColumn:u},n);return n.insert(b,o,0),o}):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(o=>{o.setSelection(n.cells.map(r=>o.createRangeOn(r)),{backward:n.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const t=this.editor.model.document.selection,n=Pt(t.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(o=>o.on("selection",(r,s,a)=>{const c=a.writer;n(c);const l=this.getSelectedTableCells();if(!l)return;for(const u of l){const m=a.mapper.toViewElement(u);c.addClass("ck-editor__editable_selected",m),e.add(m)}const d=a.mapper.toViewElement(l[l.length-1]);c.setSelection(d,0)},{priority:"lowest"}));function n(o){for(const r of e)o.removeClass("ck-editor__editable_selected",r);e.clear()}}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(n=>{const o=n.createPositionAt(e[0],0),r=t.model.schema.getNearestSelectionRange(o);n.setSelection(r)})}})}_handleDeleteContent(t,e){const n=this.editor.plugins.get(me),o=e[0],r=e[1],s=this.editor.model,a=!r||r.direction=="backward",c=n.getSelectedTableCells(o);c.length&&(t.stop(),s.change(l=>{const d=c[a?c.length-1:0];s.change(m=>{for(const b of c)s.deleteContent(m.createSelection(b,"in"))});const u=s.schema.getNearestSelectionRange(l.createPositionAt(d,0));o.is("documentSelection")?l.setSelection(u):o.setTo(u)}))}_handleInsertTextEvent(t,e){const n=this.editor,o=this.getSelectedTableCells();if(!o)return;const r=n.editing.view,s=n.editing.mapper,a=o.map(c=>r.createRangeOn(s.toViewElement(c)));e.selection=r.createSelection(a)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),o=n.getCellLocation(t),r=n.getCellLocation(e),s=Math.min(o.row,r.row),a=Math.max(o.row,r.row),c=Math.min(o.column,r.column),l=Math.max(o.column,r.column),d=new Array(a-s+1).fill(null).map(()=>[]),u={startRow:s,endRow:a,startColumn:c,endColumn:l};for(const{row:A,cell:T}of new At(t.findAncestor("table"),u))d[A-s].push(T);const m=r.row<o.row,b=r.column<o.column;return m&&d.reverse(),b&&d.forEach(A=>A.reverse()),{cells:d.flat(),backward:m||b}}}class e7 extends S{static get pluginName(){return"TableClipboard"}static get requires(){return[Si,me]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(n,o)=>this._onCopyCut(n,o)),this.listenTo(e,"cut",(n,o)=>this._onCopyCut(n,o)),this.listenTo(t.model,"insertContent",(n,[o,r])=>this._onInsertContent(n,o,r),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.plugins.get(Si);if(!n.getSelectedTableCells()||t.name=="cut"&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const o=this.editor.data,r=this.editor.editing.view.document,s=o.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:s,method:t.name})}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const o=this.editor.model,r=this.editor.plugins.get(me);let s=this.getTableIfOnlyTableInContent(e,o);if(!s)return;const a=r.getSelectionAffectedTableCells(o.document.selection);if(!a.length){zh(s,r);return}t.stop(),o.change(c=>{const l={width:r.getColumns(s),height:r.getRows(s)},d=n7(a,l,c,r),u=d.lastRow-d.firstRow+1,m=d.lastColumn-d.firstColumn+1,b={startRow:0,startColumn:0,endRow:Math.min(u,l.height)-1,endColumn:Math.min(m,l.width)-1};s=kC(s,b,c);const A=a[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(s,l,A,d,c);if(this.editor.plugins.get("TableSelection").isEnabled){const B=r.sortRanges(T.map(L=>c.createRangeOn(L)));c.setSelection(B)}else c.setSelection(T[0],0)})}_replaceSelectedCellsWithPasted(t,e,n,o,r){const{width:s,height:a}=e,c=o7(t,s,a),l=[...new At(n,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0})],d=[];let u;for(const B of l){const{row:L,column:j}=B;j===o.firstColumn&&(u=B.getPositionBefore());const dt=L-o.firstRow,ht=j-o.firstColumn,Nt=c[dt%a][ht%s],$=Nt?r.cloneElement(Nt):null,nt=this._replaceTableSlotCell(B,$,u,r);nt&&(vC(nt,L,j,o.lastRow,o.lastColumn,r),d.push(nt),u=r.createPositionAfter(nt))}const m=parseInt(n.getAttribute("headingRows")||"0"),b=parseInt(n.getAttribute("headingColumns")||"0"),A=o.firstRow<m&&m<=o.lastRow,T=o.firstColumn<b&&b<=o.lastColumn;if(A){const B={first:o.firstColumn,last:o.lastColumn},L=Vh(n,m,B,r,o.firstRow);d.push(...L)}if(T){const B={first:o.firstRow,last:o.lastRow},L=Fh(n,b,B,r);d.push(...L)}return d}_replaceTableSlotCell(t,e,n,o){const{cell:r,isAnchor:s}=t;return s&&o.remove(r),e?(o.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const o of n.getItems())if(o.is("element","table")){const r=e.createRange(n.start,e.createPositionBefore(o));if(e.hasContent(r,{ignoreWhitespaces:!0}))return null;const s=e.createRange(e.createPositionAfter(o),n.end);return e.hasContent(s,{ignoreWhitespaces:!0})?null:o}return null}}function n7(i,t,e,n){const o=i[0].findAncestor("table"),r=n.getColumnIndexes(i),s=n.getRowIndexes(i),a={firstColumn:r.first,lastColumn:r.last,firstRow:s.first,lastRow:s.last},c=i.length===1;return c&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,i7(o,a.lastRow+1,a.lastColumn+1,n)),c||!n.isSelectionRectangular(i)?r7(o,a,e):(a.lastRow=yC(o,a),a.lastColumn=xC(o,a)),a}function i7(i,t,e,n){const o=n.getColumns(i),r=n.getRows(i);e>o&&n.insertColumns(i,{at:o,columns:e-o}),t>r&&n.insertRows(i,{at:r,rows:t-r})}function o7(i,t,e){const n=new Array(e).fill(null).map(()=>new Array(t).fill(null));for(const{column:o,row:r,cell:s}of new At(i))n[r][o]=s;return n}function r7(i,t,e){const{firstRow:n,lastRow:o,firstColumn:r,lastColumn:s}=t,a={first:n,last:o},c={first:r,last:s};Fh(i,r,a,e),Fh(i,s+1,a,e),Vh(i,n,c,e),Vh(i,o+1,c,e,n)}function Vh(i,t,e,n,o=0){return t<1?void 0:wC(i,t,o).filter(({column:a,cellWidth:c})=>LC(a,c,e)).map(({cell:a})=>AC(a,t,n))}function Fh(i,t,e,n){return t<1?void 0:CC(i,t).filter(({row:s,cellHeight:a})=>LC(s,a,e)).map(({cell:s,column:a})=>_C(s,a,t,n))}function LC(i,t,e){const n=i+t-1,{first:o,last:r}=e,s=i>=o&&i<=r,a=i<o&&n>=o;return s||a}class s7 extends S{static get pluginName(){return"TableKeyboard"}static get requires(){return[Si,me]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...n)=>this._onArrowKey(...n),{context:"table"}),this.listenTo(e,"tab",(...n)=>this._handleTabOnSelectedTable(...n),{context:"figure"}),this.listenTo(e,"tab",(...n)=>this._handleTab(...n),{context:["th","td"]})}_handleTabOnSelectedTable(t,e){const n=this.editor,r=n.model.document.selection.getSelectedElement();!r||!r.is("element","table")||(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change(s=>{s.setSelection(s.createRangeIn(r.getChild(0).getChild(0)))}))}_handleTab(t,e){const n=this.editor,o=this.editor.plugins.get(me),r=this.editor.plugins.get("TableSelection"),s=n.model.document.selection,a=!e.shiftKey;let c=o.getTableCellsContainingSelection(s)[0];if(c||(c=r.getFocusCell()),!c)return;e.preventDefault(),e.stopPropagation(),t.stop();const l=c.parent,d=l.parent,u=d.getChildIndex(l),m=l.getChildIndex(c),b=m===0;if(!a&&b&&u===0){n.model.change(L=>{L.setSelection(L.createRangeOn(d))});return}const A=m===l.childCount-1,T=u===o.getRows(d)-1;if(a&&T&&A&&(n.execute("insertTableRowBelow"),u===o.getRows(d)-1)){n.model.change(L=>{L.setSelection(L.createRangeOn(d))});return}let B;if(a&&A)B=d.getChild(u+1).getChild(0);else if(!a&&b){const L=d.getChild(u-1);B=L.getChild(L.childCount-1)}else B=l.getChild(m+(a?1:-1));n.model.change(L=>{L.setSelection(L.createRangeIn(B))})}_onArrowKey(t,e){const n=this.editor,o=e.keyCode,r=js(o,n.locale.contentLanguageDirection);this._handleArrowKeys(r,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(me),o=this.editor.plugins.get("TableSelection"),r=this.editor.model,s=r.document.selection,a=["right","down"].includes(t),c=n.getSelectedTableCells(s);if(c.length){let d;return e?d=o.getFocusCell():d=a?c[c.length-1]:c[0],this._navigateFromCellInDirection(d,t,e),!0}const l=s.focus.findAncestor("tableCell");if(!l)return!1;if(!s.isCollapsed)if(e){if(s.isBackward==a&&!s.containsEntireContent(l))return!1}else{const d=s.getSelectedElement();if(!d||!r.schema.isObject(d))return!1}return this._isSelectionAtCellEdge(s,l,a)?(this._navigateFromCellInDirection(l,t,e),!0):!1}_isSelectionAtCellEdge(t,e,n){const o=this.editor.model,r=this.editor.model.schema,s=n?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(s).is("element","tableCell"))return o.createPositionAt(e,n?"end":0).isTouching(s);const a=o.createSelection(s);return o.modifySelection(a,{direction:n?"forward":"backward"}),s.isEqual(a.focus)}_navigateFromCellInDirection(t,e,n=!1){const o=this.editor.model,r=t.findAncestor("table"),s=[...new At(r,{includeAllSlots:!0})],{row:a,column:c}=s[s.length-1],l=s.find(({cell:j})=>j==t);let{row:d,column:u}=l;switch(e){case"left":u--;break;case"up":d--;break;case"right":u+=l.cellWidth;break;case"down":d+=l.cellHeight;break}const m=d<0||d>a,b=u<0&&d<=0,A=u>c&&d>=a;if(m||b||A){o.change(j=>{j.setSelection(j.createRangeOn(r))});return}u<0?(u=n?0:c,d--):u>c&&(u=n?c:0,d++);const T=s.find(j=>j.row==d&&j.column==u).cell,B=["right","down"].includes(e),L=this.editor.plugins.get("TableSelection");if(n&&L.isEnabled){const j=L.getAnchorCell()||t;L.setCellSelection(j,T)}else{const j=o.createPositionAt(T,B?0:"end");o.change(dt=>{dt.setSelection(j)})}}}class PC extends Kn{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class a7 extends S{static get pluginName(){return"TableMouse"}static get requires(){return[Si,me]}init(){this.editor.editing.view.addObserver(PC),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(me);let n=!1;const o=t.plugins.get(Si);this.listenTo(t.editing.view.document,"mousedown",(r,s)=>{const a=t.model.document.selection;if(!this.isEnabled||!o.isEnabled||!s.domEvent.shiftKey)return;const c=o.getAnchorCell()||e.getTableCellsContainingSelection(a)[0];if(!c)return;const l=this._getModelTableCellFromDomEvent(s);l&&RC(c,l)&&(n=!0,o.setCellSelection(c,l),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(t.editing.view.document,"selectionChange",r=>{n&&r.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,o=!1,r=!1;const s=t.plugins.get(Si);this.listenTo(t.editing.view.document,"mousedown",(a,c)=>{!this.isEnabled||!s.isEnabled||c.domEvent.shiftKey||c.domEvent.ctrlKey||c.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(c))}),this.listenTo(t.editing.view.document,"mousemove",(a,c)=>{if(!c.domEvent.buttons||!e)return;const l=this._getModelTableCellFromDomEvent(c);l&&RC(e,l)&&(n=l,!o&&n!=e&&(o=!0)),o&&(r=!0,s.setCellSelection(e,n),c.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{o=!1,r=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",a=>{r&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function RC(i,t){return i.parent.parent==t.parent.parent}var OC=I(4104),jh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jh.insert="head",jh.singleton=!0;var DF=V()(OC.Z,jh);const TF=OC.Z.locals||{};class c7 extends S{static get requires(){return[Br,X8,Si,a7,s7,e7,Ei]}static get pluginName(){return"Table"}}function l7(i){i.document.registerPostFixer(t=>d7(t,i))}function d7(i,t){const e=t.document.differ.getChanges();let n=!1;for(const o of e){if(o.type!="insert")continue;const r=o.position.parent;if(r.is("element","table")||o.name=="table"){const s=o.name=="table"?o.position.nodeAfter:r,a=Array.from(s.getChildren()).filter(l=>l.is("element","caption")),c=a.shift();if(!c)continue;for(const l of a)i.move(i.createRangeIn(l),c,"end"),i.remove(l);c.nextSibling&&(i.move(i.createRangeOn(c),s,"end"),n=!0),n=!!a.length||n}}return n}function VC(i){return!!i&&i.is("element","table")}function Hh(i){for(const t of i.getChildren())if(t.is("element","caption"))return t;return null}function u7(i){const t=Ua(i);return t?Hh(t):null}function h7(i){const t=i.parent;return i.name=="figcaption"&&t&&t.is("element","figure")&&t.hasClass("table")?{name:!0}:i.name=="caption"&&t&&t.is("element","table")?{name:!0}:null}function Ua(i){const t=i.getSelectedElement();return t&&t.is("element","table")?t:i.getFirstPosition().findAncestor("table")}class m7 extends Y{refresh(){const t=this.editor,e=Ua(t.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!Hh(e):this.value=!1}execute({focusCaptionOnShow:t=!1}={}){this.editor.model.change(e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)})}_showTableCaption(t,e){const n=this.editor.model,o=Ua(n.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(o)||t.createElement("caption");n.insertContent(a,o,"end"),e&&t.setSelection(a,"in")}_hideTableCaption(t){const e=this.editor.model,n=Ua(e.document.selection),o=this.editor.plugins.get("TableCaptionEditing"),r=Hh(n);o._saveCaption(n,r),e.deleteContent(t.createSelection(r,"on"))}}class g7 extends S{static get pluginName(){return"TableCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema,n=t.editing.view,o=t.t;e.isRegistered("caption")?e.extend("caption",{allowIn:"table"}):e.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleTableCaption",new m7(this.editor)),t.conversion.for("upcast").elementToElement({view:h7,model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(r,{writer:s})=>VC(r.parent)?s.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(r,{writer:s})=>{if(!VC(r.parent))return null;const a=s.createEditableElement("figcaption");return s.setCustomProperty("tableCaption",!0,a),Ol({view:n,element:a,text:o("Enter table caption"),keepOnFocus:!0}),iu(a,s)}}),l7(t.model)}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?wt.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}}class f7 extends S{static get pluginName(){return"TableCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.t;t.ui.componentFactory.add("toggleTableCaption",o=>{const r=t.commands.get("toggleTableCaption"),s=new Q(o);return s.set({icon:J.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.bind("label").to(r,"value",a=>n(a?"Toggle caption off":"Toggle caption on")),this.listenTo(s,"execute",()=>{if(t.execute("toggleTableCaption",{focusCaptionOnShow:!0}),r.value){const a=u7(t.model.document.selection),c=t.editing.mapper.toViewElement(a);if(!c)return;e.scrollToTheSelection(),e.change(l=>{l.addClass("table__caption_highlighted",c)})}t.editing.view.focus()}),s})}}var FC=I(9888),Uh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Uh.insert="head",Uh.singleton=!0;var SF=V()(FC.Z,Uh);const IF=FC.Z.locals||{};class p7 extends S{static get pluginName(){return"TableCaption"}static get requires(){return[g7,f7]}}var jC=I(4082),Wh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Wh.insert="head",Wh.singleton=!0;var MF=V()(jC.Z,Wh);const BF=jC.Z.locals||{};class b7 extends q{constructor(t,e){super(t),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=e,this.focusTracker=new zt,this._focusables=new be,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new jt,this._stillTyping=!1,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(n,o,r)=>this._setInputValue(r))}render(){super.render(),this.keystrokes.listenTo(this.dropdownView.panelView.element)}focus(){this.inputView.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const t=this.locale,e=t.t,n=this.bindTemplate,o=this._createColorGrid(t),r=Ht(t),s=new q,a=this._createRemoveColorButton();return s.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:n.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",n.if("value","ck-hidden",c=>c!="")]}}]}),r.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),r.buttonView.children.add(s),r.buttonView.label=e("Color picker"),r.buttonView.tooltip=!0,r.panelPosition=t.uiLanguageDirection==="rtl"?"se":"sw",r.panelView.children.add(a),r.panelView.children.add(o),r.bind("isEnabled").to(this,"isReadOnly",c=>!c),this._focusables.add(a),this._focusables.add(o),this.focusTracker.add(a.element),this.focusTracker.add(o.element),r}_createInputTextView(){const t=this.locale,e=new lb(t);return e.extendTemplate({on:{blur:e.bindTemplate.to("blur")}}),e.value=this.value,e.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(e),e.on("input",()=>{const n=e.element.value,o=this.options.colorDefinitions.find(r=>n===r.label);this._stillTyping=!0,this.value=o&&o.color||n}),e.on("blur",()=>{this._stillTyping=!1,this._setInputValue(e.element.value)}),e.delegate("input").to(this),e}_createRemoveColorButton(){const t=this.locale,e=t.t,n=new Q(t),o=this.options.defaultColorValue||"",r=e(o?"Restore default":"Remove color");return n.class="ck-input-color__remove-color",n.withText=!0,n.icon=J.eraser,n.label=r,n.on("execute",()=>{this.value=o,this.dropdownView.isOpen=!1,this.fire("input")}),n}_createColorGrid(t){const e=new Il(t,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return e.on("execute",(n,o)=>{this.value=o.value,this.dropdownView.isOpen=!1,this.fire("input")}),e.bind("selectedColor").to(this,"value"),e}_setInputValue(t){if(!this._stillTyping){const e=HC(t),n=this.options.colorDefinitions.find(o=>e===HC(o.color));n?this.inputView.value=n.label:this.inputView.value=t||""}}}function HC(i){return i.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const Gh=i=>i==="";function qh(i){return{none:i("None"),solid:i("Solid"),dotted:i("Dotted"),dashed:i("Dashed"),double:i("Double"),groove:i("Groove"),ridge:i("Ridge"),inset:i("Inset"),outset:i("Outset")}}function UC(i){return i('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function WC(i){return i('The value is invalid. Try "10px" or "2em" or simply "2".')}function Wa(i){return i=i.trim(),Gh(i)||Op(i)}function zr(i){return i=i.trim(),Gh(i)||$C(i)||aa(i)||Vp(i)}function GC(i){return i=i.trim(),Gh(i)||$C(i)||aa(i)}function qC(i,t){const e=new Ft,n=qh(i.t);for(const o in n){const r={type:"button",model:new Tn({_borderStyleValue:o,label:n[o],withText:!0})};o==="none"?r.model.bind("isOn").to(i,"borderStyle",s=>t==="none"?!s:s===o):r.model.bind("isOn").to(i,"borderStyle",s=>s===o),e.add(r)}return e}function $h(i){const{view:t,icons:e,toolbar:n,labels:o,propertyName:r,nameToValue:s,defaultValue:a}=i;for(const c in o){const l=new Q(t.locale);l.set({label:o[c],icon:e[c],tooltip:o[c]});const d=s?s(c):c;l.bind("isOn").to(t,r,u=>{let m=u;return u===""&&a&&(m=a),d===m}),l.on("execute",()=>{t[r]=d}),n.items.add(l)}}const Ga=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function qa(i){return(t,e,n)=>{const o=new b7(t.locale,{colorDefinitions:k7(i.colorConfig),columns:i.columns,defaultColorValue:i.defaultColorValue});return o.inputView.set({id:e,ariaDescribedById:n}),o.bind("isReadOnly").to(t,"isEnabled",r=>!r),o.bind("hasError").to(t,"errorText",r=>!!r),o.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused").to(o),o}}function $C(i){const t=parseFloat(i);return!Number.isNaN(t)&&i===String(t)}function k7(i){return i.map(t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}}))}var KC=I(9865),Kh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Kh.insert="head",Kh.singleton=!0;var zF=V()(KC.Z,Kh);const NF=KC.Z.locals||{};class Le extends q{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("class",e.class||null),this.children=this.createCollection(),e.children&&e.children.forEach(o=>this.children.add(o)),this.set("_role",null),this.set("_ariaLabelledBy",null),e.labelView&&this.set({_role:"group",_ariaLabelledBy:e.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}var YC=I(4880),Yh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yh.insert="head",Yh.singleton=!0;var LF=V()(YC.Z,Yh);const PF=YC.Z.locals||{};var ZC=I(198),Zh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Zh.insert="head",Zh.singleton=!0;var RF=V()(ZC.Z,Zh);const OF=ZC.Z.locals||{};var QC=I(5737),Qh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Qh.insert="head",Qh.singleton=!0;var VF=V()(QC.Z,Qh);const FF=QC.Z.locals||{},JC={left:J.alignLeft,center:J.alignCenter,right:J.alignRight,justify:J.alignJustify,top:J.alignTop,middle:J.alignMiddle,bottom:J.alignBottom};class w7 extends q{constructor(t,e){super(t),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=e;const{borderStyleDropdown:n,borderWidthInput:o,borderColorInput:r,borderRowLabel:s}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:c}=this._createBackgroundFields(),{widthInput:l,operatorLabel:d,heightInput:u,dimensionsLabel:m}=this._createDimensionFields(),{horizontalAlignmentToolbar:b,verticalAlignmentToolbar:A,alignmentLabel:T}=this._createAlignmentFields();this.focusTracker=new zt,this.keystrokes=new jt,this.children=this.createCollection(),this.borderStyleDropdown=n,this.borderWidthInput=o,this.borderColorInput=r,this.backgroundInput=c,this.paddingInput=this._createPaddingField(),this.widthInput=l,this.heightInput=u,this.horizontalAlignmentToolbar=b,this.verticalAlignmentToolbar=A;const{saveButtonView:B,cancelButtonView:L}=this._createActionButtons();this.saveButtonView=B,this.cancelButtonView=L,this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new ga(t,{label:this.t("Cell properties")})),this.children.add(new Le(t,{labelView:s,children:[s,n,r,o],class:"ck-table-form__border-row"})),this.children.add(new Le(t,{labelView:a,children:[a,c],class:"ck-table-form__background-row"})),this.children.add(new Le(t,{children:[new Le(t,{labelView:m,children:[m,l,d,u],class:"ck-table-form__dimensions-row"}),new Le(t,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Le(t,{labelView:T,children:[T,b,A],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Le(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),h({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=this.options.defaultTableCellProperties,e={style:t.borderStyle,width:t.borderWidth,color:t.borderColor},n=qa({colorConfig:this.options.borderColors,columns:5,defaultColorValue:e.color}),o=this.locale,r=this.t,s=new Ue(o);s.text=r("Border");const a=qh(r),c=new ne(o,ub);c.set({label:r("Style"),class:"ck-table-form__border-style"}),c.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:r("Style")}),c.fieldView.buttonView.bind("label").to(this,"borderStyle",u=>a[u||"none"]),c.fieldView.on("execute",u=>{this.borderStyle=u.source._borderStyleValue}),c.bind("isEmpty").to(this,"borderStyle",u=>!u),Dn(c.fieldView,qC(this,e.style));const l=new ne(o,We);l.set({label:r("Width"),class:"ck-table-form__border-width"}),l.fieldView.bind("value").to(this,"borderWidth"),l.bind("isEnabled").to(this,"borderStyle",$a),l.fieldView.on("input",()=>{this.borderWidth=l.fieldView.element.value});const d=new ne(o,n);return d.set({label:r("Color"),class:"ck-table-form__border-color"}),d.fieldView.bind("value").to(this,"borderColor"),d.bind("isEnabled").to(this,"borderStyle",$a),d.fieldView.on("input",()=>{this.borderColor=d.fieldView.value}),this.on("change:borderStyle",(u,m,b,A)=>{$a(b)||(this.borderColor="",this.borderWidth=""),$a(A)||(this.borderColor=e.color,this.borderWidth=e.width)}),{borderRowLabel:s,borderStyleDropdown:c,borderColorInput:d,borderWidthInput:l}}_createBackgroundFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Background");const o=qa({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor}),r=new ne(t,o);return r.set({label:e("Color"),class:"ck-table-cell-properties-form__background"}),r.fieldView.bind("value").to(this,"backgroundColor"),r.fieldView.on("input",()=>{this.backgroundColor=r.fieldView.value}),{backgroundRowLabel:n,backgroundInput:r}}_createDimensionFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Dimensions");const o=new ne(t,We);o.set({label:e("Width"),class:"ck-table-form__dimensions-row__width"}),o.fieldView.bind("value").to(this,"width"),o.fieldView.on("input",()=>{this.width=o.fieldView.element.value});const r=new q(t);r.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const s=new ne(t,We);return s.set({label:e("Height"),class:"ck-table-form__dimensions-row__height"}),s.fieldView.bind("value").to(this,"height"),s.fieldView.on("input",()=>{this.height=s.fieldView.element.value}),{dimensionsLabel:n,widthInput:o,operatorLabel:r,heightInput:s}}_createPaddingField(){const t=this.locale,e=this.t,n=new ne(t,We);return n.set({label:e("Padding"),class:"ck-table-cell-properties-form__padding"}),n.fieldView.bind("value").to(this,"padding"),n.fieldView.on("input",()=>{this.padding=n.fieldView.element.value}),n}_createAlignmentFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Table cell text alignment");const o=new ho(t),r=t.contentLanguageDirection==="rtl";o.set({isCompact:!0,ariaLabel:e("Horizontal text alignment toolbar")}),$h({view:this,icons:JC,toolbar:o,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:a=>{if(r){if(a==="left")return"right";if(a==="right")return"left"}return a},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const s=new ho(t);return s.set({isCompact:!0,ariaLabel:e("Vertical text alignment toolbar")}),$h({view:this,icons:JC,toolbar:s,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:o,verticalAlignmentToolbar:s,alignmentLabel:n}}_createActionButtons(){const t=this.locale,e=this.t,n=new Q(t),o=new Q(t),r=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return n.set({label:e("Save"),icon:J.check,class:"ck-button-save",type:"submit",withText:!0}),n.bind("isEnabled").toMany(r,"errorText",(...s)=>s.every(a=>!a)),o.set({label:e("Cancel"),icon:J.cancel,class:"ck-button-cancel",withText:!0}),o.delegate("execute").to(this,"cancel"),{saveButtonView:n,cancelButtonView:o}}get _horizontalAlignmentLabels(){const t=this.locale,e=this.t,n=e("Align cell text to the left"),o=e("Align cell text to the center"),r=e("Align cell text to the right"),s=e("Justify cell text");return t.uiLanguageDirection==="rtl"?{right:r,center:o,left:n,justify:s}:{left:n,center:o,right:r,justify:s}}get _verticalAlignmentLabels(){const t=this.t;return{top:t("Align cell text to the top"),middle:t("Align cell text to the middle"),bottom:t("Align cell text to the bottom")}}}function $a(i){return i!=="none"}function A7(i){const t=i.getSelectedElement();return t&&XC(t)?t:null}function Ka(i){const t=i.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&XC(e))return e;e=e.parent}return null}function XC(i){return!!i.getCustomProperty("table")&&Ut(i)}const Ii=ke.defaultPositions,Jh=[Ii.northArrowSouth,Ii.northArrowSouthWest,Ii.northArrowSouthEast,Ii.southArrowNorth,Ii.southArrowNorthWest,Ii.southArrowNorthEast,Ii.viewportStickyNorth];function t_(i,t){const e=i.plugins.get("ContextualBalloon");if(Ka(i.editing.view.document.selection)){let n;t==="cell"?n=n_(i):n=e_(i),e.updatePosition(n)}}function e_(i){const e=i.model.document.selection.getFirstPosition().findAncestor("table"),n=i.editing.mapper.toViewElement(e);return{target:i.editing.view.domConverter.mapViewToDom(n),positions:Jh}}function n_(i){const t=i.editing.mapper,e=i.editing.view.domConverter,n=i.model.document.selection;if(n.rangeCount>1)return{target:()=>C7(n.getRanges(),i),positions:Jh};const o=i_(n.getFirstPosition()),r=t.toViewElement(o);return{target:e.mapViewToDom(r),positions:Jh}}function i_(i){return i.nodeAfter&&i.nodeAfter.is("element","tableCell")?i.nodeAfter:i.findAncestor("tableCell")}function C7(i,t){const e=t.editing.mapper,n=t.editing.view.domConverter,o=Array.from(i).map(r=>{const s=i_(r.start),a=e.toViewElement(s);return new ft(n.mapViewToDom(a))});return ft.getBoundingRect(o)}const _7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>';function Mi(i){if(!i||!vt(i))return i;const{top:t,right:e,bottom:n,left:o}=i;if(t==e&&e==n&&n==o)return t}function Bi(i,t){const e=parseFloat(i);return Number.isNaN(e)||String(e)!==String(i)?i:`${e}${t}`}function Nr(i,t={}){const e=U({borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:""},i);return t.includeAlignmentProperty&&!e.alignment&&(e.alignment="center"),t.includePaddingProperty&&!e.padding&&(e.padding=""),t.includeVerticalAlignmentProperty&&!e.verticalAlignment&&(e.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!e.horizontalAlignment&&(e.horizontalAlignment=t.isRightToLeftContent?"right":"left"),e}const v7=500,o_={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class y7 extends S{static get requires(){return[fn]}static get pluginName(){return"TableCellPropertiesUI"}constructor(t){super(t),t.config.define("table.tableCellProperties",{borderColors:Ga,backgroundColors:Ga})}init(){const t=this.editor,e=t.t;this._defaultTableCellProperties=Nr(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:t.locale.contentLanguageDirection==="rtl"}),this._balloon=t.plugins.get(fn),this.view=null,this._isReady=!1,t.ui.componentFactory.add("tableCellProperties",n=>{const o=new Q(n);o.set({label:e("Cell properties"),icon:_7,tooltip:!0}),this.listenTo(o,"execute",()=>this._showView());const r=Object.values(o_).map(s=>t.commands.get(s));return o.bind("isEnabled").toMany(r,"isEnabled",(...s)=>s.some(a=>a)),o})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const t=this.editor,e=t.config.get("table.tableCellProperties"),n=ir(e.borderColors),o=nr(t.locale,n),r=ir(e.backgroundColors),s=nr(t.locale,r),a=new w7(t.locale,{borderColors:o,backgroundColors:s,defaultTableCellProperties:this._defaultTableCellProperties}),c=t.t;a.render(),this.listenTo(a,"submit",()=>{this._hideView()}),this.listenTo(a,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),a.keystrokes.set("Esc",(u,m)=>{this._hideView(),m()}),w({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const l=UC(c),d=WC(c);return a.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableCellBorderColor",errorText:l,validator:Wa})),a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableCellBorderWidth",errorText:d,validator:GC})),a.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:a.paddingInput,commandName:"tableCellPadding",errorText:d,validator:zr})),a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableCellWidth",errorText:d,validator:zr})),a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableCellHeight",errorText:d,validator:zr})),a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableCellBackgroundColor",errorText:l,validator:Wa})),a.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),a.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),a}_fillViewFormFromCommandValues(){const t=this.editor.commands,e=t.get("tableCellBorderStyle");Object.entries(o_).map(([n,o])=>{const r=this._defaultTableCellProperties[n]||"";return[n,t.get(o).value||r]}).forEach(([n,o])=>{(n==="borderColor"||n==="borderWidth")&&e.value==="none"||this.view.set(n,o)}),this._isReady=!0}_showView(){const t=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(t.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:n_(t)}),this._undoStepBatch=t.model.createBatch(),this.view.focus()}_hideView(){const t=this.editor;this.stopListening(t.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const t=this.editor,e=t.editing.view.document;Ka(e.selection)?this._isViewVisible&&t_(t,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,n,o)=>{this._isReady&&this.editor.execute(t,{value:o,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(t){const{commandName:e,viewField:n,validator:o,errorText:r}=t,s=yn(()=>{n.errorText=r},v7);return(a,c,l)=>{s.cancel(),this._isReady&&(o(l)?(this.editor.execute(e,{value:l,batch:this._undoStepBatch}),n.errorText=null):s())}}}class zn extends Y{constructor(t,e,n){super(t),this.attributeName=e,this._defaultValue=n}refresh(){const t=this.editor,n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t.model.document.selection);this.isEnabled=!!n.length,this.value=this._getSingleValue(n)}execute(t={}){const{value:e,batch:n}=t,o=this.editor.model,s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o.document.selection),a=this._getValueToSet(e);o.enqueueChange(n,c=>{a?s.forEach(l=>c.setAttribute(this.attributeName,a,l)):s.forEach(l=>c.removeAttribute(this.attributeName,l))})}_getAttribute(t){if(!t)return;const e=t.getAttribute(this.attributeName);if(e!==this._defaultValue)return e}_getValueToSet(t){if(t!==this._defaultValue)return t}_getSingleValue(t){const e=this._getAttribute(t[0]);return t.every(o=>this._getAttribute(o)===e)?e:void 0}}class x7 extends zn{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if(t=Bi(t,"px"),t!==this._defaultValue)return t}}class r_ extends S{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Br]}init(){const t=this.editor,e=Nr(t.config.get("table.tableCellProperties.defaultProperties"));ja(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new x7(t,e.width))}}class E7 extends zn{constructor(t,e){super(t,"tableCellPadding",e)}_getAttribute(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Bi(t,"px");if(e!==this._defaultValue)return e}}class D7 extends zn{constructor(t,e){super(t,"tableCellHeight",e)}_getValueToSet(t){const e=Bi(t,"px");if(e!==this._defaultValue)return e}}class T7 extends zn{constructor(t,e){super(t,"tableCellBackgroundColor",e)}}class S7 extends zn{constructor(t,e){super(t,"tableCellVerticalAlignment",e)}}class I7 extends zn{constructor(t,e){super(t,"tableCellHorizontalAlignment",e)}}class M7 extends zn{constructor(t,e){super(t,"tableCellBorderStyle",e)}_getAttribute(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class B7 extends zn{constructor(t,e){super(t,"tableCellBorderColor",e)}_getAttribute(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class z7 extends zn{constructor(t,e){super(t,"tableCellBorderWidth",e)}_getAttribute(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Bi(t,"px");if(e!==this._defaultValue)return e}}const s_=/^(top|middle|bottom)$/,a_=/^(left|center|right|justify)$/;class N7 extends S{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Br,r_]}init(){const t=this.editor,e=t.model.schema,n=t.conversion;t.config.define("table.tableCellProperties.defaultProperties",{});const o=Nr(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:t.locale.contentLanguageDirection==="rtl"});t.data.addStyleProcessorRules(jp),L7(e,n,{color:o.borderColor,style:o.borderStyle,width:o.borderWidth}),t.commands.add("tableCellBorderStyle",new M7(t,o.borderStyle)),t.commands.add("tableCellBorderColor",new B7(t,o.borderColor)),t.commands.add("tableCellBorderWidth",new z7(t,o.borderWidth)),ja(e,n,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:o.height}),t.commands.add("tableCellHeight",new D7(t,o.height)),t.data.addStyleProcessorRules(J4),ja(e,n,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:o.padding}),t.commands.add("tableCellPadding",new E7(t,o.padding)),t.data.addStyleProcessorRules(Cd),ja(e,n,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:o.backgroundColor}),t.commands.add("tableCellBackgroundColor",new T7(t,o.backgroundColor)),P7(e,n,o.horizontalAlignment),t.commands.add("tableCellHorizontalAlignment",new I7(t,o.horizontalAlignment)),R7(e,n,o.verticalAlignment),t.commands.add("tableCellVerticalAlignment",new S7(t,o.verticalAlignment))}}function L7(i,t,e){const n={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};i.extend("tableCell",{allowAttributes:Object.values(n)}),Sh(t,"td",n,e),Sh(t,"th",n,e),Mr(t,{modelElement:"tableCell",modelAttribute:n.style,styleName:"border-style"}),Mr(t,{modelElement:"tableCell",modelAttribute:n.color,styleName:"border-color"}),Mr(t,{modelElement:"tableCell",modelAttribute:n.width,styleName:"border-width"})}function P7(i,t,e){i.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:n=>({key:"style",value:{"text-align":n}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":a_}},model:{key:"tableCellHorizontalAlignment",value:n=>{const o=n.getStyle("text-align");return o===e?null:o}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:a_}},model:{key:"tableCellHorizontalAlignment",value:n=>{const o=n.getAttribute("align");return o===e?null:o}}})}function R7(i,t,e){i.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:n=>({key:"style",value:{"vertical-align":n}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":s_}},model:{key:"tableCellVerticalAlignment",value:n=>{const o=n.getStyle("vertical-align");return o===e?null:o}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:s_}},model:{key:"tableCellVerticalAlignment",value:n=>{const o=n.getAttribute("valign");return o===e?null:o}}})}class O7 extends S{static get pluginName(){return"TableCellProperties"}static get requires(){return[N7,y7]}}const V7=5,Xh=40,F7=2;function j7(i){const t=new Set;for(const e of i.document.differ.getChanges()){let n=null;switch(e.type){case"insert":n=["table","tableRow","tableCell"].includes(e.name)?e.position:null;break;case"remove":n=["tableRow","tableCell"].includes(e.name)?e.position:null;break;case"attribute":e.range.start.nodeAfter&&(n=["table","tableRow","tableCell"].includes(e.range.start.nodeAfter.name)?e.range.start:null);break}if(!n)continue;const o=n.nodeAfter&&n.nodeAfter.is("element","table")?n.nodeAfter:n.findAncestor("table");for(const r of i.createRangeOn(o).getItems())r.is("element","table")&&Pr(r)&&t.add(r)}return t}function H7(i,t){return Xh*100/c_(i,t)}function c_(i,t){const e=l_(i,"tbody",t)||l_(i,"thead",t),n=t.editing.view.domConverter.mapViewToDom(e);return tm(n)}function l_(i,t,e){return[...[...e.editing.mapper.toViewElement(i).getChildren()].find(r=>r.is("element","table")).getChildren()].find(r=>r.is("element",t))}function tm(i){const t=rt.window.getComputedStyle(i);return t.boxSizing==="border-box"?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function U7(i,t){const e=t.getCellLocation(i).column,n=i.getAttribute("colspan")||1;return{leftEdge:e,rightEdge:e+n-1}}function De(i){const t=Math.pow(10,F7),e=typeof i=="number"?i:parseFloat(i);return Math.round(e*t)/t}function W7(i,t,e){return i<=t?De(t):i>=e?De(e):De(i)}function G7(i,t){return Array(i).fill(t)}function Lr(i){return i.map(t=>typeof t=="number"?t:parseFloat(t)).filter(t=>!Number.isNaN(t)).reduce((t,e)=>t+e,0)}function em(i){const t=i.map(o=>o==="auto"?o:parseFloat(o.replace("%","")));let e=q7(t);const n=Lr(e);return n!==100&&(e=e.map(o=>De(o*100/n)).map((o,r,s)=>{if(!(r===s.length-1))return o;const c=Lr(s);return De(o+100-c)})),e.map(o=>o+"%")}function q7(i){const t=i.filter(o=>o==="auto").length;if(t===0)return i.map(o=>De(o));const e=Lr(i),n=Math.max((100-e)/t,V7);return i.map(o=>o==="auto"?n:o).map(o=>De(o))}function $7(i){const t=rt.window.getComputedStyle(i);return t.boxSizing==="border-box"?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function d_(i,t,e,n){for(let o=0;o<Math.max(e.length,i.length);o++){const r=i[o],s=e[o];s?r?n.setAttribute("columnWidth",s,r):n.appendElement("tableColumn",{columnWidth:s},t):n.remove(r)}}function Pr(i){if(i.is("element","tableColumnGroup"))return i;const t=i.getChildren();return Array.from(t).find(e=>e.is("element","tableColumnGroup"))}function nm(i){return Array.from(Pr(i).getChildren())}function u_(i){return nm(i).map(t=>t.getAttribute("columnWidth"))}class K7 extends Y{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:n}=this.editor;let{table:o=e.document.selection.getSelectedElement(),columnWidths:r,tableWidth:s}=t;r&&(r=Array.isArray(r)?r:r.split(",")),e.change(a=>{s?a.setAttribute("tableWidth",s,o):a.removeAttribute("tableWidth",o);const c=n.get("TableColumnResizeEditing").getColumnGroupElement(o);if(!r&&!c)return;if(!r)return a.remove(c);const l=em(r);if(c)Array.from(c.getChildren()).forEach((d,u)=>a.setAttribute("columnWidth",l[u],d));else{const d=a.createElement("tableColumnGroup");l.forEach(u=>a.appendElement("tableColumn",{columnWidth:u},d)),a.append(d,o)}})}}function Y7(i){return t=>t.on("element:colgroup",(e,n,o)=>{const r=n.modelCursor.findAncestor("table"),s=Pr(r);if(!s)return;const a=nm(s);let c=u_(s);const l=i.getColumns(r);c=Array.from({length:l},(d,u)=>c[u]||"auto"),(c.length!=a.length||c.includes("auto"))&&d_(a,s,em(c),o.writer)},{priority:"low"})}function Z7(){return i=>i.on("insert:table",(t,e,n)=>{const o=n.writer,r=e.item,s=n.mapper.toViewElement(r),a=s.is("element","table")?s:Array.from(s.getChildren()).find(l=>l.is("element","table"));Pr(e.item)?o.addClass("ck-table-resized",a):o.removeClass("ck-table-resized",a)},{priority:"low"})}class Q7 extends S{static get requires(){return[Br,me]}static get pluginName(){return"TableColumnResizeEditing"}constructor(t){super(t),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(vn()),this._tableUtilsPlugin=t.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(e,n,o)=>{t.editing.view.change(r=>{r[o?"removeClass":"addClass"]("ck-column-resize_disabled",t.editing.view.document.getRoot())})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const t=this.editor,e=t.plugins.get("TableColumnResize");t.plugins.get("TableEditing").registerAdditionalSlot({filter:r=>r.is("element","tableColumnGroup"),positionOffset:0});const o=new K7(t);t.commands.add("resizeTableWidth",o),t.commands.add("resizeColumnWidths",o),this.bind("_isResizingAllowed").to(t,"isReadOnly",e,"isEnabled",o,"isEnabled",(r,s,a)=>!r&&s&&a)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(t){return Pr(t)}getTableColumnElements(t){return nm(t)}getTableColumnsWidths(t){return u_(t)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth"],isLimit:!0})}_registerPostFixer(){const e=this.editor.model;e.document.registerPostFixer(r=>{let s=!1;for(const a of j7(e)){const c=this.getColumnGroupElement(a),l=this.getTableColumnElements(c),d=this.getTableColumnsWidths(c);let u=em(d);u=n(u,a,this),!so(d,u)&&(d_(l,c,u,r),s=!0)}return s});function n(r,s,a){const c=a._tableUtilsPlugin.getColumns(s);if(c-r.length===0)return r;const d=r.map(m=>Number(m.replace("%",""))),u=o(a.editor.model.document.differ,s);for(const m of u){const b=c-d.length;if(b===0)continue;const A=b>0,T=a._tableUtilsPlugin.getCellLocation(m).column;if(A){const B=H7(s,a.editor),L=G7(b,B);d.splice(T,0,...L)}else{const B=d.splice(T,Math.abs(b));d[T]+=Lr(B)}}return d.map(m=>m+"%")}function o(r,s){const a=new Set;for(const c of r.getChanges())if(c.type=="insert"&&c.position.nodeAfter&&c.position.nodeAfter.name=="tableCell"&&c.position.nodeAfter.getAncestors().includes(s))a.add(c.position.nodeAfter);else if(c.type=="remove"){const l=c.position.nodeBefore||c.position.nodeAfter;l.name=="tableCell"&&l.getAncestors().includes(s)&&a.add(l)}return a}}_registerConverters(){const e=this.editor.conversion;e.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:n=>n.getStyle("width")}}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:n=>({name:"figure",key:"style",value:{width:n}})}),e.elementToElement({model:"tableColumnGroup",view:"colgroup"}),e.elementToElement({model:"tableColumn",view:"col"}),e.for("downcast").add(Z7()),e.for("upcast").add(Y7(this._tableUtilsPlugin)),e.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:n=>{const o=n.getStyle("width");return!o||!o.endsWith("%")?"auto":o}}}),e.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:n=>({key:"style",value:{width:n}})})}_registerResizingListeners(){const t=this.editor.editing.view;t.addObserver(PC),t.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(rt.window.document,"mousemove",pa(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(rt.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(t,e){const n=e.target;if(!n.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;e.preventDefault(),t.stop();const o=this.editor,r=o.editing.mapper.toModelElement(n.findAncestor("figure")),s=l(r,this._tableUtilsPlugin,o),a=n.findAncestor("table"),c=o.editing.view;Array.from(a.getChildren()).find(m=>m.is("element","colgroup"))||c.change(m=>{d(m,s,a)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(e,s),c.change(m=>u(m,a,this._resizingData));function l(m,b,A){const T=Array(b.getColumns(m)),B=new At(m);for(const L of B){const j=A.editing.mapper.toViewElement(L.cell),dt=A.editing.view.domConverter.mapViewToDom(j),ht=$7(dt);(!T[L.column]||ht<T[L.column])&&(T[L.column]=De(ht))}return T}function d(m,b,A){const T=m.createContainerElement("colgroup");for(let B=0;B<b.length;B++){const L=m.createEmptyElement("col"),j=`${De(b[B]/Lr(b)*100)}%`;m.setStyle("width",j,L),m.insert(m.createPositionAt(T,"end"),L)}m.insert(m.createPositionAt(A,0),T)}function u(m,b,A){const T=A.widths.viewFigureWidth/A.widths.viewFigureParentWidth;m.addClass("ck-table-resized",b),m.addClass("ck-table-column-resizer__active",A.elements.viewResizer),m.setStyle("width",`${De(T*100)}%`,b.findAncestor("figure"))}}_onMouseMoveHandler(t,e){if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:n,flags:{isRightEdge:o,isTableCentered:r,isLtrContent:s},elements:{viewFigure:a,viewLeftColumn:c,viewRightColumn:l},widths:{viewFigureParentWidth:d,tableWidth:u,leftColumnWidth:m,rightColumnWidth:b}}=this._resizingData,A=-m+Xh,T=o?d-u:b-Xh,B=(s?1:-1)*(o&&r?2:1),L=W7((e.clientX-n)*B,Math.min(A,0),Math.max(T,0));L!==0&&this.editor.editing.view.change(j=>{const dt=De((m+L)*100/u);if(j.setStyle("width",`${dt}%`,c),o){const ht=De((u+L)*100/d);j.setStyle("width",`${ht}%`,a)}else{const ht=De((b-L)*100/u);j.setStyle("width",`${ht}%`,l)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:t,modelTable:e,viewFigure:n,viewColgroup:o}=this._resizingData.elements,r=this.editor,s=r.editing.view,a=this.getColumnGroupElement(e),c=Array.from(o.getChildren()).filter(T=>T.is("view:element")),l=a?this.getTableColumnsWidths(a):null,d=c.map(T=>T.getStyle("width")),u=!so(l,d),m=e.getAttribute("tableWidth"),b=n.getStyle("width"),A=m!==b;(u||A)&&(this._isResizingAllowed?r.execute("resizeTableWidth",{table:e,tableWidth:`${De(b)}%`,columnWidths:d}):s.change(T=>{if(l)for(const B of c)T.setStyle("width",l.shift(),B);else T.remove(o);A&&(m?T.setStyle("width",m,n):T.removeStyle("width",n)),!l&&!m&&T.removeClass("ck-table-resized",[...n.getChildren()].find(B=>B.name==="table"))})),s.change(T=>{T.removeClass("ck-table-column-resizer__active",t)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(t,e){const n=this.editor,o=t.domEvent.clientX,r=t.target,s=r.findAncestor("td")||r.findAncestor("th"),a=n.editing.mapper.toModelElement(s),c=a.findAncestor("table"),l=U7(a,this._tableUtilsPlugin).rightEdge,d=this._tableUtilsPlugin.getColumns(c)-1,u=l===d,m=!c.hasAttribute("tableAlignment"),b=n.locale.contentLanguageDirection!=="rtl",A=s.findAncestor("table"),T=A.findAncestor("figure"),B=[...A.getChildren()].find(Z=>Z.is("element","colgroup")),L=B.getChild(l),j=u?void 0:B.getChild(l+1),dt=tm(n.editing.view.domConverter.mapViewToDom(T.parent)),ht=tm(n.editing.view.domConverter.mapViewToDom(T)),Nt=c_(c,n),$=e[l],nt=u?void 0:e[l+1];return{columnPosition:o,flags:{isRightEdge:u,isTableCentered:m,isLtrContent:b},elements:{viewResizer:r,modelTable:c,viewFigure:T,viewColgroup:B,viewLeftColumn:L,viewRightColumn:j},widths:{viewFigureParentWidth:dt,viewFigureWidth:ht,tableWidth:Nt,leftColumnWidth:$,rightColumnWidth:nt}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(t=>{t.on("insert:tableCell",(e,n,o)=>{const r=n.item,s=o.mapper.toViewElement(r),a=o.writer;a.insert(a.createPositionAt(s,"end"),a.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var h_=I(728),im={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};im.insert="head",im.singleton=!0;var jF=V()(h_.Z,im);const HF=h_.Z.locals||{};class J7 extends S{static get requires(){return[Q7,r_]}static get pluginName(){return"TableColumnResize"}}class zi extends Y{constructor(t,e,n){super(t),this.attributeName=e,this._defaultValue=n}refresh(){const n=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!n,this.value=this._getValue(n)}execute(t={}){const e=this.editor.model,n=e.document.selection,{value:o,batch:r}=t,s=n.getFirstPosition().findAncestor("table"),a=this._getValueToSet(o);e.enqueueChange(r,c=>{a?c.setAttribute(this.attributeName,a,s):c.removeAttribute(this.attributeName,s)})}_getValue(t){if(!t)return;const e=t.getAttribute(this.attributeName);if(e!==this._defaultValue)return e}_getValueToSet(t){if(t!==this._defaultValue)return t}}class X7 extends zi{constructor(t,e){super(t,"tableBackgroundColor",e)}}class tR extends zi{constructor(t,e){super(t,"tableBorderColor",e)}_getValue(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class eR extends zi{constructor(t,e){super(t,"tableBorderStyle",e)}_getValue(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class nR extends zi{constructor(t,e){super(t,"tableBorderWidth",e)}_getValue(t){if(!t)return;const e=Mi(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=Bi(t,"px");if(e!==this._defaultValue)return e}}class iR extends zi{constructor(t,e){super(t,"tableWidth",e)}_getValueToSet(t){if(t=Bi(t,"px"),t!==this._defaultValue)return t}}class oR extends zi{constructor(t,e){super(t,"tableHeight",e)}_getValueToSet(t){if(t=Bi(t,"px"),t!==this._defaultValue)return t}}class rR extends zi{constructor(t,e){super(t,"tableAlignment",e)}}const sR=/^(left|center|right)$/,aR=/^(left|none|right)$/;class cR extends S{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Br]}init(){const t=this.editor,e=t.model.schema,n=t.conversion;t.config.define("table.tableProperties.defaultProperties",{});const o=Nr(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});t.data.addStyleProcessorRules(jp),lR(e,n,{color:o.borderColor,style:o.borderStyle,width:o.borderWidth}),t.commands.add("tableBorderColor",new tR(t,o.borderColor)),t.commands.add("tableBorderStyle",new eR(t,o.borderStyle)),t.commands.add("tableBorderWidth",new nR(t,o.borderWidth)),dR(e,n,o.alignment),t.commands.add("tableAlignment",new rR(t,o.alignment)),m_(e,n,{modelAttribute:"tableWidth",styleName:"width",defaultValue:o.width}),t.commands.add("tableWidth",new iR(t,o.width)),m_(e,n,{modelAttribute:"tableHeight",styleName:"height",defaultValue:o.height}),t.commands.add("tableHeight",new oR(t,o.height)),t.data.addStyleProcessorRules(Cd),uR(e,n,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:o.backgroundColor}),t.commands.add("tableBackgroundColor",new X7(t,o.backgroundColor))}}function lR(i,t,e){const n={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};i.extend("table",{allowAttributes:Object.values(n)}),Sh(t,"table",n,e),Va(t,{modelAttribute:n.color,styleName:"border-color"}),Va(t,{modelAttribute:n.style,styleName:"border-style"}),Va(t,{modelAttribute:n.width,styleName:"border-width"})}function dR(i,t,e){i.extend("table",{allowAttributes:["tableAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:n=>({key:"style",value:{float:n==="center"?"none":n}}),converterPriority:"high"}),t.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:aR}},model:{key:"tableAlignment",value:n=>{let o=n.getStyle("float");return o==="none"&&(o="center"),o===e?null:o}}}).attributeToAttribute({view:{attributes:{align:sR}},model:{name:"table",key:"tableAlignment",value:n=>{const o=n.getAttribute("align");return o===e?null:o}}})}function uR(i,t,e){const{modelAttribute:n}=e;i.extend("table",{allowAttributes:[n]}),Th(t,U({viewElement:"table"},e)),Va(t,e)}function m_(i,t,e){const{modelAttribute:n}=e;i.extend("table",{allowAttributes:[n]}),Th(t,U({viewElement:/^(table|figure)$/,shouldUpcast:o=>!(o.name=="table"&&o.parent.name=="figure")},e)),Mr(t,U({modelElement:"table"},e))}var g_=I(9221),om={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};om.insert="head",om.singleton=!0;var UF=V()(g_.Z,om);const WF=g_.Z.locals||{},hR={left:J.objectLeft,center:J.objectCenter,right:J.objectRight};class mR extends q{constructor(t,e){super(t),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=e;const{borderStyleDropdown:n,borderWidthInput:o,borderColorInput:r,borderRowLabel:s}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:c}=this._createBackgroundFields(),{widthInput:l,operatorLabel:d,heightInput:u,dimensionsLabel:m}=this._createDimensionFields(),{alignmentToolbar:b,alignmentLabel:A}=this._createAlignmentFields();this.focusTracker=new zt,this.keystrokes=new jt,this.children=this.createCollection(),this.borderStyleDropdown=n,this.borderWidthInput=o,this.borderColorInput=r,this.backgroundInput=c,this.widthInput=l,this.heightInput=u,this.alignmentToolbar=b;const{saveButtonView:T,cancelButtonView:B}=this._createActionButtons();this.saveButtonView=T,this.cancelButtonView=B,this._focusables=new be,this._focusCycler=new _e({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new ga(t,{label:this.t("Table properties")})),this.children.add(new Le(t,{labelView:s,children:[s,n,r,o],class:"ck-table-form__border-row"})),this.children.add(new Le(t,{labelView:a,children:[a,c],class:"ck-table-form__background-row"})),this.children.add(new Le(t,{children:[new Le(t,{labelView:m,children:[m,l,d,u],class:"ck-table-form__dimensions-row"}),new Le(t,{labelView:A,children:[A,b],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Le(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),h({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=this.options.defaultTableProperties,e={style:t.borderStyle,width:t.borderWidth,color:t.borderColor},n=qa({colorConfig:this.options.borderColors,columns:5,defaultColorValue:e.color}),o=this.locale,r=this.t,s=new Ue(o);s.text=r("Border");const a=qh(r),c=new ne(o,ub);c.set({label:r("Style"),class:"ck-table-form__border-style"}),c.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:r("Style")}),c.fieldView.buttonView.bind("label").to(this,"borderStyle",u=>a[u||"none"]),c.fieldView.on("execute",u=>{this.borderStyle=u.source._borderStyleValue}),c.bind("isEmpty").to(this,"borderStyle",u=>!u),Dn(c.fieldView,qC(this,e.style));const l=new ne(o,We);l.set({label:r("Width"),class:"ck-table-form__border-width"}),l.fieldView.bind("value").to(this,"borderWidth"),l.bind("isEnabled").to(this,"borderStyle",Ya),l.fieldView.on("input",()=>{this.borderWidth=l.fieldView.element.value});const d=new ne(o,n);return d.set({label:r("Color"),class:"ck-table-form__border-color"}),d.fieldView.bind("value").to(this,"borderColor"),d.bind("isEnabled").to(this,"borderStyle",Ya),d.fieldView.on("input",()=>{this.borderColor=d.fieldView.value}),this.on("change:borderStyle",(u,m,b,A)=>{Ya(b)||(this.borderColor="",this.borderWidth=""),Ya(A)||(this.borderColor=e.color,this.borderWidth=e.width)}),{borderRowLabel:s,borderStyleDropdown:c,borderColorInput:d,borderWidthInput:l}}_createBackgroundFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Background");const o=qa({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor}),r=new ne(t,o);return r.set({label:e("Color"),class:"ck-table-properties-form__background"}),r.fieldView.bind("value").to(this,"backgroundColor"),r.fieldView.on("input",()=>{this.backgroundColor=r.fieldView.value}),{backgroundRowLabel:n,backgroundInput:r}}_createDimensionFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Dimensions");const o=new ne(t,We);o.set({label:e("Width"),class:"ck-table-form__dimensions-row__width"}),o.fieldView.bind("value").to(this,"width"),o.fieldView.on("input",()=>{this.width=o.fieldView.element.value});const r=new q(t);r.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const s=new ne(t,We);return s.set({label:e("Height"),class:"ck-table-form__dimensions-row__height"}),s.fieldView.bind("value").to(this,"height"),s.fieldView.on("input",()=>{this.height=s.fieldView.element.value}),{dimensionsLabel:n,widthInput:o,operatorLabel:r,heightInput:s}}_createAlignmentFields(){const t=this.locale,e=this.t,n=new Ue(t);n.text=e("Alignment");const o=new ho(t);return o.set({isCompact:!0,ariaLabel:e("Table alignment toolbar")}),$h({view:this,icons:hR,toolbar:o,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:n,alignmentToolbar:o}}_createActionButtons(){const t=this.locale,e=this.t,n=new Q(t),o=new Q(t),r=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return n.set({label:e("Save"),icon:J.check,class:"ck-button-save",type:"submit",withText:!0}),n.bind("isEnabled").toMany(r,"errorText",(...s)=>s.every(a=>!a)),o.set({label:e("Cancel"),icon:J.cancel,class:"ck-button-cancel",withText:!0}),o.delegate("execute").to(this,"cancel"),{saveButtonView:n,cancelButtonView:o}}get _alignmentLabels(){const t=this.locale,e=this.t,n=e("Align table to the left"),o=e("Center table"),r=e("Align table to the right");return t.uiLanguageDirection==="rtl"?{right:r,center:o,left:n}:{left:n,center:o,right:r}}}function Ya(i){return i!=="none"}const gR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',fR=500,f_={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class pR extends S{static get requires(){return[fn]}static get pluginName(){return"TablePropertiesUI"}constructor(t){super(t),this.view=null,t.config.define("table.tableProperties",{borderColors:Ga,backgroundColors:Ga})}init(){const t=this.editor,e=t.t;this._defaultTableProperties=Nr(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=t.plugins.get(fn),t.ui.componentFactory.add("tableProperties",n=>{const o=new Q(n);o.set({label:e("Table properties"),icon:gR,tooltip:!0}),this.listenTo(o,"execute",()=>this._showView());const r=Object.values(f_).map(s=>t.commands.get(s));return o.bind("isEnabled").toMany(r,"isEnabled",(...s)=>s.some(a=>a)),o})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const t=this.editor,e=t.config.get("table.tableProperties"),n=ir(e.borderColors),o=nr(t.locale,n),r=ir(e.backgroundColors),s=nr(t.locale,r),a=new mR(t.locale,{borderColors:o,backgroundColors:s,defaultTableProperties:this._defaultTableProperties}),c=t.t;a.render(),this.listenTo(a,"submit",()=>{this._hideView()}),this.listenTo(a,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),a.keystrokes.set("Esc",(u,m)=>{this._hideView(),m()}),w({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const l=UC(c),d=WC(c);return a.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableBorderColor",errorText:l,validator:Wa})),a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableBorderWidth",errorText:d,validator:GC})),a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableBackgroundColor",errorText:l,validator:Wa})),a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableWidth",errorText:d,validator:zr})),a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableHeight",errorText:d,validator:zr})),a.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),a}_fillViewFormFromCommandValues(){const t=this.editor.commands,e=t.get("tableBorderStyle");Object.entries(f_).map(([n,o])=>{const r=n,s=this._defaultTableProperties[r]||"";return[r,t.get(o).value||s]}).forEach(([n,o])=>{(n==="borderColor"||n==="borderWidth")&&e.value==="none"||this.view.set(n,o)}),this._isReady=!0}_showView(){const t=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(t.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:e_(t)}),this._undoStepBatch=t.model.createBatch(),this.view.focus()}_hideView(){const t=this.editor;this.stopListening(t.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const t=this.editor,e=t.editing.view.document;Ka(e.selection)?this._isViewVisible&&t_(t,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,n,o)=>{this._isReady&&this.editor.execute(t,{value:o,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(t){const{commandName:e,viewField:n,validator:o,errorText:r}=t,s=yn(()=>{n.errorText=r},fR);return(a,c,l)=>{s.cancel(),this._isReady&&(o(l)?(this.editor.execute(e,{value:l,batch:this._undoStepBatch}),n.errorText=null):s())}}}class bR extends S{static get pluginName(){return"TableProperties"}static get requires(){return[cR,pR]}}class kR extends S{static get requires(){return[Ea]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(Ea),o=t.config.get("table.contentToolbar"),r=t.config.get("table.tableToolbar");o&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:Ka}),r&&n.register("table",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:A7})}}const Rr="todoListChecked";class wR extends Y{constructor(t){super(t),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(t=>!!t.getAttribute(Rr)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const t=this.editor.model,e=t.schema,n=t.document.selection.getFirstRange(),o=n.start.parent,r=[];e.checkAttribute(o,Rr)&&r.push(o);for(const s of n.getItems())e.checkAttribute(s,Rr)&&!r.includes(s)&&r.push(s);return r}execute(t={}){this.editor.model.change(e=>{for(const n of this._selectedElements)(t.forceValue===void 0?!this.value:t.forceValue)?e.setAttribute(Rr,!0,n):e.removeAttribute(Rr,n)})}}function AR(i,t){return(e,n,o)=>{const r=o.consumable;if(!r.test(n.item,"insert")||!r.test(n.item,"attribute:listType")||!r.test(n.item,"attribute:listIndent")||n.item.getAttribute("listType")!="todo")return;const s=n.item;r.consume(s,"insert"),r.consume(s,"attribute:listType"),r.consume(s,"attribute:listIndent"),r.consume(s,"attribute:todoListChecked");const a=o.writer,c=Xu(s,o),l=!!s.getAttribute("todoListChecked"),d=rm(s,a,l,t),u=a.createContainerElement("span",{class:"todo-list__label__description"});a.addClass("todo-list",c.parent),a.insert(a.createPositionAt(c,0),d),a.insert(a.createPositionAfter(d),u),za(s,c,o,i)}}function CR(i){return(t,e,n)=>{const o=n.consumable;if(!o.test(e.item,"insert")||!o.test(e.item,"attribute:listType")||!o.test(e.item,"attribute:listIndent")||e.item.getAttribute("listType")!="todo")return;const r=e.item;o.consume(r,"insert"),o.consume(r,"attribute:listType"),o.consume(r,"attribute:listIndent"),o.consume(r,"attribute:todoListChecked");const s=n.writer,a=Xu(r,n);s.addClass("todo-list",a.parent);const c=s.createContainerElement("label",{class:"todo-list__label"}),l=s.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),d=s.createContainerElement("span",{class:"todo-list__label__description"});r.getAttribute("todoListChecked")&&s.setAttribute("checked","checked",l),s.insert(s.createPositionAt(a,0),c),s.insert(s.createPositionAt(c,0),l),s.insert(s.createPositionAfter(l),d),za(r,a,n,i)}}const _R=(i,t,e)=>{const n=t.modelCursor,o=n.parent,r=t.viewItem;if(r.getAttribute("type")!="checkbox"||o.name!="listItem"||!n.isAtStart||!e.consumable.consume(r,{name:!0}))return;const s=e.writer;s.setAttribute("listType","todo",o),t.viewItem.hasAttribute("checked")&&s.setAttribute("todoListChecked",!0,o),t.modelRange=s.createRange(n)};function vR(i,t){return(e,n,o)=>{if(!o.consumable.consume(n.item,e.name))return;const r=o.mapper.toViewElement(n.item),s=o.writer,a=xR(r,t);if(n.attributeNewValue=="todo"){const c=!!n.item.getAttribute("todoListChecked"),l=rm(n.item,s,c,i),d=s.createContainerElement("span",{class:"todo-list__label__description"}),u=s.createRangeIn(r),m=gA(r),b=th(u.start),A=m?s.createPositionBefore(m):u.end,T=s.createRange(b,A);s.addClass("todo-list",r.parent),s.move(T,s.createPositionAt(d,0)),s.insert(s.createPositionAt(r,0),l),s.insert(s.createPositionAfter(l),d)}else if(n.attributeOldValue=="todo"){const c=b_(r,t);s.removeClass("todo-list",r.parent),s.remove(a),s.move(s.createRangeIn(c),s.createPositionBefore(c)),s.remove(c)}}}function yR(i){return(t,e,n)=>{if(e.item.getAttribute("listType")!="todo"||!n.consumable.consume(e.item,"attribute:todoListChecked"))return;const{mapper:o,writer:r}=n,s=!!e.item.getAttribute("todoListChecked"),c=o.toViewElement(e.item).getChild(0),l=rm(e.item,r,s,i);r.insert(r.createPositionAfter(c),l),r.remove(c)}}function p_(i){return(t,e)=>{const n=e.modelPosition,o=n.parent;if(!o.is("element","listItem")||o.getAttribute("listType")!="todo")return;const r=e.mapper.toViewElement(o),s=b_(r,i);s&&(e.viewPosition=e.mapper.findPositionIn(s,n.offset))}}function rm(i,t,e,n){return t.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(r){const s=Fi(document,"input",{type:"checkbox",tabindex:"-1"});e&&s.setAttribute("checked","checked"),s.addEventListener("change",()=>n(i));const a=this.toDomElement(r);return a.appendChild(s),a})}function xR(i,t){const e=t.createRangeIn(i);for(const n of e)if(n.item.is("uiElement","label"))return n.item}function b_(i,t){const e=t.createRangeIn(i);for(const n of e)if(n.item.is("containerElement","span")&&n.item.hasClass("todo-list__label__description"))return n.item}const ER=Fs("Ctrl+Enter");class DR extends S{static get pluginName(){return"TodoListEditing"}static get requires(){return[ih]}init(){const t=this.editor,{editing:e,data:n,model:o}=t;o.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),o.schema.addAttributeCheck((a,c)=>{const l=a.last;if(c=="todoListChecked"&&l.name=="listItem"&&l.getAttribute("listType")!="todo")return!1}),t.commands.add("todoList",new Ju(t,"todo"));const r=new wR(t);t.commands.add("checkTodoList",r),t.commands.add("todoListCheck",r),n.downcastDispatcher.on("insert:listItem",CR(o),{priority:"high"}),n.upcastDispatcher.on("element:input",_R,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",AR(o,a=>this._handleCheckmarkChange(a)),{priority:"high"}),e.downcastDispatcher.on("attribute:listType:listItem",vR(a=>this._handleCheckmarkChange(a),e.view)),e.downcastDispatcher.on("attribute:todoListChecked:listItem",yR(a=>this._handleCheckmarkChange(a))),e.mapper.on("modelToViewPosition",p_(e.view)),n.mapper.on("modelToViewPosition",p_(e.view)),this.listenTo(e.view.document,"arrowKey",TR(o,t.locale),{context:"li"}),this.listenTo(e.view.document,"keydown",(a,c)=>{ui(c)===ER&&(t.execute("checkTodoList"),a.stop())},{priority:"high"});const s=new Set;this.listenTo(o,"applyOperation",(a,c)=>{const l=c[0];if(l.type=="rename"&&l.oldName=="listItem"){const d=l.position.nodeAfter;d.hasAttribute("todoListChecked")&&s.add(d)}else if(l.type=="changeAttribute"&&l.key=="listType"&&l.oldValue==="todo")for(const d of l.range.getItems())d.hasAttribute("todoListChecked")&&d.getAttribute("listType")!=="todo"&&s.add(d)}),o.document.registerPostFixer(a=>{let c=!1;for(const l of s)a.removeAttribute("todoListChecked",l),c=!0;return s.clear(),c})}_handleCheckmarkChange(t){const e=this.editor,n=e.model,o=Array.from(n.document.selection.getRanges());n.change(r=>{r.setSelection(t,"end"),e.execute("checkTodoList"),r.setSelection(o)})}}function TR(i,t){return(e,n)=>{if(js(n.keyCode,t.contentLanguageDirection)!="left")return;const r=i.schema,s=i.document.selection;if(!s.isCollapsed)return;const a=s.getFirstPosition(),c=a.parent;if(c.name==="listItem"&&c.getAttribute("listType")=="todo"&&a.isAtStart){const l=r.getNearestSelectionRange(i.createPositionBefore(c),"backward");l&&i.change(d=>d.setSelection(l)),n.preventDefault(),n.stopPropagation(),e.stop()}}}const SR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';class IR extends S{static get pluginName(){return"TodoListUI"}init(){const t=this.editor.t;eh(this.editor,"todoList",t("To-do List"),SR)}}var k_=I(1588),sm={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sm.insert="head",sm.singleton=!0;var GF=V()(k_.Z,sm);const qF=k_.Z.locals||{};class MR extends S{static get requires(){return[DR,IR]}static get pluginName(){return"TodoList"}}const Or="underline";class BR extends S{static get pluginName(){return"UnderlineEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Or}),t.model.schema.setAttributeProperties(Or,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Or,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(Or,new bo(t,Or)),t.keystrokes.set("CTRL+U","underline")}}const zR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',am="underline";class NR extends S{static get pluginName(){return"UnderlineUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(am,n=>{const o=t.commands.get(am),r=new Q(n);return r.set({label:e("Underline"),icon:zR,keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute(am),t.editing.view.focus()}),r})}}class LR extends S{static get requires(){return[BR,NR]}static get pluginName(){return"Underline"}}class cm extends ba{}cm.builtinPlugins=[QT,bS,DS,IS,FS,YS,eI,pI,xI,II,VI,ZI,$M,nB,dB,kB,NB,OB,a6,m6,x6,E6,vw,I6,z6,R6,qz,hN,jN,nL,yL,Dr,aP,hP,Ck,bP,EP,tC,eC,IP,NP,GP,YP,XP,c7,p7,O7,J7,bR,kR,lS,MR,LR],cm.defaultConfig={toolbar:{items:["heading","|","fontSize","alignment","|","fontColor","fontBackgroundColor","|","bold","italic","strikethrough","underline","|","link","|","outdent","indent","bulletedList","numberedList","todoList","insertTable","imageInsert","blockQuote","undo","redo"]},language:"zh-cn",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]}};const PR=cm})(),H=H.default,H})())},29335:function(W){"use strict";function R(G,F){return Object.prototype.hasOwnProperty.call(G,F)}W.exports=function(G,F,I,H){F=F||"&",I=I||"=";var w={};if(typeof G!="string"||G.length===0)return w;var k=/\+/g;G=G.split(F);var h=1e3;H&&typeof H.maxKeys=="number"&&(h=H.maxKeys);var y=G.length;h>0&&y>h&&(y=h);for(var x=0;x<y;++x){var C=G[x].replace(k,"%20"),E=C.indexOf(I),p,D,it,Ct;E>=0?(p=C.substr(0,E),D=C.substr(E+1)):(p=C,D=""),it=decodeURIComponent(p),Ct=decodeURIComponent(D),R(w,it)?N(w[it])?w[it].push(Ct):w[it]=[w[it],Ct]:w[it]=Ct}return w};var N=Array.isArray||function(G){return Object.prototype.toString.call(G)==="[object Array]"}},68795:function(W){"use strict";var R=function(I){switch(typeof I){case"string":return I;case"boolean":return I?"true":"false";case"number":return isFinite(I)?I:"";default:return""}};W.exports=function(I,H,w,k){return H=H||"&",w=w||"=",I===null&&(I=void 0),typeof I=="object"?G(F(I),function(h){var y=encodeURIComponent(R(h))+w;return N(I[h])?G(I[h],function(x){return y+encodeURIComponent(R(x))}).join(H):y+encodeURIComponent(R(I[h]))}).join(H):k?encodeURIComponent(R(k))+w+encodeURIComponent(R(I)):""};var N=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"};function G(I,H){if(I.map)return I.map(H);for(var w=[],k=0;k<I.length;k++)w.push(H(I[k],k));return w}var F=Object.keys||function(I){var H=[];for(var w in I)Object.prototype.hasOwnProperty.call(I,w)&&H.push(w);return H}},87735:function(W,R,N){"use strict";var G;G=N(29335),G=R.stringify=N(68795)}}]);
