(self.webpackChunk=self.webpackChunk||[]).push([[822],{74877:function(mt,Ee,d){"use strict";d.d(Ee,{CT:function(){return U},DP:function(){return Ae},Hb:function(){return K},Nr:function(){return He},SP:function(){return Qe},UO:function(){return V},WL:function(){return xe},a1:function(){return H},ej:function(){return Le},j1:function(){return Ue},kT:function(){return ee},mr:function(){return Ke},p$:function(){return Se},pv:function(){return L},qA:function(){return Ve},td:function(){return f},wy:function(){return R},yL:function(){return ot},zp:function(){return ce}});var De=d(5574),X=d.n(De),Re=d(52677),oe=d.n(Re),Te=d(15009),p=d.n(Te),_e=d(99289),q=d.n(_e),Ie=d(62435),D=d(96486),j=d.n(D),$=d(68872);function xe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=new Date;r.setTime(r.getTime()+n*60*60*1e3*365),o?(document.cookie=e+"="+t+"; expires="+r.toUTCString()+"; path=/; Secure",document.cookie=e+"="+t+"; expires="+r.toUTCString()+"; path=/; SameSite=None; Secure"):document.cookie=e+"="+t+"; expires="+r.toUTCString()+"; path=/"}function k(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4?arguments[4]:void 0,u=new Date;u.setTime(u.getTime()+n*60*60*1e3*365),o?(document.cookie=e+"="+t+"; expires="+u.toUTCString()+"; path=/; Secure",document.cookie=e+"="+t+"; expires="+u.toUTCString()+"; path=/; SameSite=None; Secure"):document.cookie=e+"="+t+"; expires="+u.toUTCString()+"; path=/;domain="+r+";"}function Le(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return""}function ee(e){xe(e,"",-1)}function G(e,t){k(e,"",-1,!1,t)}function Je(e){return e.target.value.replace(/(^\s*)|(\s*$)/g,"")}function Ne(){var e=Math.floor(Math.random()*16777215).toString(16);return e.length==6?"#"+e:Ne()}function Be(e,t){var n=t-e;return e+Math.floor(Math.random()*n)}function Ae(){var e=window.location.href,t=e.split("?")[1],n=new URLSearchParams(t),o=Object.fromEntries(n.entries());return o}function Ue(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]===""||e[t]===void 0||e[t]===null)&&delete e[t];return e}function We(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.size=1e8,t.current=1;var n="";Object.keys(t).forEach(function(o,r){var u="".concat(o,"=").concat(t[o]);r>0&&(u="&"+u),n+=u}),window.open("/".concat(e,"?").concat(n))}function te(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={};for(var n in e)e.hasOwnProperty(n)&&e[n]&&(t[n]=JSON.stringify(e[n]));return t}function a(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.substring(t)}var Ye=function(t){var n=localStorage.getItem(t);return n!=null&&(n=JSON.parse(n)),n};function qe(){var e=navigator.userAgent.toLowerCase(),t={},n={IE:window.ActiveXObject||"ActiveXObject"in window,Chrome:e.indexOf("chrome")>-1&&e.indexOf("safari")>-1,Firefox:e.indexOf("firefox")>-1,Opera:e.indexOf("opera")>-1,Safari:e.indexOf("safari")>-1&&e.indexOf("chrome")===-1,Edge:e.indexOf("edge")>-1,QQBrowser:/qqbrowser/.test(e),WeixinBrowser:/MicroMessenger/i.test(e)};for(var o in n)if(n[o]){var r="";if(o==="IE")r=e.match(/(msie\s|trident.*rv:)([\w.]+)/)[2];else if(o==="Chrome"){for(var u in navigator.mimeTypes)navigator.mimeTypes[u].type==="application/360softmgrplugin"&&(o="360");r=e.match(/chrome\/([\d.]+)/)[1]}else o==="Firefox"?r=e.match(/firefox\/([\d.]+)/)[1]:o==="Opera"?r=e.match(/opera\/([\d.]+)/)[1]:o==="Safari"?r=e.match(/version\/([\d.]+)/)[1]:o==="Edge"?r=e.match(/edge\/([\d.]+)/)[1]:o==="QQBrowser"&&(r=e.match(/qqbrowser\/([\d.]+)/)[1]);t.type=o,t.versions=parseInt(r)}return t}function et(){var e=navigator.userAgent,t=navigator.platform=="Win32"||navigator.platform=="Windows",n=navigator.platform=="Mac68K"||navigator.platform=="MacPPC"||navigator.platform=="Macintosh"||navigator.platform=="MacIntel";if(n)return"MacOS";var o=navigator.platform=="X11"&&!t&&!n;if(o)return"Unix";var r=String(navigator.platform).indexOf("Linux")>-1;if(r)return"Linux";if(t){var u=e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1;if(u)return"Win2000";var v=e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1;if(v)return"WinXP";var S=e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1;if(S)return"Win2003";var h=e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1;if(h)return"WinVista";var x=e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1;if(x)return"Win7";var m=e.indexOf("Windows NT 10")>-1||e.indexOf("Windows 10")>-1;if(m)return"Win10"}return"other"}function tt(e,t,n,o){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(u,v){var S=document.createElement("canvas"),h=S.getContext("2d"),x=e.width,m=e.height,F=n,E=o,N=x,I=m;(x>F||m>E)&&(x/m>1?(N=F,I=Math.round(F*(m/x))):(I=E,N=Math.round(E*(x/m)))),S.width=N,S.height=I,h.clearRect(0,0,N,I),h.drawImage(e,0,0,N,I);var Q=S.toDataURL("image/png",1);u(Q)})}var Ze=function(t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="blob",r.onload=function(){this.status===200&&n(this.response)},r.onerror=o,r.send()})},$e=function(t,n){return new window.File([t],n,{type:t.type})},nt=null;function rt(e,t){var n=e.split("."),o=t.split("."),r=n.length,u=o.length,v=Math.min(r,u),S=0;for(S;S<v;S++){var h=parseInt(n[S]),x=parseInt(o[S]);if(h>x)return 1;if(h<x)return-1}if(r>u){for(var m=S;m<r;m++)if(parseInt(n[m])!=0)return 1;return 0}else if(r<u){for(var F=S;F<u;F++)if(parseInt(o[F])!=0)return-1;return 0}return 0}function Se(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(oe()(e)!=="object"||e===null||e.$$typeof)return e;if(t.has(e))return t.get(e);var n=Array.isArray(e)?[]:{};return Reflect.ownKeys(e).forEach(function(o){var r=e[o];oe()(r)==="object"&&r!=null?n[o]=Se(r,t):n[o]=r}),n}var ke=function(t){var n=document.querySelector(".common-preview-image-container"),o=document.querySelector(".common-preview-image-container img");n.classList.add("common-preview-image-container-show"),o.src=t},at=function(t){var n=t.target,o=n.tagName.toLowerCase();o==="img"&&le(n,"report-rich-text-container")&&(t.stopPropagation(),ke(n.src||n.currentSrc))},le=function(t,n){for(;t;){var o=t,r=o.className;if(r.includes(n))return!0;t=t.parentElement}return!1},ce=function(t){var n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.clip="rect(0 0 0 0)",n.value=t,n.select(),document.execCommand("copy",!0),n.remove(),$.ZP.success("\u590D\u5236\u6210\u529F")},ot=function(t){var n=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60,u;return n>0?u="".concat(n,":").concat(o.toFixed(0).padStart(2,"0"),":").concat(r.toFixed(0).padStart(2,"0")):u="".concat(o,":").concat(r.toFixed(0).padStart(2,"0")),t<0?"00:00":u},we={a:6,b:7,c:6,d:7,e:6,f:4,g:7,h:7,i:3,j:3,k:6,l:3,m:10,n:7,o:7,p:7,q:7,r:4,s:5,t:4,u:7,v:6,w:9,x:6,y:6,z:5,A:8,B:7,C:7,D:8,E:6,F:6,G:8,H:9,I:3,J:4,K:7,L:6,M:11,N:9,O:9,P:7,Q:9,R:7,S:6,T:6,U:8,V:7,W:11,X:7,Y:7,Z:7," ":3,".":3,"@":11,"\uFF08":12,"\uFF09":12,"(":4,")":4,"\uFF1A":12,":":3,_:5,"-":5,"/":5,$:6,"%":10,",":3,"|":3,"~":8,";":3,"'":3,"\\":5,"+":8,"=":8,">":8,'"':5,"[":4,"]":4,"<":8,"\u2018":3,"\u2019":3,"\u201C":5,"\u201D":5,"*":5,"&":10,"{":4,"}":4,"^":8,0:6,1:6,2:6,3:6,4:6,5:6,6:6,7:6,8:6,9:6},ze=function(t){for(var n=0,o=0;o<t.length;o++){var r=t[o];n+=we[r]||2}return n};function Ke(e){var t=60,n=t*60,o=n*24,r=Math.floor(e/o),u=Math.floor(e%o/n),v=Math.floor(e%n/t),S=e%t,h="";return e<t?h="".concat(e,"\u79D2"):e<n?h="".concat(v,"\u5206").concat(S,"\u79D2"):e<o?h="".concat(u,"\u5C0F\u65F6").concat(v,"\u5206").concat(S,"\u79D2"):h="".concat(r,"\u5929").concat(u,"\u5C0F\u65F6").concat(v,"\u5206").concat(S,"\u79D2"),h}var He=function(t,n,o){var r=(0,Ie.useRef)();return r.current||(r.current=(0,D.debounce)(t,n,o)),r.current},it=function(t,n,o){var r=document.createElement("a");r.href=t.toDataURL(n),r.download="".concat(o,".png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Ve=function(t){var n=Object.fromEntries(new URLSearchParams(window.location.search).entries());t.forEach(function(u){delete n[u]});var o=new URLSearchParams(n).toString(),r="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(o).concat(window.location.hash);window.history.replaceState({path:r},"",r)},Qe=function(t,n){for(var o=new URL(window.location.href),r=0,u=Object.entries(t);r<u.length;r++){var v=X()(u[r],2),S=v[0],h=v[1];o.searchParams.set(S,h)}var x=o.toString();window.history.replaceState({path:n||x},"",n||x)};function f(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";var n=1024,o=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],u=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,u)).toFixed(o))+" "+r[u]}var M=function(t){var n=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60,u;return n>0?u="".concat(n,"\u5C0F\u65F6").concat(o.toFixed(0).padStart(2,"0"),"\u5206").concat(r.toFixed(0).padStart(2,"0"),"\u79D2"):u="".concat(o,"\u5206").concat(r.toFixed(0).padStart(2,"0"),"\u79D2"),u};function U(e,t){return W.apply(this,arguments)}function W(){return W=q()(p()().mark(function e(t,n){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.forEach(function(u,v){setTimeout(function(){z(u.url,u.name,n)},500*v)});case 1:case"end":return r.stop()}},e)})),W.apply(this,arguments)}function z(e,t,n){return A.apply(this,arguments)}function A(){return A=q()(p()().mark(function e(t,n,o){var r;return p()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:r=document.createElement("a"),r.href=t,r.download=n||t.substring(t.lastIndexOf("/")+1),r.style.display="none",document.body.appendChild(r),r.click(),o&&o(),document.body.removeChild(r);case 8:case"end":return v.stop()}},e)})),A.apply(this,arguments)}var K=function(t,n){return t.is_superuser||t.username===n};function H(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.replace(/[A-Z]/g,function(t){return"_"+t.toLowerCase()})}function Z(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.replace(/-([a-z])/g,function(t,n){return n.toUpperCase()})}function V(e){var t=/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;return t.test(e)}function R(e,t,n,o){var r=null,u=e.scrollLeft,v=t-u,S=20;function h(){var x=new Date().getTime();r=r||x;var m=x-r,F=Math.min(m/n,1),E=u+v*F;o==="x"?e.scrollLeft=E:e.scrollTop=E,m<n&&requestAnimationFrame(h)}h()}function L(e,t,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,r=e.scrollLeft,u=e.scrollTop,v=t-r,S=n-u,h=performance.now();function x(){var m=performance.now()-h,F=m/o;F<1?(e.scrollLeft=r+v*Math.easeInOutQuad(F),e.scrollTop=u+S*Math.easeInOutQuad(F),requestAnimationFrame(x)):(e.scrollLeft=t,e.scrollTop=n)}Math.easeInOutQuad=function(m){return m<.5?2*m*m:-1+(4-2*m)*m},x()}},47731:function(mt,Ee,d){"use strict";d.d(Ee,{Z:function(){return Qe}});var De=d(15009),X=d.n(De),Re=d(99289),oe=d.n(Re),Te=d(97857),p=d.n(Te),_e=d(19632),q=d.n(_e),Ie=d(5574),D=d.n(Ie),j=d(62435),$=d(77683),xe=d(90930),k=d(88026),Le=d(75440),ee=d(94060),G=d(81182),Je=d(96456),Ne=d(74330),Be=d(32983),Ae=d(96074),Ue=d(23279),We=d.n(Ue),te=d(74877),a=d(86074),Ye=Le.default.RangePicker,qe=ee.Z.Option;function et(f,M){var U=f.searchOptions,W=f.searchButton,z=f.handleRequestParams,A=f.setCurrent,K=f.hideReset,H=f.hideSearchButton,Z=(0,j.useState)({}),V=D()(Z,2),R=V[0],L=V[1],e=(0,j.useState)({}),t=D()(e,2),n=t[0],o=t[1],r=G.Z.useForm(),u=D()(r,1),v=u[0];(0,j.useImperativeHandle)(M,function(){return{setField:fe}}),(0,j.useEffect)(function(){S(),h(),m()},[]);var S=function(){v.setFieldsValue((0,te.DP)())},h=function(){var i=U.filter(function(g){return g.type==="selectRemote"});i.forEach(function(g){N(g)})},x=function(){var i=Object.keys(v.getFieldsValue());i.forEach(function(g){var l=U.find(function(s){return s.form.name===g});(l==null?void 0:l.type)==="selectMultiple"?v.setFieldValue(g,[""]):l.type==="select"?v.setFieldValue(g,""):v.setFieldValue(g,void 0)}),m()},m=function(){var i=F(v.getFieldsValue()),g=U.filter(function(O){return O.type==="select"||O.type==="selectMultiple"});g.forEach(function(O){var _=O.form.name,P=O.type;P==="select"&&i[_]===""&&v.setFieldValue(_,""),P==="selectMultiple"&&i[_].length===0&&v.setFieldValue(_,[""])});var l=(0,te.DP)(),s=l.current,c=l.page_num,C=parseInt(s)||parseInt(c)||1;i.current=C,A(C),z(i)},F=function(i){return i.date&&i.date.length>0?(i.startTime=i.date[0].format("yyyy-MM-DD"),i.endTime=i.date[1].format("yyyy-MM-DD"),delete i.date):(i.startTime="",i.endTime=""),i},E=function(i,g){g&&(R[i]=[],L(p()({},R))),n[i]=g,o(p()({},n))},N=function(){var y=oe()(X()().mark(function i(g){var l,s,c,C,O=arguments;return X()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return l=O.length>1&&O[1]!==void 0?O[1]:"",s=g.form,c=g.componentOptions,P.prev=2,E(s.name,!0),P.next=6,c==null?void 0:c.getOptionsList(l);case 6:C=P.sent,R[s.name]=C,L(p()({},R)),P.next=14;break;case 11:P.prev=11,P.t0=P.catch(2),console.log(P.t0);case 14:return P.prev=14,E(s.name,!1),P.finish(14);case 17:case"end":return P.stop()}},i,null,[[2,11,14,17]])}));return function(g){return y.apply(this,arguments)}}(),I=function(i){switch(i.type){case"input":return me(i);case"select":return se(i);case"selectMultiple":return he(i);case"selectMultipleNotAll":return Y(i);case"selectRemote":return ve(i);case"rangePicker":return ae(i);default:return(0,a.jsx)(a.Fragment,{})}},Q=function(i,g){N(i,g)},ie=We()(Q,500),de=function(i,g){var l=i.target.value.trim();v.setFieldValue(g,l)},ne=function(i,g,l){if(i.length>0){var s=i.find(function(c){return c===""});if(i.length===l.length-1&&!s){v.setFieldValue(g,[""]),m();return}i[i.length-1]!==""?v.setFieldValue(g,i.filter(function(c){return c!==""})):v.setFieldValue(g,[""])}m()},fe=function(i){i.forEach(function(g){v.setFieldValue(g.key,g.value)}),m()},re=function(){m()},J=We()(re,500),me=function(i){var g=(i==null?void 0:i.componentOptions)||{},l=g.width,s=l===void 0?"200px":l;return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(Je.Z,p()({allowClear:!0,style:{width:s},placeholder:"\u8BF7\u8F93\u5165",onBlur:function(C){return de(C,i.form.name)},onChange:function(C){return J(C)}},i.componentOptions))}))},se=function(i){return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(ee.Z,p()({allowClear:!0,showSearch:!0,placeholder:"\u8BF7\u9009\u62E9",style:{width:"200px"},optionFilterProp:"children",onChange:function(){return m()},filterOption:function(l,s){var c;return((c=s==null?void 0:s.label)!==null&&c!==void 0?c:"").includes(l)}},i.componentOptions))}))},he=function(i){return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(ee.Z,p()({showSearch:!0,placeholder:"\u8BF7\u9009\u62E9",optionFilterProp:"children",onChange:function(l){return ne(l,i.form.name,i.componentOptions.options)},filterOption:function(l,s){var c;return((c=s==null?void 0:s.label)!==null&&c!==void 0?c:"").includes(l)}},i.componentOptions))}))},Y=function(i){return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(ee.Z,p()({mode:"multiple",allowClear:!0,showSearch:!0,placeholder:"\u8BF7\u9009\u62E9",onChange:function(l){return m()},optionFilterProp:"children",filterOption:function(l,s){var c;return((c=s==null?void 0:s.label)!==null&&c!==void 0?c:"").includes(l)}},i.componentOptions))}))},ve=function(i){var g;return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(ee.Z,p()(p()({style:{width:"200px"}},i.componentOptions),{},{allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:!1,placeholder:"\u8BF7\u9009\u62E9",onChange:function(){return m()},notFoundContent:n[i.form.name]?(0,a.jsx)(Ne.Z,{size:"small"}):(0,a.jsx)(Be.Z,{image:Be.Z.PRESENTED_IMAGE_SIMPLE}),onSearch:function(s){return ie(i,s)},children:(g=R[i.form.name])===null||g===void 0?void 0:g.map(function(l){return(0,a.jsx)(qe,{value:l.value,label:l.label,children:(0,a.jsxs)("div",{className:"demo-option-label-item",children:[(0,a.jsx)("span",{role:"img","aria-label":"China",children:l.label}),l.user_id&&(0,a.jsxs)("span",{children:["\xA0\xA0\xA0",l.user_id]})]})})})}))}))},ae=function(i){return(0,a.jsx)(G.Z.Item,p()(p()({className:"layout"},i.form),{},{children:(0,a.jsx)(Ye,p()({style:{width:"200px"},onChange:function(l){return m()}},i.componentOptions))}))};return(0,a.jsx)("div",{className:"common-list-search-wrapper",children:(0,a.jsxs)(G.Z,{name:"basic",form:v,onFinish:m,children:[(0,a.jsx)("div",{className:"flex-start search-options",children:U.map(function(y){return(0,a.jsx)(a.Fragment,{children:I(y)})})}),(0,a.jsx)(Ae.Z,{}),(0,a.jsxs)("div",{className:"searchBtn layout-button flex-end",children:[W&&W.length>0&&W.map(function(y){return(0,a.jsx)("div",{className:"button",children:(0,a.jsx)($.ZP,p()(p()({},y),{},{children:y.label}))})}),!K&&(0,a.jsx)("div",{className:"button",children:(0,a.jsx)($.ZP,{className:"Bt-01",onClick:x,children:(0,a.jsx)(k.FormattedMessage,{id:"pages.reset"})})}),!H&&(0,a.jsx)("div",{className:"button",children:(0,a.jsx)($.ZP,{type:"primary",htmlType:"submit",children:(0,a.jsx)(k.FormattedMessage,{id:"pages.query"})})})]})]})})}var tt=(0,j.forwardRef)(et),Ze=d(84567),$e=d(61781),nt=d(59259),rt=d(86738),Se=d(78045),ke=d(29751),at=d(15611),le=null,ce=0,ot=null,we=[],ze=[];function Ke(f){var M=f.tableColumn,U=f.setTableColumn,W=f.columns,z=f.resetSetting,A=(0,j.useState)(!1),K=D()(A,2),H=K[0],Z=K[1],V=(0,j.useState)(1),R=D()(V,2),L=R[0],e=R[1],t=(0,j.useState)(!0),n=D()(t,2),o=n[0],r=n[1],u=(0,j.useState)(!1),v=D()(u,2),S=v[0],h=v[1],x=(0,j.useReducer)(function(l){return l+1},0),m=D()(x,2),F=m[1],E=(0,j.useRef)(null),N={1:(0,a.jsx)(k.FormattedMessage,{id:"pages.dashboard.selectDisplayColumn"}),2:(0,a.jsx)(k.FormattedMessage,{id:"pages.dashboard.dragDisplaysequence"})};(0,j.useEffect)(function(){re()},[M]);var I=[{label:(0,a.jsx)(k.FormattedMessage,{id:"pages.dashboard.showColumns"}),value:1},{label:(0,a.jsx)(k.FormattedMessage,{id:"pages.dashboard.sortColumns"}),value:2}],Q=function(){Z(!0)},ie=function(){de(M),U(q()(M)),Z(!1)},de=function(s){var c=window.location.pathname,C=s.map(function(O){return{status:O.status,key:O.key}});localStorage.setItem(c+"sort",JSON.stringify(C))},ne=function(){Z(!1)},fe=function(s){var c=s.target.value;console.log("radio3 checked",c),e(c)},re=function(){var s=M.filter(function(c){return c.status});r(!!s.length&&s.length<M.length),h(s.length===M.length)},J=function(s,c){var C=M.findIndex(function(O){return O.key===c});M[C].status=!M[C].status,re(),F()},me=function(s){var c=s.target.checked;r(!1),h(s.target.checked),M.forEach(function(C){C.status=!0,c||C.key!=="operator"&&(C.status=!1)}),F()},se=function(s){var c=s.target;c.style.opacity=".3",le=s.target,ce=s.clientX},he=function(s){var c=s.target;c.style.opacity="1",le=null;var C=s.target.closest(".item-drap-box");if(C){var O=Array.from(C.parentNode.children),_=(0,te.p$)(M).filter(function(P){return P.key!=="operator"&&!P.fixed});O.forEach(function(P,Ce){var ue=P.dataset.key,Ge=P.dataset.fixed,ye=_.findIndex(function(be){return be.key===ue}),Xe=_.splice(ye,1)[0];_.splice(Ce,0,Xe)}),Y(_,we,"left"),Y(_,ze,"right"),M=_}},Y=function(s,c,C){c.forEach(function(O){C==="left"?s.unshift(O):s.push(O)})},ve=function(s){s.preventDefault();try{var c=s.clientX,C=s.target.closest(".item-drap-box");if(!C)return;var O=C.parentNode;O.insertBefore(le,ce>c?C:C.nextSibling),ce=c}catch(_){console.log(_)}},ae=function(s){return we=s.filter(function(c){return c.fixed==="left"}),ze=s.filter(function(c){return c.fixed==="right"}),s.filter(function(c){return c.key!=="operator"&&!c.fixed})},y=function(){z(),Z(!1)},i=function(){return(0,a.jsxs)("div",{className:"icon-columns flex-start",children:[(0,a.jsx)("div",{className:"icon-columns-item",children:(0,a.jsx)(Ze.Z,{indeterminate:o,onChange:me,checked:S,children:(0,a.jsx)(k.FormattedMessage,{id:"pages.selectAll"})})}),ae(M).map(function(s,c){return(0,a.jsx)("div",{className:"icon-columns-item ",children:(0,a.jsx)($e.Z,{title:s.title,children:(0,a.jsx)(Ze.Z,{onChange:function(O){return J(O,s.key)},checked:s.status,children:(0,a.jsx)("div",{className:"icon-columns-item-title",children:s.title})})})},s.key)})]})},g=function(){return(0,a.jsx)("div",{className:"icon-columns flex-start",onDragOver:ve,children:ae(M).map(function(s,c){return(0,a.jsx)("div",{className:"icon-columns-item item-drap-box flex-start","data-key":s.key,draggable:"true",onDragStart:function(O){return se(O)},onDragEnd:he,ref:E,"data-fixed":s.fixed,onDrag:function(O){return O.preventDefault()},children:(0,a.jsxs)("div",{className:"icon-columns-item-sort flex-start",children:[(0,a.jsx)(ke.Z,{style:{fontSize:"16px"}}),(0,a.jsx)("div",{className:"sort-title",children:s.title})]})},s.key)})})};return(0,a.jsxs)("div",{className:"common-list-icon",children:[(0,a.jsx)($e.Z,{title:"\u683C\u5F0F\u5316\u8868\u683C\u5217",children:(0,a.jsx)($.ZP,{icon:(0,a.jsx)(at.Z,{style:{fontSize:"40px"}}),onClick:Q})}),(0,a.jsxs)(nt.Z,{title:N[L],className:"common-list-icon-model-table",style:{width:"100px"},mask:!1,open:H,footer:[(0,a.jsx)(rt.Z,{title:"\u786E\u5B9A\u91CD\u7F6E\u8BBE\u7F6E\u5417\uFF1F",onConfirm:y,children:(0,a.jsx)($.ZP,{danger:!0,children:"\u91CD\u7F6E\u8BBE\u7F6E"})}),(0,a.jsx)($.ZP,{onClick:ne,children:"\u53D6\u6D88"}),(0,a.jsx)($.ZP,{type:"primary",onClick:ie,children:"\u786E\u5B9A"})],onCancel:ne,children:[(0,a.jsx)("div",{className:"icon-radio",children:(0,a.jsx)(Se.ZP.Group,{options:I,onChange:fe,value:L,optionType:"button"})}),L===1?i():g()]})]})}var He=d(73255);function it(f){var M=(0,k.useIntl)(),U=f.handleRequestParams,W=f.columns,z=f.total,A=f.data,K=f.loading,H=f.current,Z=f.pageSize,V=f.rowSelection,R=f.rowKey,L=f.setCurrent,e=f.setLoading,t=f.setPageSize,n=f.showPagination,o={loading:K,scroll:{x:"max-content"}},r=function(h,x,m,F){var E=v(m),N=u(x),I=h.current,Q=h.pageSize;e(!0),L(I),t(Q),U(p()(p()(p()({},E),N),{},{current:I,pageSize:Q}))},u=function(h){var x=(0,te.p$)(h);for(var m in x)x.hasOwnProperty(m)&&x[m]&&(x[m]=JSON.stringify(x[m]));return x},v=function(h){var x=h.order,m=h.columnKey,F=null,E=m;switch(x){case"ascend":F=1;break;case"descend":F=0;break;default:E=""}return{column_name:E,order:F}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(He.Z,p()(p()({dataSource:A||[],columns:W.filter(function(S){return S.status}),bordered:!0},o),{},{rowSelection:V,rowKey:function(h,x){return R&&h!==null&&h!==void 0&&h[R]?h==null?void 0:h[R]:x},onChange:r,pagination:{position:["bottomRight"],size:"small",showQuickJumper:!0,defaultCurrent:1,total:z,pageSize:Z,current:H,showSizeChanger:!0,showTotal:function(h){return"".concat(M.formatMessage({id:"pages.tabTotal"})," ").concat(h," ").concat(M.formatMessage({id:"pages.tabItems"}))}}})),!(z>Z&&n)&&(0,a.jsx)("br",{})]})}function Ve(f,M){var U=f.getData,W=f.showTableFilter,z=f.columns,A=z===void 0?[]:z,K=f.searchButton,H=f.total,Z=f.data,V=f.pageSize,R=f.tableHeaderButtons,L=R===void 0?[]:R,e=f.searchOptions,t=e===void 0?[]:e,n=f.hasNavigation,o=n===void 0?!0:n,r=f.isInitLoad,u=r===void 0?!0:r,v=f.showPagination,S=v===void 0?!0:v,h=f.rowSelection,x=h===void 0?null:h,m=f.rowKey,F=m===void 0?void 0:m,E=f.leftButtons,N=E===void 0?[]:E,I=f.showIndex,Q=I===void 0?!0:I,ie=f.hideReset,de=ie===void 0?!1:ie,ne=f.hideSearchButton,fe=ne===void 0?!1:ne,re=f.indexConfig,J=re===void 0?{}:re,me=(0,j.useState)(!1),se=D()(me,2),he=se[0],Y=se[1],ve=(0,j.useState)(1),ae=D()(ve,2),y=ae[0],i=ae[1],g=(0,j.useState)(V||10),l=D()(g,2),s=l[0],c=l[1],C=L==null?void 0:L.slice(),O=(0,j.useReducer)(function(T){return T+1},0),_=D()(O,2),P=_[1],Ce=(0,j.useRef)(null),ue=(0,j.useRef)(!0),Ge=(0,j.useRef)(!1),ye=(0,j.useRef)(null),Xe=(0,j.useState)({current:y,pageSize:s}),be=D()(Xe,2),ge=be[0],st=be[1],ht=(0,j.useState)([]),ut=D()(ht,2),lt=ut[0],ct=ut[1];(0,j.useEffect)(function(){u||(ue.current=!1,P())},[]),(0,j.useImperativeHandle)(M,function(){return{update:yt,getQueryParams:wt,reset:bt,setField:Ot}}),(0,j.useEffect)(function(){pt()},[A]),(0,j.useEffect)(function(){t.length===0?Oe():Ge.current?gt():Ge.current=!0},[ge]);var vt=function(w){var B=w+(y-1)*s+1;return J.isIndexReverse&&(console.log(w),B=H-(w+(y-1)*s)),B},gt=function(){t.length===0||ue.current?Oe():setTimeout(function(){ue.current=!0},100)},pt=function(){var w=q()(A);Q&&w.unshift({title:J.title||(0,a.jsx)(k.FormattedMessage,{id:"pages.dashboard.number"}),dataIndex:"",key:"pageIndex",align:"center",width:70,render:function(je,Pt,Fe){var Pe=vt(Fe);return typeof J.content=="function"?J.content(Pe):Pe}});var B=window.location.pathname,b=St(localStorage.getItem(B+"sort"));b.length>0?b=xt(b,q()(w)):b=w.map(function(pe){return pe.status=!0,pe}),ct(b)},xt=function(w,B){for(var b=[],pe=function(){var Fe=w[je],Pe=Fe.status,Mt=Fe.key,Me=B.findIndex(function(Et){return Et.key===Mt});Me>=0&&(B[Me].status=Pe,b.push(B[Me]),B.splice(Me,1))},je=0;je<w.length;je++)pe();return[].concat(b,q()(B))},St=function(w){return w?JSON.parse(w):[]},wt=function(){return(0,te.j1)(p()({},ge))},Ct=function(){clearTimeout(Ce.current),Ce.current=setTimeout(oe()(X()().mark(function w(){return X()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,U((0,te.j1)(p()({},ge)));case 3:b.next=7;break;case 5:b.prev=5,b.t0=b.catch(0);case 7:return b.prev=7,Y(!1),b.finish(7);case 10:case"end":return b.stop()}},w,null,[[0,5,7,10]])})),500)},Oe=function(){var T=oe()(X()().mark(function w(){return X()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,Y(!0),b.next=4,Ct();case 4:b.next=9;break;case 6:b.prev=6,b.t0=b.catch(0),console.log(b.t0);case 9:case"end":return b.stop()}},w,null,[[0,6]])}));return function(){return T.apply(this,arguments)}}(),yt=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w.current>0&&i(w.current),st(p()(p()({},ge),w))},dt=function(w){st(p()(p()({},ge),w))},bt=function(){},Ot=function(w){ye.current.setField(w)},jt=function(){var w=window.location.pathname;localStorage.removeItem(w+"sort"),location.reload()},ft=function(){return(0,a.jsxs)("div",{className:"common-list-wrapper",children:[t.length>0&&(0,a.jsx)(tt,{searchOptions:t,search:Oe,searchButton:K,handleRequestParams:dt,setCurrent:i,hideReset:de,ref:ye,hideSearchButton:fe}),ue.current&&(0,a.jsxs)("div",{className:"common-list-content",children:[(0,a.jsx)("div",{className:"common-list-content-extends",children:f.children}),(0,a.jsxs)("div",{className:"common-list-context-header flex-space-between",children:[(0,a.jsxs)("div",{className:"flex-start",children:[A.length>0&&W&&(0,a.jsx)(Ke,{tableColumn:lt,setTableColumn:ct,resetSetting:jt}),N.map(function(w,B){return(0,a.jsx)($.ZP,p()(p()({},w),{},{style:{marginLeft:"20px"},children:w.label}))})]}),(0,a.jsx)("div",{className:"common-list-button",children:C.map(function(w,B){return(0,a.jsx)($.ZP,p()(p()({},w),{},{style:{marginLeft:"20px"},children:w.label}))})})]}),(0,a.jsx)(it,{data:Z,columns:lt,total:H,loading:he,current:y,pageSize:s,setCurrent:i,setLoading:Y,setPageSize:c,handleRequestParams:dt,showPagination:S,rowSelection:x,rowKey:F})]})]})},Ft=function(){var w=o?(0,a.jsx)(xe._z,{children:ft()}):(0,a.jsx)(a.Fragment,{children:ft()});return w};return(0,a.jsx)(a.Fragment,{children:Ft()})}var Qe=(0,j.forwardRef)(Ve)},24654:function(){}}]);
